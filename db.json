{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":0,"renderable":0},{"_id":"themes/next_plus/source/404.html","path":"404.html","modified":0,"renderable":1},{"_id":"source/photos/assets/empty.png","path":"photos/assets/empty.png","modified":0,"renderable":0},{"_id":"source/photos/default-skin/default-skin.png","path":"photos/default-skin/default-skin.png","modified":0,"renderable":0},{"_id":"source/photos/default-skin/default-skin.svg","path":"photos/default-skin/default-skin.svg","modified":0,"renderable":0},{"_id":"source/photos/default-skin/preloader.gif","path":"photos/default-skin/preloader.gif","modified":0,"renderable":0},{"_id":"themes/next_plus/source/css/main.styl","path":"css/main.styl","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/alipay.jpeg","path":"images/alipay.jpeg","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/avatar.gif","path":"images/avatar.gif","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/blockquote.png","path":"images/blockquote.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/blockquote_demo.png","path":"images/blockquote_demo.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/blockquote_demo1.png","path":"images/blockquote_demo1.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/cc-by.svg","path":"images/cc-by.svg","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/codeblock.png","path":"images/codeblock.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/codeblockdemo.png","path":"images/codeblockdemo.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/codeblockdemo1.png","path":"images/codeblockdemo1.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/default_avatar.jpg","path":"images/default_avatar.jpg","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/favicon.ico","path":"images/favicon.ico","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/gist.png","path":"images/gist.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/iframe.png","path":"images/iframe.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/image.png","path":"images/image.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/include.png","path":"images/include.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/include_assets.png","path":"images/include_assets.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/include_post.png","path":"images/include_post.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/jsfiddle.png","path":"images/jsfiddle.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/link.png","path":"images/link.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/loading.gif","path":"images/loading.gif","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/placeholder.gif","path":"images/placeholder.gif","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/pullquote.png","path":"images/pullquote.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/quote-l.svg","path":"images/quote-l.svg","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/quote-r.svg","path":"images/quote-r.svg","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/raw.png","path":"images/raw.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/searchicon.png","path":"images/searchicon.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/vimeo.png","path":"images/vimeo.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/youtube.png","path":"images/youtube.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/imgs/bg.jpg","path":"imgs/bg.jpg","modified":0,"renderable":1},{"_id":"themes/next_plus/source/imgs/body_bg.jpeg","path":"imgs/body_bg.jpeg","modified":0,"renderable":1},{"_id":"themes/next_plus/source/imgs/eg_arrow.gif","path":"imgs/eg_arrow.gif","modified":0,"renderable":1},{"_id":"themes/next_plus/source/images/weixinpay.jpeg","path":"images/weixinpay.jpeg","modified":0,"renderable":1},{"_id":"themes/next_plus/source/imgs/bg2.jpg","path":"imgs/bg2.jpg","modified":0,"renderable":1},{"_id":"themes/next_plus/source/imgs/blog4/img1.png","path":"imgs/blog4/img1.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/imgs/blog4/img2.png","path":"imgs/blog4/img2.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/imgs/blog4/img3.png","path":"imgs/blog4/img3.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/imgs/blog4/img4.png","path":"imgs/blog4/img4.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/imgs/blog4/img5.png","path":"imgs/blog4/img5.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/imgs/blog4/img6.png","path":"imgs/blog4/img6.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/imgs/blog4/img7.png","path":"imgs/blog4/img7.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/imgs/blog4/img8.png","path":"imgs/blog4/img8.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/imgs/blog4/img9.png","path":"imgs/blog4/img9.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/imgs/blog6/img1.png","path":"imgs/blog6/img1.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/imgs/blog7/img2.png","path":"imgs/blog7/img2.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/imgs/blog7/img3.png","path":"imgs/blog7/img3.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/imgs/blog7/img4.png","path":"imgs/blog7/img4.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/imgs/blog7/img5.png","path":"imgs/blog7/img5.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/imgs/blog7/img6.png","path":"imgs/blog7/img6.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/js/src/affix.js","path":"js/src/affix.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/js/src/algolia-search.js","path":"js/src/algolia-search.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/js/src/bootstrap.js","path":"js/src/bootstrap.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/js/src/exturl.js","path":"js/src/exturl.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/js/src/hook-duoshuo.js","path":"js/src/hook-duoshuo.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/js/src/js.cookie.js","path":"js/src/js.cookie.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/js/src/motion.js","path":"js/src/motion.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/js/src/photoswipe-ui-default.min.js","path":"js/src/photoswipe-ui-default.min.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/js/src/photoswipe.min.js","path":"js/src/photoswipe.min.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/js/src/post-details.js","path":"js/src/post-details.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/js/src/scroll-cookie.js","path":"js/src/scroll-cookie.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/js/src/scrollspy.js","path":"js/src/scrollspy.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/js/src/utils.js","path":"js/src/utils.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/algolia-instant-search/instantsearch.min.css","path":"lib/algolia-instant-search/instantsearch.min.css","modified":0,"renderable":1},{"_id":"themes/next_plus/source/js/src/uyan.js","path":"js/src/uyan.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/canvas-nest/canvas-nest.min.js","path":"lib/canvas-nest/canvas-nest.min.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/canvas-ribbon/canvas-ribbon.js","path":"lib/canvas-ribbon/canvas-ribbon.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/fastclick/LICENSE","path":"lib/fastclick/LICENSE","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/fastclick/README.md","path":"lib/fastclick/README.md","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/fastclick/bower.json","path":"lib/fastclick/bower.json","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/font-awesome/HELP-US-OUT.txt","path":"lib/font-awesome/HELP-US-OUT.txt","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/font-awesome/bower.json","path":"lib/font-awesome/bower.json","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/jquery_lazyload/CONTRIBUTING.md","path":"lib/jquery_lazyload/CONTRIBUTING.md","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/jquery_lazyload/README.md","path":"lib/jquery_lazyload/README.md","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/jquery_lazyload/bower.json","path":"lib/jquery_lazyload/bower.json","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/jquery_lazyload/jquery.lazyload.js","path":"lib/jquery_lazyload/jquery.lazyload.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/jquery_lazyload/jquery.scrollstop.js","path":"lib/jquery_lazyload/jquery.scrollstop.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/pace/pace-theme-barber-shop.min.css","path":"lib/pace/pace-theme-barber-shop.min.css","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/pace/pace-theme-big-counter.min.css","path":"lib/pace/pace-theme-big-counter.min.css","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/pace/pace-theme-bounce.min.css","path":"lib/pace/pace-theme-bounce.min.css","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/pace/pace-theme-center-atom.min.css","path":"lib/pace/pace-theme-center-atom.min.css","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/pace/pace-theme-center-circle.min.css","path":"lib/pace/pace-theme-center-circle.min.css","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/pace/pace-theme-center-radar.min.css","path":"lib/pace/pace-theme-center-radar.min.css","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/pace/pace-theme-center-simple.min.css","path":"lib/pace/pace-theme-center-simple.min.css","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/pace/pace-theme-corner-indicator.min.css","path":"lib/pace/pace-theme-corner-indicator.min.css","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/pace/pace-theme-fill-left.min.css","path":"lib/pace/pace-theme-fill-left.min.css","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/pace/pace-theme-flash.min.css","path":"lib/pace/pace-theme-flash.min.css","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/pace/pace-theme-loading-bar.min.css","path":"lib/pace/pace-theme-loading-bar.min.css","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/pace/pace-theme-mac-osx.min.css","path":"lib/pace/pace-theme-mac-osx.min.css","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/pace/pace-theme-minimal.min.css","path":"lib/pace/pace-theme-minimal.min.css","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/pace/pace.min.js","path":"lib/pace/pace.min.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/three/canvas_lines.min.js","path":"lib/three/canvas_lines.min.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/three/canvas_sphere.min.js","path":"lib/three/canvas_sphere.min.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/three/three-waves.min.js","path":"lib/three/three-waves.min.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/velocity/bower.json","path":"lib/velocity/bower.json","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/velocity/velocity.ui.js","path":"lib/velocity/velocity.ui.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/imgs/blog7/img1.png","path":"imgs/blog7/img1.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/jquery/index.js","path":"lib/jquery/index.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/Han/dist/han.css","path":"lib/Han/dist/han.css","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/Han/dist/han.min.css","path":"lib/Han/dist/han.min.css","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/Han/dist/han.min.js","path":"lib/Han/dist/han.min.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/js/src/particles.js","path":"js/src/particles.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/js/src/schemes/pisces.js","path":"js/src/schemes/pisces.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/fancybox/source/blank.gif","path":"lib/fancybox/source/blank.gif","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/fancybox/source/fancybox_loading.gif","path":"lib/fancybox/source/fancybox_loading.gif","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/fancybox/source/fancybox_loading@2x.gif","path":"lib/fancybox/source/fancybox_loading@2x.gif","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/fancybox/source/fancybox_overlay.png","path":"lib/fancybox/source/fancybox_overlay.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/fancybox/source/fancybox_sprite.png","path":"lib/fancybox/source/fancybox_sprite.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/fancybox/source/fancybox_sprite@2x.png","path":"lib/fancybox/source/fancybox_sprite@2x.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/fancybox/source/jquery.fancybox.css","path":"lib/fancybox/source/jquery.fancybox.css","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/fancybox/source/jquery.fancybox.pack.js","path":"lib/fancybox/source/jquery.fancybox.pack.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/fancybox/source/jquery.fancybox.js","path":"lib/fancybox/source/jquery.fancybox.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/fastclick/lib/fastclick.js","path":"lib/fastclick/lib/fastclick.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/fastclick/lib/fastclick.min.js","path":"lib/fastclick/lib/fastclick.min.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/font-awesome/css/font-awesome.css","path":"lib/font-awesome/css/font-awesome.css","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/font-awesome/css/font-awesome.css.map","path":"lib/font-awesome/css/font-awesome.css.map","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/font-awesome/css/font-awesome.min.css","path":"lib/font-awesome/css/font-awesome.min.css","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/ua-parser-js/dist/ua-parser.min.js","path":"lib/ua-parser-js/dist/ua-parser.min.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/ua-parser-js/dist/ua-parser.pack.js","path":"lib/ua-parser-js/dist/ua-parser.pack.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/Han/dist/han.js","path":"lib/Han/dist/han.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/font-awesome/fonts/fontawesome-webfont.woff","path":"lib/font-awesome/fonts/fontawesome-webfont.woff","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","path":"lib/font-awesome/fonts/fontawesome-webfont.woff2","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/velocity/velocity.js","path":"lib/velocity/velocity.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/Han/dist/font/han-space.otf","path":"lib/Han/dist/font/han-space.otf","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/Han/dist/font/han-space.woff","path":"lib/Han/dist/font/han-space.woff","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/Han/dist/font/han.otf","path":"lib/Han/dist/font/han.otf","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/Han/dist/font/han.woff","path":"lib/Han/dist/font/han.woff","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/Han/dist/font/han.woff2","path":"lib/Han/dist/font/han.woff2","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/fancybox/source/helpers/fancybox_buttons.png","path":"lib/fancybox/source/helpers/fancybox_buttons.png","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.css","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","path":"lib/fancybox/source/helpers/jquery.fancybox-media.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/font-awesome/fonts/FontAwesome.otf","path":"lib/font-awesome/fonts/FontAwesome.otf","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/font-awesome/fonts/fontawesome-webfont.eot","path":"lib/font-awesome/fonts/fontawesome-webfont.eot","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","path":"lib/font-awesome/fonts/fontawesome-webfont.ttf","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/algolia-instant-search/instantsearch.min.js","path":"lib/algolia-instant-search/instantsearch.min.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/three/three.min.js","path":"lib/three/three.min.js","modified":0,"renderable":1},{"_id":"themes/next_plus/source/lib/font-awesome/fonts/fontawesome-webfont.svg","path":"lib/font-awesome/fonts/fontawesome-webfont.svg","modified":0,"renderable":1}],"Cache":[{"_id":"source/CNAME","hash":"a31521278cef5f0b1e77851b4131d49bc50194e1","modified":1525240501743},{"_id":"themes/next_plus/.bowerrc","hash":"3228a58ed0ece9f85e1e3136352094080b8dece1","modified":1525240501790},{"_id":"themes/next_plus/.editorconfig","hash":"792fd2bd8174ece1a75d5fd24ab16594886f3a7f","modified":1525240501790},{"_id":"themes/next_plus/.hound.yml","hash":"b76daa84c9ca3ad292c78412603370a367cc2bc3","modified":1525240501790},{"_id":"themes/next_plus/.javascript_ignore","hash":"8a224b381155f10e6eb132a4d815c5b52962a9d1","modified":1525240501791},{"_id":"themes/next_plus/.jshintrc","hash":"9928f81bd822f6a8d67fdbc909b517178533bca9","modified":1525240501791},{"_id":"themes/next_plus/.stylintrc","hash":"b28e24704a5d8de08346c45286574c8e76cc109f","modified":1525240501791},{"_id":"themes/next_plus/.travis.yml","hash":"d60d4a5375fea23d53b2156b764a99b2e56fa660","modified":1525240501791},{"_id":"themes/next_plus/LICENSE","hash":"f293bcfcdc06c0b77ba13570bb8af55eb5c059fd","modified":1525240501792},{"_id":"themes/next_plus/README.cn.md","hash":"6d9177e7dad87e6129760e4b559bd3f7a15429d7","modified":1525240501792},{"_id":"themes/next_plus/_config.yml","hash":"feefd46368c0043544f415da7a79243a9b4f0f88","modified":1527059810389},{"_id":"themes/next_plus/README.md","hash":"950ca6e9c0fa607d290a5b1fd883df44725b36b2","modified":1525240501793},{"_id":"themes/next_plus/bower.json","hash":"7d7938f9da896fe710aa0e9120140e528bf058df","modified":1525240501798},{"_id":"themes/next_plus/gulpfile.coffee","hash":"031bffc483e417b20e90eceb6cf358e7596d2e69","modified":1525240501798},{"_id":"themes/next_plus/package.json","hash":"193dad6f59a588908fac082cc46fe067dac1b84d","modified":1525240501891},{"_id":"source/_posts/Android-Toast-类分装.md","hash":"1ee6d6bd789451d668d95633fe89fe99a687a0bb","modified":1525240501744},{"_id":"source/_posts/Android-开发-自定义跑马灯-TextView.md","hash":"ccfc6ae35cf85ea9ce898832556e4339ba520c68","modified":1525240501745},{"_id":"source/_posts/Android-获取当前网络连接类型.md","hash":"551a883bdac517a7cf04fbd3e6f5d4e233127409","modified":1525240501745},{"_id":"source/_posts/CSS实现单行多行文本溢出显示省略号(...).md","hash":"92b94d71ce957f15e48ce16cd3402482e9fc7dd7","modified":1525240501745},{"_id":"source/_posts/Geektool-使用-python-beautiful-实现抓取天气图标.md","hash":"8680417555ae8a42e4e4bbe102bf869c78311906","modified":1525755912254},{"_id":"source/_posts/Geektool-使用-python-抓取天气显示.md","hash":"37bc0207325b44da75ccad535a53be7ca0b2af8d","modified":1525755906450},{"_id":"source/_posts/Hexo-NexT-博客搭建相册-一.md","hash":"ed2a6aa78b2e051ecc06c51f14dce7dca420fb66","modified":1525240501746},{"_id":"source/_posts/Hexo-NexT-博客搭建相册-二.md","hash":"ce4e4ad3576bf44d23be20ee0e2f6f9b0950df16","modified":1525240501746},{"_id":"source/_posts/Hexo-NexT-增加精品文章方法.md","hash":"014cdddcbf4cdd003504d683b906efe484ae13b8","modified":1525240501746},{"_id":"source/_posts/Hexo博客添加文章置顶功能.md","hash":"1645d611f32919a8585cb11f9e899da03e6dcd8d","modified":1525240501747},{"_id":"source/_posts/Hexo的版本控制与持续集成.md","hash":"b0646424c87704f610b656d87367753cfe46df3a","modified":1525240501747},{"_id":"source/_posts/Html5-新元素.md","hash":"d9075345679f2f38c9699ec7492015ea7bf4046a","modified":1525240501747},{"_id":"source/_posts/Identifiers-must-have-user-defined-types-from-the-XML-file-View-is-missing.md","hash":"f1a845b63be96e2006fcf99f093eb269b4ad943b","modified":1526631330979},{"_id":"source/_posts/Mac-下配置多个-ssh.md","hash":"5d1d6f2d6c258eed6d855be32248eea4c37d85a9","modified":1525240501748},{"_id":"source/_posts/appveyor-自动化构建-hexo-博客失败.md","hash":"a8b8c2d2a84b5f95385f4a975d43912f4556404e","modified":1525670407182},{"_id":"source/_posts/github-上传代码-菜鸟超详细教程.md","hash":"4ae4aaaf148c9199c6d5f10c3066d8ceeac821d0","modified":1525240501748},{"_id":"source/_posts/git怎样删除未监视的文件untracked-files.md","hash":"5035b604707218e53b38c465c8dd21c7c382c467","modified":1525240501748},{"_id":"source/_posts/hexo-创建文章-demo.md","hash":"93d5f1f83cf50fef32b994b7761a69f179350c44","modified":1525240501748},{"_id":"source/_posts/jQuery选择器和选取方法-二.md","hash":"a1ecbf6ff206177c7d03cb180fcee6f2be7cc88a","modified":1525240501749},{"_id":"source/_posts/jQuery选择器和选取方法.md","hash":"b97813f26f7e1904e082ce13dde88612266a01cf","modified":1525240501749},{"_id":"source/_posts/js-正则判断是否是手机号.md","hash":"2c3aed05c269fb14268b1978c5d760ead3c656ca","modified":1525240501749},{"_id":"source/_posts/python-冒泡排序.md","hash":"ee932142525ab5118616e6a77c293f4d729cf62a","modified":1525240501749},{"_id":"source/_posts/七阶魔方中心块合并公式-含五阶魔方.md","hash":"98366aeca8f091aa0445bdfd93a12972ae88d866","modified":1525240501750},{"_id":"source/_posts/六一儿童节.md","hash":"5d3eec823e2b03e2f32d360ea76ad24b20e8679e","modified":1525240501750},{"_id":"source/_posts/关于用-hexo-d-失败的解决方法.md","hash":"06c85b3540237b4c0ec7c16ad60b824b2e271e42","modified":1525240501750},{"_id":"source/_posts/搬家.md","hash":"6f78f19f1d35379f8462f6ad1676c5205b320c15","modified":1525240501750},{"_id":"source/_posts/杂想.md","hash":"9b3b7bda8dfdc0b90e07e8f3f225b4dad460e307","modified":1525240501751},{"_id":"source/_posts/热修复方案设计文档.md","hash":"409b10ac8b3b5e1538253eb9a56527aa947130d2","modified":1525758751949},{"_id":"source/_posts/自定义view-之激活码验证码输入框.md","hash":"ca23fcb307fa758500ccf370e06a0c804d29a6a0","modified":1525755868624},{"_id":"source/about/index.md","hash":"3c39a7688f4b3855a4cf3ca0c5c79b515978e3d6","modified":1526274558659},{"_id":"source/categories/index.md","hash":"75e0773f13a20791b253f2cf22a92d31b71f98e2","modified":1525240501751},{"_id":"source/schedule/index.md","hash":"de36931a7691fedb2f1a2cb2c87cab18747ab85f","modified":1527053563618},{"_id":"source/photos/data.json","hash":"f7b1349760cd56f9a5aab93d594d5924e3af4099","modified":1526631416992},{"_id":"source/photos/index.md","hash":"70bd269cfc9ebe9f5134991711def3b0b7545e1d","modified":1525240501753},{"_id":"source/photos/ins.css","hash":"ff1eb6c8f80a73db870c84a6ca6f6cc127ab533c","modified":1525240501753},{"_id":"source/photos/photoswipe.css","hash":"a31fa495095783ef5a84ba4dba0bd6f7de3b07ea","modified":1525240501754},{"_id":"source/photos/ins.js","hash":"d7c529bc4245cd109810398a728c0dcc25562c36","modified":1525240501753},{"_id":"source/tags/index.md","hash":"659f13545c630aaaf6c5315c2ed6c82df389e194","modified":1525240501754},{"_id":"themes/next_plus/languages/de.yml","hash":"057e7df11ddeb1c8c15a5d7c5ff29430d725ec6b","modified":1525240501799},{"_id":"themes/next_plus/languages/default.yml","hash":"44ef3f26917f467459326c2c8be2f73e4d947f35","modified":1525240501801},{"_id":"themes/next_plus/languages/en.yml","hash":"44ef3f26917f467459326c2c8be2f73e4d947f35","modified":1525240501801},{"_id":"themes/next_plus/languages/fr-FR.yml","hash":"7e4eb7011b8feee641cfb11c6e73180b0ded1c0f","modified":1525240501804},{"_id":"themes/next_plus/languages/id.yml","hash":"b5de1ea66dd9ef54cac9a1440eaa4e3f5fc011f5","modified":1525240501805},{"_id":"themes/next_plus/languages/it.yml","hash":"aa595f2bda029f73ef7bfa104b4c55c3f4e9fb4c","modified":1525240501805},{"_id":"themes/next_plus/languages/ja.yml","hash":"3c76e16fd19b262864475faa6854b718bc08c4d8","modified":1525240501805},{"_id":"themes/next_plus/languages/pt-BR.yml","hash":"b1694ae766ed90277bcc4daca4b1cfa19cdcb72b","modified":1525240501806},{"_id":"themes/next_plus/languages/ko.yml","hash":"ea5b46056e73ebcee121d5551627af35cbffc900","modified":1525240501805},{"_id":"themes/next_plus/languages/pt.yml","hash":"44b61f2d085b827b507909a0b8f8ce31c6ef5d04","modified":1525240501806},{"_id":"themes/next_plus/languages/ru.yml","hash":"98ec6f0b7183282e11cffc7ff586ceb82400dd75","modified":1525240501806},{"_id":"themes/next_plus/languages/zh-Hans.yml","hash":"0f3f2659716b2271c1888dfcb28f35a72daf483b","modified":1525240501852},{"_id":"themes/next_plus/languages/zh-hk.yml","hash":"2ef272bcb1f325480f59f1e2ab95584de3c6b8da","modified":1525240501852},{"_id":"themes/next_plus/languages/zh-tw.yml","hash":"c53941a2eaac8e3a2f8dacc73ed555d3c6c5bd59","modified":1525240501852},{"_id":"themes/next_plus/layout/_layout.swig","hash":"7447f405cd70d9b63e61be0732d8757a796b4ee1","modified":1527053623876},{"_id":"themes/next_plus/layout/archive.swig","hash":"f0a8225feafd971419837cdb4bcfec98a4a59b2f","modified":1525240501889},{"_id":"themes/next_plus/layout/category.swig","hash":"4472255f4a3e3dd6d79201523a9526dcabdfbf18","modified":1525240501889},{"_id":"themes/next_plus/layout/index.swig","hash":"783611349c941848a0e26ee2f1dc44dd14879bd1","modified":1525240501889},{"_id":"themes/next_plus/layout/page.swig","hash":"b1d4d0b997f979be617885eeea517c50af7abce7","modified":1527053539295},{"_id":"themes/next_plus/layout/photo.swig","hash":"626e233bfb8613c21514b3aabeaa7c9642ef1edc","modified":1525240501890},{"_id":"themes/next_plus/layout/post.swig","hash":"2d5f8d7f0a96b611e2d5a5e4d111fc17726a990f","modified":1525240501890},{"_id":"themes/next_plus/layout/schedule.swig","hash":"d86f8de4e118f8c4d778b285c140474084a271db","modified":1527043499071},{"_id":"themes/next_plus/layout/tag.swig","hash":"7e0a7d7d832883eddb1297483ad22c184e4368de","modified":1527052699993},{"_id":"themes/next_plus/scripts/merge-configs.js","hash":"cb617ddf692f56e6b6129564d52e302f50b28243","modified":1525240501891},{"_id":"themes/next_plus/scripts/merge.js","hash":"9130dabe6a674c54b535f322b17d75fe6081472f","modified":1525240501892},{"_id":"themes/next_plus/source/404.html","hash":"61ba70e9894f899fc8878215b5677004edb32f12","modified":1525240501895},{"_id":"themes/next_plus/test/.jshintrc","hash":"19f93d13d1689fe033c82eb2d5f3ce30b6543cc0","modified":1525240501966},{"_id":"themes/next_plus/test/helpers.js","hash":"a1f5de25154c3724ffc24a91ddc576cdbd60864f","modified":1525240501966},{"_id":"themes/next_plus/test/intern.js","hash":"11fa8a4f5c3b4119a179ae0a2584c8187f907a73","modified":1525240501966},{"_id":"themes/next_plus/source/fonts/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1525240501922},{"_id":"source/photos/assets/empty.png","hash":"eb4025983c8b24539bb70db4b9b3e8d0a092ee61","modified":1525240501752},{"_id":"source/photos/default-skin/default-skin.css","hash":"5763bd1a8015774f37215359bfcb5edd65d198a6","modified":1525240501752},{"_id":"source/photos/default-skin/default-skin.png","hash":"ed95a8e40a2c3478c5915376acb8e5f33677f24d","modified":1525240501752},{"_id":"source/photos/default-skin/default-skin.svg","hash":"2ac727c9e092331d35cce95af209ccfac6d4c7c7","modified":1525240501753},{"_id":"source/photos/default-skin/preloader.gif","hash":"6342367c93c82da1b9c620e97c84a389cc43d96d","modified":1525240501753},{"_id":"themes/next_plus/layout/_custom/header.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1525240501853},{"_id":"themes/next_plus/layout/_custom/sidebar.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1525240501853},{"_id":"themes/next_plus/layout/_macro/post-collapse.swig","hash":"31322a7f57936cf2dc62e824af5490da5354cf02","modified":1525240501854},{"_id":"themes/next_plus/layout/_macro/post-copyright.swig","hash":"53d4f83b2b7fb4387dfc9fe81519abd56fbce4ae","modified":1525240501854},{"_id":"themes/next_plus/layout/_macro/post.swig","hash":"57baa235c45d9789043b0d42069df8d428503897","modified":1525240501855},{"_id":"themes/next_plus/layout/_macro/reward.swig","hash":"56e8d8556cf474c56ae1bef9cb7bbd26554adb07","modified":1525240501872},{"_id":"themes/next_plus/layout/_macro/sidebar.swig","hash":"3e01900762d889a04379abba37b419972e366698","modified":1525240501872},{"_id":"themes/next_plus/layout/_macro/wechat-subscriber.swig","hash":"39852700e4084ecccffa6d4669168e5cc0514c9e","modified":1525240501873},{"_id":"themes/next_plus/layout/_partials/comments.swig","hash":"010ef8c42d2e1a95abc60caf757293ca8eb4a68b","modified":1525240501873},{"_id":"themes/next_plus/layout/_partials/footer.swig","hash":"b95ea70a4c64a419f33ba449ddfc78c53b0cae4f","modified":1525240501874},{"_id":"themes/next_plus/layout/_partials/head.swig","hash":"a9bb1b13eeb6acd36b89eec5982269a7f2e5daa4","modified":1525240501874},{"_id":"themes/next_plus/layout/_partials/header.swig","hash":"ed042be6252848058c90109236ec988e392d91d4","modified":1525240501875},{"_id":"themes/next_plus/layout/_partials/page-header.swig","hash":"1efd925d34a5d4ba2dc0838d9c86ba911e705fc9","modified":1525240501875},{"_id":"themes/next_plus/layout/_partials/pagination.swig","hash":"9e8e21d194ef44d271b1cca0bc1448c14d7edf4f","modified":1525240501875},{"_id":"themes/next_plus/layout/_partials/search.swig","hash":"9dbd378e94abfcb3f864a5b8dbbf18d212ca2ee0","modified":1525240501876},{"_id":"themes/next_plus/layout/_scripts/boostrap.swig","hash":"03aaebe9d50f6acb007ec38cc04acd1cfceb404d","modified":1525240501878},{"_id":"themes/next_plus/layout/_scripts/commons.swig","hash":"766b2bdda29523ed6cd8d7aa197f996022f8fd94","modified":1525240501878},{"_id":"themes/next_plus/layout/_scripts/vendors.swig","hash":"9baf90f7c40b3b10f288e9268c3191e895890cea","modified":1525240501880},{"_id":"themes/next_plus/layout/_third-party/duoshuo-hot-articles.swig","hash":"5d4638c46aef65bf32a01681495b62416ccc98db","modified":1525240501886},{"_id":"themes/next_plus/layout/_third-party/exturl.swig","hash":"7c04a42319d728be356746363aff8ea247791d24","modified":1525240501887},{"_id":"themes/next_plus/layout/_third-party/mathjax.swig","hash":"6d25596d6a7c57700d37b607f8d9a62d89708683","modified":1525240501887},{"_id":"themes/next_plus/layout/_third-party/rating.swig","hash":"fc93b1a7e6aed0dddb1f3910142b48d8ab61174e","modified":1525240501887},{"_id":"themes/next_plus/layout/_third-party/schedule.swig","hash":"22369026c87fc23893c35a7f250b42f3bb1b60f1","modified":1527052699992},{"_id":"themes/next_plus/layout/_third-party/scroll-cookie.swig","hash":"1ddb2336a1a19b47af3017047012c01ec5f54529","modified":1525240501888},{"_id":"themes/next_plus/scripts/tags/button.js","hash":"62e6dbeb53d07627a048132c79630b45d9a8f2cc","modified":1525240501892},{"_id":"themes/next_plus/scripts/tags/center-quote.js","hash":"535fc542781021c4326dec24d8495cbb1387634a","modified":1525240501893},{"_id":"themes/next_plus/scripts/tags/exturl.js","hash":"8d7e60f60779bde050d20fd76f6fdc36fc85e06d","modified":1525240501893},{"_id":"themes/next_plus/scripts/tags/full-image.js","hash":"8eeb3fb89540299bdbb799edfdfdac3743b50596","modified":1525240501893},{"_id":"themes/next_plus/scripts/tags/group-pictures.js","hash":"49252824cd53184dc9b97b2f2d87ff28e1b3ef27","modified":1525240501893},{"_id":"themes/next_plus/scripts/tags/label.js","hash":"2f8f41a7316372f0d1ed6b51190dc4acd3e16fff","modified":1525240501894},{"_id":"themes/next_plus/scripts/tags/lazy-image.js","hash":"eeeabede68cf263de9e6593ecf682f620da16f0a","modified":1525240501894},{"_id":"themes/next_plus/scripts/tags/note.js","hash":"64de4e9d01cf3b491ffc7d53afdf148ee5ad9779","modified":1525240501894},{"_id":"themes/next_plus/scripts/tags/tabs.js","hash":"5786545d51c38e8ca38d1bfc7dd9e946fc70a316","modified":1525240501894},{"_id":"themes/next_plus/source/css/main.styl","hash":"3a8d48d46f1a5f22b25102b8d1ecfd07ced9635c","modified":1525240501921},{"_id":"themes/next_plus/source/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1525240501922},{"_id":"themes/next_plus/source/images/alipay.jpeg","hash":"1139effc77d1232b557da7da4b958292e2d11bc7","modified":1525240501922},{"_id":"themes/next_plus/source/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1525240501922},{"_id":"themes/next_plus/source/images/blockquote.png","hash":"1ccd95e7287d95b4b7a5283d1e002c291ada1cbd","modified":1525240501923},{"_id":"themes/next_plus/source/images/blockquote_demo.png","hash":"68ba706e0df79fd84e871d23b49e49eb558a7976","modified":1525240501923},{"_id":"themes/next_plus/source/images/blockquote_demo1.png","hash":"a50f8d6789eea3682420294555a35afaadfe3df4","modified":1525240501924},{"_id":"themes/next_plus/source/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1525240501924},{"_id":"themes/next_plus/source/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1525240501924},{"_id":"themes/next_plus/source/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1525240501925},{"_id":"themes/next_plus/source/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1525240501925},{"_id":"themes/next_plus/source/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1525240501925},{"_id":"themes/next_plus/source/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1525240501925},{"_id":"themes/next_plus/source/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1525240501926},{"_id":"themes/next_plus/source/images/codeblock.png","hash":"f0da4418a08363e69a0823b75b281701821183c8","modified":1525240501926},{"_id":"themes/next_plus/source/images/codeblockdemo.png","hash":"757b6e883d5d791c1c6fb2e0f272fda10d41dbb9","modified":1525240501926},{"_id":"themes/next_plus/source/images/codeblockdemo1.png","hash":"3069da3050912de970eac28454f4f03d70859955","modified":1525240501927},{"_id":"themes/next_plus/source/images/default_avatar.jpg","hash":"b22843ec26f6bd109921cf719c004a81445a2210","modified":1525240501927},{"_id":"themes/next_plus/source/images/favicon.ico","hash":"5c4267c22b948f595018a1908db79b7e5daa184a","modified":1525240501928},{"_id":"themes/next_plus/source/images/gist.png","hash":"9641ad72a73cca05dcc4d68e78202fd24d64e106","modified":1525240501928},{"_id":"themes/next_plus/source/images/iframe.png","hash":"24aa0aec36102dedbe7243cb11a815501b038046","modified":1525240501928},{"_id":"themes/next_plus/source/images/image.png","hash":"ad199600620b9d48bc74f59b8621e1d435c8b596","modified":1525240501928},{"_id":"themes/next_plus/source/images/include.png","hash":"5d7f289d16e9ebbf520b937e9923a2fd4d9c9672","modified":1525240501928},{"_id":"themes/next_plus/source/images/include_assets.png","hash":"85a5dc7874555f64904a8d8216eb77f7a715c622","modified":1525240501928},{"_id":"themes/next_plus/source/images/include_post.png","hash":"2d58432a518803c17f80658a0bc6251a251ce7aa","modified":1525240501928},{"_id":"themes/next_plus/source/images/jsfiddle.png","hash":"7990cec93c242fcefc9dae260d6688dffad0d6a1","modified":1525240501929},{"_id":"themes/next_plus/source/images/link.png","hash":"0935cd28cd0f7265e138578e15f2c4e8228f10a6","modified":1525240501929},{"_id":"themes/next_plus/source/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1525240501929},{"_id":"themes/next_plus/source/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1525240501929},{"_id":"themes/next_plus/source/images/pullquote.png","hash":"2dcf3a006c782b0ddeb8a1200d79f4bc0d418f69","modified":1525240501929},{"_id":"themes/next_plus/source/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1525240501930},{"_id":"themes/next_plus/source/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1525240501930},{"_id":"themes/next_plus/source/images/raw.png","hash":"3a908c6aa12b65cfd45cb615900fadb9f8fc1bd8","modified":1525240501930},{"_id":"themes/next_plus/source/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1525240501930},{"_id":"themes/next_plus/source/images/vimeo.png","hash":"c12f6d2e76cdafac4553a48bb5b6e6dfedde0d9e","modified":1525240501930},{"_id":"themes/next_plus/source/images/youtube.png","hash":"cc00caab1b0276734dbf54ce6c330f6fa0669054","modified":1525240501931},{"_id":"themes/next_plus/source/imgs/bg.jpg","hash":"de2ea0386edae0bd9f5b7664da6e72b172f2746b","modified":1525240501931},{"_id":"themes/next_plus/source/imgs/body_bg.jpeg","hash":"7bf27016d86f1cf34f0f569bb69a87c57830fcce","modified":1525240501937},{"_id":"themes/next_plus/source/imgs/eg_arrow.gif","hash":"566be4a2e100842b0f97caf8c6bc341ae71d98d6","modified":1525240501937},{"_id":"themes/next_plus/layout/_scripts/schemes/mist.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1525240501880},{"_id":"themes/next_plus/layout/_scripts/schemes/muse.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1525240501880},{"_id":"themes/next_plus/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1525240501914},{"_id":"themes/next_plus/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1525240501914},{"_id":"themes/next_plus/source/css/_mixins/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1525240501914},{"_id":"themes/next_plus/source/css/_variables/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1525240501920},{"_id":"themes/next_plus/source/css/_variables/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1525240501921},{"_id":"themes/next_plus/source/images/weixinpay.jpeg","hash":"a1a235fe6c6a804456d63943f202dd7b00260fa8","modified":1525240501931},{"_id":"themes/next_plus/source/imgs/bg2.jpg","hash":"2f9398cff76706995098012763b5e2e5655fea34","modified":1525240501932},{"_id":"themes/next_plus/layout/_partials/head/custom-head.swig","hash":"9e1b9666efa77f4cf8d8261bcfa445a9ac608e53","modified":1525240501874},{"_id":"themes/next_plus/layout/_partials/head/external-fonts.swig","hash":"7ce76358411184482bb0934e70037949dd0da8ca","modified":1525240501875},{"_id":"themes/next_plus/layout/_partials/search/localsearch.swig","hash":"25a37de69c4d6b8e47f5c1888917d5193f04bab7","modified":1525240501876},{"_id":"themes/next_plus/layout/_partials/search/swiftype.swig","hash":"959b7e04a96a5596056e4009b73b6489c117597e","modified":1525240501876},{"_id":"themes/next_plus/layout/_partials/search/tinysou.swig","hash":"eefe2388ff3d424694045eda21346989b123977c","modified":1525240501877},{"_id":"themes/next_plus/layout/_partials/share/add-this.swig","hash":"23e23dc0f76ef3c631f24c65277adf7ea517b383","modified":1525240501877},{"_id":"themes/next_plus/layout/_partials/share/baidushare.swig","hash":"1f1107468aaf03f7d0dcd7eb2b653e2813a675b4","modified":1525240501877},{"_id":"themes/next_plus/layout/_partials/share/duoshuo_share.swig","hash":"89c5a5240ecb223acfe1d12377df5562a943fd5d","modified":1525240501878},{"_id":"themes/next_plus/layout/_partials/share/jiathis.swig","hash":"048fd5e98149469f8c28c21ba3561a7a67952c9b","modified":1525240501878},{"_id":"themes/next_plus/layout/_scripts/pages/post-details.swig","hash":"51966e33bdf2216d114f87df7fecabc1f14178cb","modified":1525240501879},{"_id":"themes/next_plus/layout/_scripts/schemes/gemini.swig","hash":"a44acf9b0d0f44ef3dfc767376a95c984cc127de","modified":1525240501879},{"_id":"themes/next_plus/layout/_scripts/schemes/pisces.swig","hash":"a44acf9b0d0f44ef3dfc767376a95c984cc127de","modified":1525240501880},{"_id":"themes/next_plus/layout/_third-party/analytics/analytics-with-widget.swig","hash":"98df9d72e37dd071e882f2d5623c9d817815b139","modified":1525240501881},{"_id":"themes/next_plus/layout/_third-party/analytics/application-insights.swig","hash":"60426bf73f8a89ba61fb1be2df3ad5398e32c4ef","modified":1525240501881},{"_id":"themes/next_plus/layout/_third-party/analytics/baidu-analytics.swig","hash":"deda6a814ed48debc694c4e0c466f06c127163d0","modified":1525240501881},{"_id":"themes/next_plus/layout/_third-party/analytics/busuanzi-counter.swig","hash":"18e7bef8923d83ea42df6c97405e515a876cede4","modified":1525240501881},{"_id":"themes/next_plus/layout/_third-party/analytics/cnzz-analytics.swig","hash":"8160b27bee0aa372c7dc7c8476c05bae57f58d0f","modified":1525240501882},{"_id":"themes/next_plus/layout/_third-party/analytics/facebook-sdk.swig","hash":"a234c5cd1f75ca5731e814d0dbb92fdcf9240d1b","modified":1525240501882},{"_id":"themes/next_plus/layout/_third-party/analytics/google-analytics.swig","hash":"5d9943d74cc2e0a91badcf4f755c6de77eab193a","modified":1525240501882},{"_id":"themes/next_plus/layout/_third-party/analytics/index.swig","hash":"5e9bb24c750b49513d9a65799e832f07410002ac","modified":1525240501882},{"_id":"themes/next_plus/layout/_third-party/analytics/lean-analytics.swig","hash":"fc65b9c98a0a8ab43a5e7aabff6c5f03838e09c8","modified":1525240501883},{"_id":"themes/next_plus/layout/_third-party/analytics/tencent-analytics.swig","hash":"3658414379e0e8a34c45c40feadc3edc8dc55f88","modified":1525240501883},{"_id":"themes/next_plus/layout/_third-party/analytics/tencent-mta.swig","hash":"0ddc94ed4ba0c19627765fdf1abc4d8efbe53d5a","modified":1525240501883},{"_id":"themes/next_plus/layout/_third-party/analytics/vkontakte-api.swig","hash":"c3971fd154d781088e1cc665035f8561a4098f4c","modified":1525240501883},{"_id":"themes/next_plus/layout/_third-party/comments/changyan.swig","hash":"0e3378f7c39b2b0f69638290873ede6b6b6825c0","modified":1525240501884},{"_id":"themes/next_plus/layout/_third-party/comments/disqus.swig","hash":"c316758546dc9ba6c60cb4d852c17ca6bb6d6724","modified":1525240501884},{"_id":"themes/next_plus/layout/_third-party/comments/duoshuo.swig","hash":"a356b2185d40914447fde817eb3d358ab6b3e4c3","modified":1525240501885},{"_id":"themes/next_plus/layout/_third-party/comments/hypercomments.swig","hash":"3e8dc5c6c912628a37e3b5f886bec7b2e5ed14ea","modified":1525240501885},{"_id":"themes/next_plus/layout/_third-party/comments/index.swig","hash":"576e716893153a855eaf6d136fad7cb6d4065e09","modified":1525240501885},{"_id":"themes/next_plus/layout/_third-party/comments/livere.swig","hash":"8a2e393d2e49f7bf560766d8a07cd461bf3fce4f","modified":1525240501886},{"_id":"themes/next_plus/layout/_third-party/comments/valine.swig","hash":"9f4ed36c73e890909b8ebbe601fb60e13d048288","modified":1525240501886},{"_id":"themes/next_plus/layout/_third-party/comments/youyan.swig","hash":"e9288342a3a9ecbc4f6e2a77936ec22a33694a9f","modified":1525240501886},{"_id":"themes/next_plus/layout/_third-party/search/index.swig","hash":"c747fb5c6b1f500e8f0c583e44195878b66e4e29","modified":1525240501888},{"_id":"themes/next_plus/layout/_third-party/search/localsearch.swig","hash":"385c066af96bee30be2459dbec8aae1f15d382f5","modified":1525240501889},{"_id":"themes/next_plus/layout/_third-party/search/tinysou.swig","hash":"cb3a5d36dbe1630bab84e03a52733a46df7c219b","modified":1525240501889},{"_id":"themes/next_plus/layout/_third-party/seo/baidu-push.swig","hash":"c057b17f79e8261680fbae8dc4e81317a127c799","modified":1525240501889},{"_id":"themes/next_plus/source/css/_custom/custom.styl","hash":"3f5dc58b8771621129473bc5f0f66a9c118359cd","modified":1525670549620},{"_id":"themes/next_plus/source/css/_mixins/Gemini.styl","hash":"2aa5b7166a85a8aa34b17792ae4f58a5a96df6cc","modified":1525240501913},{"_id":"themes/next_plus/source/css/_mixins/Pisces.styl","hash":"9ab65361ba0a12a986edd103e56492644c2db0b8","modified":1525240501914},{"_id":"themes/next_plus/source/css/_mixins/base.styl","hash":"82f9055955920ed88a2ab6a20ab02169abb2c634","modified":1525240501914},{"_id":"themes/next_plus/source/css/_variables/Gemini.styl","hash":"6359c84aaa02c90be60b22abe638b737ddd69c9c","modified":1525240501920},{"_id":"themes/next_plus/source/css/_variables/Mist.styl","hash":"c8d35a6b9e3bff6d8fdb66de853065af9d37562d","modified":1525240501920},{"_id":"themes/next_plus/source/css/_variables/Pisces.styl","hash":"cfee25d790e4f9b7d57f0dc7e2ea9c1649f08f11","modified":1525240501921},{"_id":"themes/next_plus/source/css/_variables/base.styl","hash":"68b99b4002856ea8ecdbb898964c01dbbcfab97e","modified":1525240501921},{"_id":"themes/next_plus/source/imgs/blog4/img1.png","hash":"7d12e1259078edd3cb5f641187b8d5e14fdfa25f","modified":1525240501932},{"_id":"themes/next_plus/source/imgs/blog4/img2.png","hash":"d6de754b453c0b9192679ecb8644c5da22916f90","modified":1525240501933},{"_id":"themes/next_plus/source/imgs/blog4/img3.png","hash":"52b9a28f0607d15d7fe2332671c98543f80b2881","modified":1525240501933},{"_id":"themes/next_plus/source/imgs/blog4/img4.png","hash":"d79aabe887acd66bc61f6406f741e246283ec1e5","modified":1525240501933},{"_id":"themes/next_plus/source/imgs/blog4/img5.png","hash":"06a75e97145caf9bad30a89cdc3b8f23dccfc895","modified":1525240501933},{"_id":"themes/next_plus/source/imgs/blog4/img6.png","hash":"16f5a8ef46750b7d5022890cade403ed5c532135","modified":1525240501933},{"_id":"themes/next_plus/source/imgs/blog4/img7.png","hash":"d18694e8897313c504463fc1fe68d97d51851a31","modified":1525240501933},{"_id":"themes/next_plus/source/imgs/blog4/img8.png","hash":"d91d515127857ee71681f0e81643dd7e72aafef2","modified":1525240501934},{"_id":"themes/next_plus/source/imgs/blog4/img9.png","hash":"a0a1a920acdef45130d962c07c259a966131ac80","modified":1525240501934},{"_id":"themes/next_plus/source/imgs/blog6/img1.png","hash":"c2786c835b06d779e7d2dcdc038fa37e3fbae3e6","modified":1525240501934},{"_id":"themes/next_plus/source/imgs/blog7/img2.png","hash":"ea0f10bd0a044c56e9ff4f9d5cdecc02ccabf231","modified":1525240501935},{"_id":"themes/next_plus/source/imgs/blog7/img3.png","hash":"51fbc3cc751848b33fe9ecc98913dc2a8a839365","modified":1525240501935},{"_id":"themes/next_plus/source/imgs/blog7/img4.png","hash":"c6a90aa93319fd594e20df2323a1252e61ea7314","modified":1525240501936},{"_id":"themes/next_plus/source/imgs/blog7/img5.png","hash":"6c86ede604d47c8ae1d8c58e7440f22acdf2ff5c","modified":1525240501936},{"_id":"themes/next_plus/source/imgs/blog7/img6.png","hash":"f77c3a55014153f8de6b7e0b9ebee3c715976f68","modified":1525240501936},{"_id":"themes/next_plus/source/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1525240501937},{"_id":"themes/next_plus/source/js/src/algolia-search.js","hash":"5c1a26a3f53e598af72e01f6dd9b4d352ba962ee","modified":1525240501937},{"_id":"themes/next_plus/source/js/src/bootstrap.js","hash":"034bc8113e0966fe2096ba5b56061bbf10ef0512","modified":1525240501937},{"_id":"themes/next_plus/source/js/src/exturl.js","hash":"e42e2aaab7bf4c19a0c8e779140e079c6aa5c0b1","modified":1525240501937},{"_id":"themes/next_plus/source/js/src/hook-duoshuo.js","hash":"a6119070c0119f33e08b29da7d2cce2635eb40a0","modified":1525240501938},{"_id":"themes/next_plus/source/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1525240501938},{"_id":"themes/next_plus/source/js/src/motion.js","hash":"da146caf488078a634d961debf2a71ce4106018c","modified":1525240501938},{"_id":"themes/next_plus/source/js/src/photoswipe-ui-default.min.js","hash":"d80b713ca1bab90f27a8af7d8e43563f0fe81860","modified":1525240501939},{"_id":"themes/next_plus/source/js/src/photoswipe.min.js","hash":"791703278e7c576b08b67f18404bae9eb8cebfaf","modified":1525240501939},{"_id":"themes/next_plus/source/js/src/post-details.js","hash":"0693695a9512641daff63d99da772625a058ab18","modified":1525240501939},{"_id":"themes/next_plus/source/js/src/scroll-cookie.js","hash":"09dc828cbf5f31158ff6250d2bf7c3cde6365c67","modified":1525240501940},{"_id":"themes/next_plus/source/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1525240501940},{"_id":"themes/next_plus/source/js/src/utils.js","hash":"2917c39c75b14b6dab7e1c46ab4d87b4df9fcd5d","modified":1525240501940},{"_id":"themes/next_plus/source/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1525240501943},{"_id":"themes/next_plus/source/js/src/uyan.js","hash":"81b765838018f35ba6bb6470319f9b15e679283d","modified":1525240501940},{"_id":"themes/next_plus/source/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1525240501946},{"_id":"themes/next_plus/source/lib/canvas-ribbon/canvas-ribbon.js","hash":"7fd2f3e2773555392ef40df40cae3bedb884f17a","modified":1525240501946},{"_id":"themes/next_plus/source/lib/fancybox/.bower.json","hash":"cc40a9b11e52348e554c84e4a5c058056f6b7aeb","modified":1525240501946},{"_id":"themes/next_plus/source/lib/fancybox/.gitattributes","hash":"2db21acfbd457452462f71cc4048a943ee61b8e0","modified":1525240501946},{"_id":"themes/next_plus/source/lib/fastclick/.bower.json","hash":"93ebd5b35e632f714dcf1753e1f6db77ec74449b","modified":1525240501949},{"_id":"themes/next_plus/source/lib/fastclick/LICENSE","hash":"dcd5b6b43095d9e90353a28b09cb269de8d4838e","modified":1525240501949},{"_id":"themes/next_plus/source/lib/fastclick/README.md","hash":"1decd8e1adad2cd6db0ab50cf56de6035156f4ea","modified":1525240501949},{"_id":"themes/next_plus/source/lib/fastclick/bower.json","hash":"13379463c7463b4b96d13556b46faa4cc38d81e6","modified":1525240501950},{"_id":"themes/next_plus/source/lib/font-awesome/.bower.json","hash":"a2aaaf12378db56bd10596ba3daae30950eac051","modified":1525240501950},{"_id":"themes/next_plus/source/lib/font-awesome/.gitignore","hash":"69d152fa46b517141ec3b1114dd6134724494d83","modified":1525240501950},{"_id":"themes/next_plus/source/lib/font-awesome/.npmignore","hash":"dcf470ab3a358103bb896a539cc03caeda10fa8b","modified":1525240501951},{"_id":"themes/next_plus/source/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1525240501951},{"_id":"themes/next_plus/source/lib/font-awesome/bower.json","hash":"279a8a718ab6c930a67c41237f0aac166c1b9440","modified":1525240501951},{"_id":"themes/next_plus/source/lib/jquery/.bower.json","hash":"91745c2cc6c946c7275f952b2b0760b880cea69e","modified":1525240501956},{"_id":"themes/next_plus/source/lib/jquery_lazyload/.bower.json","hash":"b7638afc93e9cd350d0783565ee9a7da6805ad8e","modified":1525240501957},{"_id":"themes/next_plus/source/lib/jquery_lazyload/CONTRIBUTING.md","hash":"4891864c24c28efecd81a6a8d3f261145190f901","modified":1525240501957},{"_id":"themes/next_plus/source/lib/jquery_lazyload/README.md","hash":"895d50fa29759af7835256522e9dd7dac597765c","modified":1525240501957},{"_id":"themes/next_plus/source/lib/jquery_lazyload/bower.json","hash":"65bc85d12197e71c40a55c0cd7f6823995a05222","modified":1525240501957},{"_id":"themes/next_plus/source/lib/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1525240501958},{"_id":"themes/next_plus/source/lib/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1525240501958},{"_id":"themes/next_plus/source/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1525240501958},{"_id":"themes/next_plus/source/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1525240501958},{"_id":"themes/next_plus/source/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1525240501958},{"_id":"themes/next_plus/source/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1525240501958},{"_id":"themes/next_plus/source/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1525240501958},{"_id":"themes/next_plus/source/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1525240501959},{"_id":"themes/next_plus/source/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1525240501959},{"_id":"themes/next_plus/source/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1525240501959},{"_id":"themes/next_plus/source/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1525240501959},{"_id":"themes/next_plus/source/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1525240501959},{"_id":"themes/next_plus/source/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1525240501959},{"_id":"themes/next_plus/source/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1525240501959},{"_id":"themes/next_plus/source/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1525240501960},{"_id":"themes/next_plus/source/lib/pace/pace.min.js","hash":"9944dfb7814b911090e96446cea4d36e2b487234","modified":1525240501960},{"_id":"themes/next_plus/source/lib/three/canvas_lines.min.js","hash":"dce4a3b65f8bf958f973690caa7ec4952f353b0c","modified":1525240501960},{"_id":"themes/next_plus/source/lib/three/canvas_sphere.min.js","hash":"d8ea241a53c135a650f7335d2b6982b899fd58a9","modified":1525240501960},{"_id":"themes/next_plus/source/lib/three/three-waves.min.js","hash":"d968cba6b3a50b3626a02d67b544f349d83b147c","modified":1525240501960},{"_id":"themes/next_plus/source/lib/velocity/.bower.json","hash":"05f960846f1c7a93dab1d3f9a1121e86812e8c88","modified":1525240501964},{"_id":"themes/next_plus/source/lib/velocity/bower.json","hash":"2ec99573e84c7117368beccb9e94b6bf35d2db03","modified":1525240501964},{"_id":"themes/next_plus/source/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1525240501965},{"_id":"themes/next_plus/source/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1525240501965},{"_id":"themes/next_plus/source/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1525240501966},{"_id":"themes/next_plus/source/imgs/blog7/img1.png","hash":"f4524d1c58caf35d0a5b18d39d7f21e83395e66e","modified":1525240501935},{"_id":"themes/next_plus/source/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1525240501957},{"_id":"themes/next_plus/layout/_third-party/search/algolia-search/assets.swig","hash":"28ff4ed6714c59124569ffcbd10f1173d53ca923","modified":1525240501888},{"_id":"themes/next_plus/layout/_third-party/search/algolia-search/dom.swig","hash":"ba698f49dd3a868c95b240d802f5b1b24ff287e4","modified":1525240501888},{"_id":"themes/next_plus/source/css/_common/components/back-to-top-sidebar.styl","hash":"d026c8489f66ab6c12ad04bd37f1d5b6f2f3f0d1","modified":1525240501895},{"_id":"themes/next_plus/source/css/_common/components/back-to-top.styl","hash":"31050fc7a25784805b4843550151c93bfa55c9c8","modified":1525240501896},{"_id":"themes/next_plus/source/css/_common/components/buttons.styl","hash":"0dfb4b3ba3180d7285e66f270e1d3fa0f132c3d2","modified":1525240501896},{"_id":"themes/next_plus/source/css/_common/components/components.styl","hash":"a6bb5256be6195e76addbda12f4ed7c662d65e7a","modified":1525240501896},{"_id":"themes/next_plus/source/css/_common/components/comments.styl","hash":"471f1627891aca5c0e1973e09fbcb01e1510d193","modified":1525240501896},{"_id":"themes/next_plus/source/css/_common/components/pagination.styl","hash":"711c8830886619d4f4a0598b0cde5499dce50c62","modified":1525240501901},{"_id":"themes/next_plus/source/css/_common/components/tag-cloud.styl","hash":"dd8a3b22fc2f222ac6e6c05bd8a773fb039169c0","modified":1525240501907},{"_id":"themes/next_plus/source/css/_common/outline/outline.styl","hash":"f2030fa436c47791d1a42358cc0ef6f9809f212c","modified":1525240501911},{"_id":"themes/next_plus/source/css/_common/scaffolding/helpers.styl","hash":"9c25c75311e1bd4d68df031d3f2ae6d141a90766","modified":1525240501912},{"_id":"themes/next_plus/source/css/_common/scaffolding/base.styl","hash":"f7c44b0ee46cf2cf82a4c9455ba8d8b55299976f","modified":1525240501912},{"_id":"themes/next_plus/source/css/_common/scaffolding/mobile.styl","hash":"86b6fd7f1b1be3ae98f8af6b23a6b1299c670ce9","modified":1525240501912},{"_id":"themes/next_plus/source/css/_common/scaffolding/normalize.styl","hash":"ece571f38180febaf02ace8187ead8318a300ea7","modified":1525240501912},{"_id":"themes/next_plus/source/css/_common/scaffolding/scaffolding.styl","hash":"a280a583b7615e939aaddbf778f5c108ef8a2a6c","modified":1525240501912},{"_id":"themes/next_plus/source/css/_common/scaffolding/tables.styl","hash":"c6e933e73a34e1d3785b3a69a60b423abc088f94","modified":1525240501913},{"_id":"themes/next_plus/source/css/_schemes/Gemini/index.styl","hash":"bc8c388553bbcf95897459a466ba35bffd5ec5f0","modified":1525240501914},{"_id":"themes/next_plus/source/css/_schemes/Mist/_base.styl","hash":"c2d079788d6fc2e9a191ccdae94e50d55bf849dc","modified":1525240501915},{"_id":"themes/next_plus/source/css/_schemes/Mist/_header.styl","hash":"ec8d21fcc36a9ea1cc19cbac4c430dd1e9794273","modified":1525240501915},{"_id":"themes/next_plus/source/css/_schemes/Mist/_logo.styl","hash":"e36e56695d38feb9ba6e208e2a1da04770cb9a2a","modified":1525240501915},{"_id":"themes/next_plus/source/css/_schemes/Mist/_menu.styl","hash":"b0dcca862cd0cc6e732e33d975b476d744911742","modified":1525240501916},{"_id":"themes/next_plus/source/css/_schemes/Mist/_posts-expanded.styl","hash":"cc04509b599917a1544ae0fc8213439b1df8ebf2","modified":1525240501916},{"_id":"themes/next_plus/source/css/_schemes/Mist/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1525240501916},{"_id":"themes/next_plus/source/css/_schemes/Mist/index.styl","hash":"9a5581a770af8964064fef7afd3e16963e45547f","modified":1525240501916},{"_id":"themes/next_plus/source/css/_schemes/Muse/_layout.styl","hash":"0efa036a15c18f5abb058b7c0fad1dd9ac5eed4c","modified":1525240501917},{"_id":"themes/next_plus/source/css/_schemes/Muse/_logo.styl","hash":"8829bc556ca38bfec4add4f15a2f028092ac6d46","modified":1525240501917},{"_id":"themes/next_plus/source/css/_schemes/Muse/_menu.styl","hash":"82bbaa6322764779a1ac2e2c8390ce901c7972e2","modified":1525240501918},{"_id":"themes/next_plus/source/css/_schemes/Muse/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1525240501918},{"_id":"themes/next_plus/source/css/_schemes/Muse/index.styl","hash":"a0e2030a606c934fb2c5c7373aaae04a1caac4c5","modified":1525240501918},{"_id":"themes/next_plus/source/css/_schemes/Pisces/_brand.styl","hash":"c4ed249798296f60bda02351fe6404fb3ef2126f","modified":1525240501919},{"_id":"themes/next_plus/source/css/_schemes/Pisces/_layout.styl","hash":"0af5a9322156c4c21d3c7d38f5ee48de5286f523","modified":1525240501919},{"_id":"themes/next_plus/source/css/_schemes/Pisces/_menu.styl","hash":"215de948be49bcf14f06d500cef9f7035e406a43","modified":1525240501919},{"_id":"themes/next_plus/source/css/_schemes/Pisces/_posts.styl","hash":"2f878213cb24c5ddc18877f6d15ec5c5f57745ac","modified":1525240501919},{"_id":"themes/next_plus/source/css/_schemes/Pisces/_sidebar.styl","hash":"264a52c0a7877381f9a6a87d495757a0ba7e29d6","modified":1525240501919},{"_id":"themes/next_plus/source/css/_schemes/Pisces/index.styl","hash":"69ecd6c97e7cdfd822ac8102b45ad0ede85050db","modified":1525240501920},{"_id":"themes/next_plus/source/lib/Han/dist/han.css","hash":"bd40da3fba8735df5850956814e312bd7b3193d7","modified":1525240501942},{"_id":"themes/next_plus/source/lib/Han/dist/han.min.css","hash":"a0c9e32549a8b8cf327ab9227b037f323cdb60ee","modified":1525240501942},{"_id":"themes/next_plus/source/lib/Han/dist/han.min.js","hash":"f559c68a25065a14f47da954a7617d87263e409d","modified":1525240501943},{"_id":"themes/next_plus/source/js/src/particles.js","hash":"d915ddda2c416f9f5cdc07b1eb4c9eb581dcfe19","modified":1525240501939},{"_id":"themes/next_plus/source/js/src/schemes/pisces.js","hash":"79da92119bc246fe05d1626ac98426a83ec90a94","modified":1525240501940},{"_id":"themes/next_plus/source/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1525240501946},{"_id":"themes/next_plus/source/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1525240501947},{"_id":"themes/next_plus/source/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1525240501947},{"_id":"themes/next_plus/source/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1525240501947},{"_id":"themes/next_plus/source/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1525240501947},{"_id":"themes/next_plus/source/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1525240501947},{"_id":"themes/next_plus/source/lib/fancybox/source/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1525240501949},{"_id":"themes/next_plus/source/lib/fancybox/source/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1525240501949},{"_id":"themes/next_plus/source/lib/fancybox/source/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1525240501949},{"_id":"themes/next_plus/source/lib/fastclick/lib/fastclick.js","hash":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1525240501950},{"_id":"themes/next_plus/source/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1525240501950},{"_id":"themes/next_plus/source/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1525240501951},{"_id":"themes/next_plus/source/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1525240501951},{"_id":"themes/next_plus/source/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1525240501952},{"_id":"themes/next_plus/source/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1525240501963},{"_id":"themes/next_plus/source/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1525240501963},{"_id":"themes/next_plus/source/lib/Han/dist/han.js","hash":"e345397e0585c9fed1449e614ec13e0224acf2ab","modified":1525240501942},{"_id":"themes/next_plus/source/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1525240501955},{"_id":"themes/next_plus/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1525240501956},{"_id":"themes/next_plus/source/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1525240501965},{"_id":"themes/next_plus/source/css/_common/components/footer/footer.styl","hash":"3b22c4f9a16497563da8550ce089fa2d274e8a27","modified":1525240501897},{"_id":"themes/next_plus/source/css/_common/components/header/header.styl","hash":"ae1ca14e51de67b07dba8f61ec79ee0e2e344574","modified":1525240501897},{"_id":"themes/next_plus/source/css/_common/components/header/headerband.styl","hash":"d27448f199fc2f9980b601bc22b87f08b5d64dd1","modified":1525240501898},{"_id":"themes/next_plus/source/css/_common/components/header/menu.styl","hash":"8a2421cb9005352905fae9d41a847ae56957247e","modified":1525240501898},{"_id":"themes/next_plus/source/css/_common/components/header/site-meta.styl","hash":"6c00f6e0978f4d8f9a846a15579963728aaa6a17","modified":1525240501898},{"_id":"themes/next_plus/source/css/_common/components/header/site-nav.styl","hash":"49c2b2c14a1e7fcc810c6be4b632975d0204c281","modified":1525240501899},{"_id":"themes/next_plus/source/css/_common/components/highlight/diff.styl","hash":"96f32ea6c3265a3889e6abe57587f6e2a2a40dfb","modified":1525240501899},{"_id":"themes/next_plus/source/css/_common/components/highlight/highlight.styl","hash":"740d37f428b8f4574a76fc95cc25e50e0565f45e","modified":1525240501899},{"_id":"themes/next_plus/source/css/_common/components/highlight/theme.styl","hash":"b76387934fb6bb75212b23c1a194486892cc495e","modified":1525240501899},{"_id":"themes/next_plus/source/css/_common/components/pages/archive.styl","hash":"f5aa2ba3bfffc15475e7e72a55b5c9d18609fdf5","modified":1525240501900},{"_id":"themes/next_plus/source/css/_common/components/pages/categories.styl","hash":"4eff5b252d7b614e500fc7d52c97ce325e57d3ab","modified":1525240501900},{"_id":"themes/next_plus/source/css/_common/components/pages/pages.styl","hash":"2039590632bba3943c39319d80ef630af7928185","modified":1525240501900},{"_id":"themes/next_plus/source/css/_common/components/pages/post-detail.styl","hash":"9bf4362a4d0ae151ada84b219d39fbe5bb8c790e","modified":1525240501901},{"_id":"themes/next_plus/source/css/_common/components/pages/schedule.styl","hash":"a82afbb72d83ee394aedc7b37ac0008a9823b4f4","modified":1527051793267},{"_id":"themes/next_plus/source/css/_common/components/post/post-button.styl","hash":"beccb53dcd658136fb91a0c5678dea8f37d6e0b6","modified":1525240501902},{"_id":"themes/next_plus/source/css/_common/components/post/post-collapse.styl","hash":"0f7f522cc6bfb3401d5afd62b0fcdf48bb2d604b","modified":1525240501902},{"_id":"themes/next_plus/source/css/_common/components/post/post-copyright.styl","hash":"f54367c0feda6986c030cc4d15a0ca6ceea14bcb","modified":1525240501902},{"_id":"themes/next_plus/source/css/_common/components/post/post-eof.styl","hash":"2cdc094ecf907a02fce25ad4a607cd5c40da0f2b","modified":1525240501902},{"_id":"themes/next_plus/source/css/_common/components/post/post-expand.styl","hash":"e23fbe2c8a8b24a1a908457ce5ca134338233b56","modified":1527053768199},{"_id":"themes/next_plus/source/css/_common/components/post/post-gallery.styl","hash":"387ce23bba52b22a586b2dfb4ec618fe1ffd3926","modified":1525240501903},{"_id":"themes/next_plus/source/css/_common/components/post/post-meta.styl","hash":"aea21141015ca8c409d8b33e3e34ec505f464e93","modified":1525240501903},{"_id":"themes/next_plus/source/css/_common/components/post/post-nav.styl","hash":"a5d8617a24d7cb6c5ad91ea621183ca2c0917331","modified":1525240501903},{"_id":"themes/next_plus/source/css/_common/components/post/post-reward.styl","hash":"36332c8a91f089f545f3c3e8ea90d08aa4d6e60c","modified":1525240501903},{"_id":"themes/next_plus/source/css/_common/components/post/post-rtl.styl","hash":"017074ef58166e2d69c53bb7590a0e7a8947a1ed","modified":1525240501904},{"_id":"themes/next_plus/source/css/_common/components/post/post-tags.styl","hash":"5532cd6a79cf1e42054f9425f515463f1328757f","modified":1525240501904},{"_id":"themes/next_plus/source/css/_common/components/post/post-title.styl","hash":"4ab291c42c69df98b49bf4abacfc53d60b9e7368","modified":1525240501904},{"_id":"themes/next_plus/source/css/_common/components/post/post-type.styl","hash":"10251257aceecb117233c9554dcf8ecfef8e2104","modified":1525240501904},{"_id":"themes/next_plus/source/css/_common/components/post/post-widgets.styl","hash":"d25eac834df734d8e1886667c8c03af63b36cdfc","modified":1525240501905},{"_id":"themes/next_plus/source/css/_common/components/post/post.styl","hash":"8c15f9a179c47c3f61e56577ece63fa8c9393ac6","modified":1525240501905},{"_id":"themes/next_plus/source/css/_common/components/sidebar/sidebar-author-links.styl","hash":"0a6c0efffdf18bddbc1d1238feaed282b09cd0fe","modified":1525240501905},{"_id":"themes/next_plus/source/css/_common/components/sidebar/sidebar-author.styl","hash":"920343e41c124221a17f050bbb989494d44f7a24","modified":1525240501905},{"_id":"themes/next_plus/source/css/_common/components/sidebar/sidebar-blogroll.styl","hash":"89dd4f8b1f1cce3ad46cf2256038472712387d02","modified":1525240501906},{"_id":"themes/next_plus/source/css/_common/components/sidebar/sidebar-dimmer.styl","hash":"efa5e5022e205b52786ce495d4879f5e7b8f84b2","modified":1525240501906},{"_id":"themes/next_plus/source/css/_common/components/sidebar/sidebar-feed-link.styl","hash":"9486ddd2cb255227db102d09a7df4cae0fabad72","modified":1525240501906},{"_id":"themes/next_plus/source/css/_common/components/sidebar/sidebar-nav.styl","hash":"45fa7193435a8eae9960267438750b4c9fa9587f","modified":1525240501906},{"_id":"themes/next_plus/source/css/_common/components/sidebar/sidebar-toc.styl","hash":"77c92a449ce84d558d26d052681f2e0dd77c70c9","modified":1525240501906},{"_id":"themes/next_plus/source/css/_common/components/sidebar/sidebar-toggle.styl","hash":"f7784aba0c1cd20d824c918c120012d57a5eaa2a","modified":1525240501907},{"_id":"themes/next_plus/source/css/_common/components/sidebar/sidebar.styl","hash":"57d2c8a060f5e4e1a0aef9aae11a0016cf7ac5ba","modified":1525240501907},{"_id":"themes/next_plus/source/css/_common/components/sidebar/site-state.styl","hash":"3623e7fa4324ec1307370f33d8f287a9e20a5578","modified":1525240501907},{"_id":"themes/next_plus/source/css/_common/components/tags/blockquote-center.styl","hash":"c2abe4d87148e23e15d49ee225bc650de60baf46","modified":1525240501908},{"_id":"themes/next_plus/source/css/_common/components/tags/exturl.styl","hash":"1b3cc9f4e5a7f6e05b4100e9990b37b20d4a2005","modified":1525240501908},{"_id":"themes/next_plus/source/css/_common/components/tags/full-image.styl","hash":"b8969e1654eec89a0fd10d88b337fee9cb03cd44","modified":1525240501908},{"_id":"themes/next_plus/source/css/_common/components/tags/group-pictures.styl","hash":"4851b981020c5cbc354a1af9b831a2dcb3cf9d39","modified":1525240501908},{"_id":"themes/next_plus/source/css/_common/components/tags/label.styl","hash":"4a457d265d62f287c63d48764ce45d9bcfc9ec5a","modified":1525240501909},{"_id":"themes/next_plus/source/css/_common/components/tags/note-modern.styl","hash":"45df0cf4c97b47e05573bcd41028ee50f3fdf432","modified":1525240501909},{"_id":"themes/next_plus/source/css/_common/components/tags/note.styl","hash":"32c9156bea5bac9e9ad0b4c08ffbca8b3d9aac4b","modified":1525240501909},{"_id":"themes/next_plus/source/css/_common/components/tags/tabs.styl","hash":"4ab5deed8c3b0c338212380f678f8382672e1bcb","modified":1525240501909},{"_id":"themes/next_plus/source/css/_common/components/tags/tags.styl","hash":"ead0d0f2321dc71505788c7f689f92257cf14947","modified":1525240501910},{"_id":"themes/next_plus/source/css/_common/components/third-party/algolia-search.styl","hash":"fd42777b9125fd8969dc39d4f15473e2b91b4142","modified":1525240501910},{"_id":"themes/next_plus/source/css/_common/components/third-party/baidushare.styl","hash":"93b08815c4d17e2b96fef8530ec1f1064dede6ef","modified":1525240501910},{"_id":"themes/next_plus/source/css/_common/components/third-party/busuanzi-counter.styl","hash":"d4e6d8d7b34dc69994593c208f875ae8f7e8a3ae","modified":1525240501910},{"_id":"themes/next_plus/source/css/_common/components/third-party/duoshuo.styl","hash":"2340dd9b3202c61d73cc708b790fac5adddbfc7f","modified":1525240501911},{"_id":"themes/next_plus/source/css/_common/components/third-party/han.styl","hash":"cce6772e2cdb4db85d35486ae4c6c59367fbdd40","modified":1525240501911},{"_id":"themes/next_plus/source/css/_common/components/third-party/jiathis.styl","hash":"327b5f63d55ec26f7663185c1a778440588d9803","modified":1525240501911},{"_id":"themes/next_plus/source/css/_common/components/third-party/localsearch.styl","hash":"d89c4b562b528e4746696b2ad8935764d133bdae","modified":1525240501911},{"_id":"themes/next_plus/source/css/_common/components/third-party/third-party.styl","hash":"aeff0e6e23725e8baea27c890ccbbf466024f767","modified":1525240501911},{"_id":"themes/next_plus/source/css/_schemes/Mist/outline/outline.styl","hash":"5dc4859c66305f871e56cba78f64bfe3bf1b5f01","modified":1525240501917},{"_id":"themes/next_plus/source/css/_schemes/Mist/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1525240501917},{"_id":"themes/next_plus/source/css/_schemes/Muse/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1525240501918},{"_id":"themes/next_plus/source/lib/Han/dist/font/han-space.otf","hash":"07436f011b44051f61b8329c99de4bec64e86f4b","modified":1525240501941},{"_id":"themes/next_plus/source/lib/Han/dist/font/han-space.woff","hash":"7a635062b10bf5662ae1d218ba0980171005d060","modified":1525240501941},{"_id":"themes/next_plus/source/lib/Han/dist/font/han.otf","hash":"f1f6bb8f461f5672e000380195d3d2358a28494c","modified":1525240501941},{"_id":"themes/next_plus/source/lib/Han/dist/font/han.woff","hash":"f38ff9b2eecaa17b50b66aa2dae87e9e7436d195","modified":1525240501941},{"_id":"themes/next_plus/source/lib/Han/dist/font/han.woff2","hash":"623af3ed5423371ac136a4fe0e8cc7bb7396037a","modified":1525240501942},{"_id":"themes/next_plus/source/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1525240501948},{"_id":"themes/next_plus/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1525240501948},{"_id":"themes/next_plus/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1525240501948},{"_id":"themes/next_plus/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1525240501948},{"_id":"themes/next_plus/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1525240501948},{"_id":"themes/next_plus/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1525240501948},{"_id":"themes/next_plus/source/lib/font-awesome/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1525240501952},{"_id":"themes/next_plus/source/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1525240501953},{"_id":"themes/next_plus/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1525240501955},{"_id":"themes/next_plus/source/lib/algolia-instant-search/instantsearch.min.js","hash":"9ccc6f8144f54e86df9a3fd33a18368d81cf3a4f","modified":1525240501945},{"_id":"themes/next_plus/source/lib/three/three.min.js","hash":"73f4cdc17e51a72b9bf5b9291f65386d615c483b","modified":1525240501963},{"_id":"themes/next_plus/source/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"98a8aa5cf7d62c2eff5f07ede8d844b874ef06ed","modified":1525240501955},{"_id":"public/photos/data.json","hash":"2bf45a9bdc724e1813f09850bee8705f00add294","modified":1527053581636},{"_id":"public/photos/ins.css","hash":"ff1eb6c8f80a73db870c84a6ca6f6cc127ab533c","modified":1527053581674},{"_id":"public/photos/photoswipe.css","hash":"a31fa495095783ef5a84ba4dba0bd6f7de3b07ea","modified":1527053581674},{"_id":"public/photos/ins.js","hash":"d7c529bc4245cd109810398a728c0dcc25562c36","modified":1527053581674},{"_id":"public/photos/default-skin/default-skin.css","hash":"d3a00ee1baf544870e3578b936b2883d13c2d7ae","modified":1527053581674},{"_id":"public/baidusitemap.xml","hash":"0c6cb6110e8cb513b7f2f908f8c4110f27053878","modified":1527053581674},{"_id":"public/search.xml","hash":"5450a7e7798a753cb1a5db6d50bbeb759363994a","modified":1527053581674},{"_id":"public/sitemap.xml","hash":"49c2266440df3fb0a6d32898d2b99de52d229775","modified":1527059838178},{"_id":"public/about/index.html","hash":"dc7ed4bd5764ee30651e2717d864a78a5d07ae36","modified":1527059838229},{"_id":"public/categories/index.html","hash":"d155637050caed19490e7548c9caca9a927eb208","modified":1527059838229},{"_id":"public/photos/index.html","hash":"3d18141aa57999bb5e6c03cfdb024fcd966313ca","modified":1527059838229},{"_id":"public/tags/index.html","hash":"c731b0a28f0bf75761c25cd8880db60b006b806b","modified":1527059838229},{"_id":"public/2018/05/08/热修复方案设计文档/index.html","hash":"e1c73a2f8c07a16a7819fa7587465d68e36d1219","modified":1527059838230},{"_id":"public/2018/05/07/appveyor-自动化构建-hexo-博客失败/index.html","hash":"cc2b54fed2474e0eeb96d25705a94e3cd5068ee6","modified":1527059838230},{"_id":"public/2018/04/20/Geektool-使用-python-beautiful-实现抓取天气图标/index.html","hash":"c98d9c1398395b73f6d29481126019310a4e4179","modified":1527059838230},{"_id":"public/2018/04/19/Geektool-使用-python-抓取天气显示/index.html","hash":"31f19e65606c08df701912116ac7a1a018ee30e9","modified":1527059838230},{"_id":"public/2017/12/29/自定义view-之激活码验证码输入框/index.html","hash":"9b714b9a83a7be15d0ebe6b00b33445029f314d9","modified":1527059838230},{"_id":"public/2017/11/14/Android-开发-自定义跑马灯-TextView/index.html","hash":"6ef201e4d1968fe91a31daace76a4b24a2dcedb9","modified":1527059838230},{"_id":"public/2017/10/31/git怎样删除未监视的文件untracked-files/index.html","hash":"24f5d9b678e0f8814e46fb948abb3eca9df44a03","modified":1527059838230},{"_id":"public/2017/10/26/七阶魔方中心块合并公式-含五阶魔方/index.html","hash":"79e1ba90eb37fa7abdffbbffa38967db9d8ce8b5","modified":1527059838230},{"_id":"public/2017/10/16/python-冒泡排序/index.html","hash":"26ea3db4665c5a2bba8e19acf3493115163cd236","modified":1527059838230},{"_id":"public/2017/09/27/jQuery选择器和选取方法-二/index.html","hash":"c92ab43581c59cd3a97ba604aaebc1bbcc5ebd5a","modified":1527059838230},{"_id":"public/2017/09/26/jQuery选择器和选取方法/index.html","hash":"4f1a07af9e9dad2a739a688850e7726fcbf36ed2","modified":1527059838230},{"_id":"public/2017/09/25/Html5-新元素/index.html","hash":"5b8270daee04b2047b584de72dc51fa8ea5e6149","modified":1527059838230},{"_id":"public/2017/09/22/Android-获取当前网络连接类型/index.html","hash":"f34d634b82429a7b2613449360968616e42765d3","modified":1527059838230},{"_id":"public/2017/09/20/杂想/index.html","hash":"5c2e87449bb625c606d9cd516cfb5e762fcdab34","modified":1527059838231},{"_id":"public/2017/09/19/Hexo-NexT-增加精品文章方法/index.html","hash":"39ed101237a6dc3ac150696603e88190b766f979","modified":1527059838231},{"_id":"public/2017/09/18/Hexo-NexT-博客搭建相册-二/index.html","hash":"048326bc70928dabfef5da0e125920ac0c8df71f","modified":1527059838231},{"_id":"public/2017/09/18/Hexo-NexT-博客搭建相册-一/index.html","hash":"aa8bf84310217b341fb0bff8d15962fc63acb635","modified":1527059838231},{"_id":"public/2017/09/14/CSS实现单行多行文本溢出显示省略号(...)/index.html","hash":"e03d83536ff65c3e3a414787eb06dd3ab2d44fd7","modified":1527059838231},{"_id":"public/2017/09/14/js-正则判断是否是手机号/index.html","hash":"1f9097006292e3fd9d25ca3681af72fe6a1b9354","modified":1527059838231},{"_id":"public/2017/09/13/Hexo博客添加文章置顶功能/index.html","hash":"33a0ace933c31c69922c73eeac738e736adcfce9","modified":1527059838231},{"_id":"public/2017/09/13/Hexo的版本控制与持续集成/index.html","hash":"c13e05786ea0136766c18c704ae90c9a25c3ddf1","modified":1527059838231},{"_id":"public/2017/09/12/Mac-下配置多个-ssh/index.html","hash":"39a5921eaaf358b9313429ae23b8b34e28810755","modified":1527059838231},{"_id":"public/2016/06/01/Android-Toast-类分装/index.html","hash":"ab2a6c7ccd17cb09dbabb6df1115220f28b28998","modified":1527059838231},{"_id":"public/2016/06/01/六一儿童节/index.html","hash":"73c3525da0d6acfafdb62ac2fe04fed726229b51","modified":1527059838231},{"_id":"public/2016/05/30/搬家/index.html","hash":"fd12d50d95214f4ec7a5e30395833db43532756b","modified":1527059838232},{"_id":"public/2015/12/29/github-上传代码-菜鸟超详细教程/index.html","hash":"9f4cfe3d3cb5b9fb23cefa79255085a586503003","modified":1527059838232},{"_id":"public/2015/12/25/关于用-hexo-d-失败的解决方法/index.html","hash":"2a3d711765ec35de41c3260aafcf03e7b4103975","modified":1527059838232},{"_id":"public/2015/12/23/hexo-创建文章-demo/index.html","hash":"a63391423255369e880d57dbe2e2297407342017","modified":1527059838232},{"_id":"public/archives/index.html","hash":"f1b069ceee868a778c4bb85cc2c3568fc59ab804","modified":1527059838232},{"_id":"public/archives/2015/index.html","hash":"beeaeb6e2b549bfe74ab0e9fd5c7c8ba034e6c57","modified":1527059838232},{"_id":"public/archives/2015/12/index.html","hash":"0c3dc8d1cb37a8281c30611f92dadef064ed8db9","modified":1527059838232},{"_id":"public/archives/2016/index.html","hash":"6010c1c929afdca59eb884c9336fd58cc1389f98","modified":1527059838232},{"_id":"public/archives/2016/05/index.html","hash":"35e011948eefe68679a18c3f5ec0d055495a9693","modified":1527059838232},{"_id":"public/archives/2016/06/index.html","hash":"9d532f6e7a0d5746b7e134cf0a6a5027493bbb91","modified":1527059838232},{"_id":"public/archives/2017/index.html","hash":"5c2b07c79dbb1fd533f5e15454fde1ee1aac802e","modified":1527059838232},{"_id":"public/archives/2017/09/index.html","hash":"4022e92323c69712c18b881b0abea90e6a306622","modified":1527059838232},{"_id":"public/archives/2017/10/index.html","hash":"2ff7b63a2b8516f47369e755c55c4022e66b1688","modified":1527059838232},{"_id":"public/archives/2017/11/index.html","hash":"d0cfdaa91320e0f271a4b3c5a7010a5c3b078b4a","modified":1527059838232},{"_id":"public/archives/2017/12/index.html","hash":"237da98794b874b2a1f706fd835e7b6e61a935dd","modified":1527059838233},{"_id":"public/archives/2018/index.html","hash":"bee3eec5a69c912973edbc6fc5f0aa1cb4d6d7df","modified":1527059838233},{"_id":"public/archives/2018/04/index.html","hash":"a84673ae9ccdadb57c08ba5f50da1c4027aba95a","modified":1527059838233},{"_id":"public/archives/2018/05/index.html","hash":"6ec9e2a9a7a68322f7bb50c737daaf9961e30c3d","modified":1527059838233},{"_id":"public/categories/技术/index.html","hash":"2d309bfb0e35c3aa0e5c888b04b7d81d5f48b3e5","modified":1527059838233},{"_id":"public/categories/技术/page/2/index.html","hash":"33708fb50323825979c0546bffaf45dbc770880a","modified":1527059838233},{"_id":"public/categories/技术/page/3/index.html","hash":"4b01925d1b62cdcdc0421b33bb2a3757cf6534ae","modified":1527059838233},{"_id":"public/categories/技术/page/4/index.html","hash":"90907b8fab71f429b92164095f147cb4e53c466e","modified":1527059838233},{"_id":"public/categories/技术/page/5/index.html","hash":"dbbac10e6c8cc6c7f2c0709652b9600bed4db2b8","modified":1527059838233},{"_id":"public/categories/技术/HTML5/index.html","hash":"f2ffc6c10d39809e97f0d13f68f25ab7797e20e1","modified":1527059838233},{"_id":"public/categories/技术/日志/index.html","hash":"ea722bcdfef3f7a980b7547209fe6c50ddd356bb","modified":1527059838233},{"_id":"public/categories/技术/日志/page/2/index.html","hash":"6be552827393df1fdb0cfd0c191b15897c692507","modified":1527059838233},{"_id":"public/categories/技术/Hexo/index.html","hash":"a54d270975116cf901d15f1c5f83290b4d33c195","modified":1527059838233},{"_id":"public/categories/技术/Python/index.html","hash":"5c2c246276254d145e8520e46a4e2c9c9fc26eae","modified":1527059838233},{"_id":"public/categories/技术/HTML5/CSS3/index.html","hash":"6555b26c74c4665e6c296b5bd26ea3fe61e9b78d","modified":1527059838233},{"_id":"public/categories/技术/日志/Android/index.html","hash":"ac1bb479f6e09968d7e126c194c0b041760693f1","modified":1527059838233},{"_id":"public/categories/技术/Git/index.html","hash":"a552712aea46cc4fe56c90a19238ec613aa42ed1","modified":1527059838233},{"_id":"public/categories/技术/HTML5/JS/index.html","hash":"04b02c558c08811b1cc83d59396000f1eed41a28","modified":1527059838234},{"_id":"public/categories/娱乐/index.html","hash":"ec0c9626bab40c8a732f49d49beb8c4e3b2a5e3b","modified":1527059838234},{"_id":"public/categories/日志/index.html","hash":"2d26df3b0cbdbc2229fb861e5aebea46ebbf7543","modified":1527059838234},{"_id":"public/categories/娱乐/魔方/index.html","hash":"820dc971dd620b0262df2c49f2b0b870cf3db42a","modified":1527059838234},{"_id":"public/index.html","hash":"9314afb0c892db7a021fd2938bd44e15f631f551","modified":1527059838234},{"_id":"public/page/2/index.html","hash":"c61272047f8e838a400bd6905aaaf190b7312abb","modified":1527059838234},{"_id":"public/page/3/index.html","hash":"603bf62764d754160aa0e91b323d298a44f1b020","modified":1527059838234},{"_id":"public/page/4/index.html","hash":"75c8622d2ba5efd9453d2c842a461cd60702a881","modified":1527059838234},{"_id":"public/page/5/index.html","hash":"ecfcdcb9f78fe211d6399cb6a49c9af90dc2a475","modified":1527059838234},{"_id":"public/page/6/index.html","hash":"82e50862db0e7cbbd610f665f3862aa11b13a3e6","modified":1527059838234},{"_id":"public/tags/hexo/index.html","hash":"d46890163cb0463486a431f353508903d122ed51","modified":1527059838234},{"_id":"public/tags/node-js/index.html","hash":"bc151cf3a6bbfd1bb1cf435db190102c3b54475f","modified":1527059838234},{"_id":"public/tags/android/index.html","hash":"a485bd7628ff39e587693e090dce7d9d3ebc08f1","modified":1527059838234},{"_id":"public/tags/跑马灯/index.html","hash":"0e398db75588dd3d346e9a7dc039841fad4513a3","modified":1527059838234},{"_id":"public/tags/自定义textview/index.html","hash":"eabb3e6c6ff0b1042f5392fc9d6968860d7a71ab","modified":1527059838234},{"_id":"public/tags/wifi/index.html","hash":"37dff7c800af1c9e4cadd2ebe3f20b23a36ada7b","modified":1527059838234},{"_id":"public/tags/安卓/index.html","hash":"33f6c7b2b2b3278bd5aaa335379a6a0402166cb8","modified":1527059838235},{"_id":"public/tags/网络/index.html","hash":"88d398b9387ebe27b09397096447635cbc401184","modified":1527059838235},{"_id":"public/tags/CSS3/index.html","hash":"5bb352a56ee0a251074db0b640d6028f10887586","modified":1527059838235},{"_id":"public/tags/CSS/index.html","hash":"1b14d060a0708231ef30d408784bb1768cbec07d","modified":1527059838235},{"_id":"public/tags/HTML5/index.html","hash":"30777830ef36de8f1770f4f38376b4bd787d632c","modified":1527059838235},{"_id":"public/tags/单行显示/index.html","hash":"c733669b414cd14772986cc927d410f27ddbe3bc","modified":1527059838235},{"_id":"public/tags/python/index.html","hash":"5b79474b6eae0c980fa4dadd00cfc05fff9afae7","modified":1527059838235},{"_id":"public/tags/geektool/index.html","hash":"f39e6eaf11b479c828ec77a5d0a30de29a49cdff","modified":1527059838235},{"_id":"public/tags/天气/index.html","hash":"a1096621c79067ce23f92184d021b1d475b0d4a6","modified":1527059838235},{"_id":"public/tags/beautifulsoup/index.html","hash":"da69d3b557ccdf99b7b6d5f38d686e1408cad27f","modified":1527059838235},{"_id":"public/tags/Hexo/index.html","hash":"c124364cec09ed46033001319cf13a86a4846ebb","modified":1527059838235},{"_id":"public/tags/NexT/index.html","hash":"52182ae495ffc56675a5ec30eee9b0a5a7334c4e","modified":1527059838235},{"_id":"public/tags/相册/index.html","hash":"7311a6e5720ae560efabd69ce4015018b24c2183","modified":1527059838235},{"_id":"public/tags/Photo/index.html","hash":"5c49e080a4f8088f35fdfaa96c9b93574721da3b","modified":1527059838235},{"_id":"public/tags/置顶/index.html","hash":"743808fdccb14fa80c40fa7830a2afc8a8cdbde4","modified":1527059838236},{"_id":"public/tags/持续集成/index.html","hash":"70ec6b6d7e82e1a071ac52433a9351699da198c0","modified":1527059838236},{"_id":"public/tags/版本管理/index.html","hash":"619ddc3a2a22866b448d652490a6ec2406faba2e","modified":1527059838236},{"_id":"public/tags/CI/index.html","hash":"e5af9c2ee9672a58162331ec744ff21c43111d40","modified":1527059838236},{"_id":"public/tags/AppVeyor/index.html","hash":"0f5b6bf4a9bc79ec403452e040948c9c775e9b17","modified":1527059838236},{"_id":"public/tags/git/index.html","hash":"e61926270ab32987ac7fbfc76640cbf74d01b1dd","modified":1527059838236},{"_id":"public/tags/标签/index.html","hash":"7be7769b372dcf4fdd76f6cfbb84c9ee8b436bd9","modified":1527059838236},{"_id":"public/tags/mac/index.html","hash":"4958b5af5ec72cdc733a3b09186a52a930b40241","modified":1527059838236},{"_id":"public/tags/ssh/index.html","hash":"88847324a9bea3e233649345b6c5c61cce32845d","modified":1527059838236},{"_id":"public/tags/github/index.html","hash":"b80c2aba2985fe537c2c76235e621a9b55f5e114","modified":1527059838236},{"_id":"public/tags/untracked/index.html","hash":"8e3ba87bb9d24b83545de580787c19a02df92b5e","modified":1527059838236},{"_id":"public/tags/js/index.html","hash":"ef92cb60fe66891987c6745444dadcc4129f36e3","modified":1527059838236},{"_id":"public/tags/JQuery/index.html","hash":"c918cfe2c22d82f19d5338ce46795ad9b6a18cfd","modified":1527059838236},{"_id":"public/tags/选择器/index.html","hash":"d41606875924b8354aaa81c9c60c19524ff4dc8b","modified":1527059838237},{"_id":"public/tags/正则/index.html","hash":"6ddab257bc66760ba9eeb928c65ace78b9d90a36","modified":1527059838237},{"_id":"public/tags/判断手机号/index.html","hash":"8066c833724072a2b14afb247391d25a317d2939","modified":1527059838237},{"_id":"public/tags/排序/index.html","hash":"3c86da1584948b495f8ad7abd188875d6754e94f","modified":1527059838237},{"_id":"public/tags/冒泡排序/index.html","hash":"43023dbf8cd356a1db5a6547f9018ec78542c64f","modified":1527059838237},{"_id":"public/tags/魔方/index.html","hash":"225c6bd135a82767ac4c6e8939f7d30a20167f15","modified":1527059838237},{"_id":"public/tags/七阶/index.html","hash":"c3b883cdb435e355c0c82c14a9579c80e95bc1d2","modified":1527059838237},{"_id":"public/tags/五阶/index.html","hash":"9e9f78b847723962f601c47fb72dd801f1588c2a","modified":1527059838237},{"_id":"public/tags/中心块/index.html","hash":"93f4f15225beb74dafe109027aaa800e6af8b72d","modified":1527059838237},{"_id":"public/tags/热修复/index.html","hash":"445b95f1fc0f2782fd40ffde81ab2e34260ffd0c","modified":1527059838237},{"_id":"public/tags/hook/index.html","hash":"951c197f3ef2274cdc7c262188dfbe2638786c5d","modified":1527059838237},{"_id":"public/tags/dex/index.html","hash":"e629ebc550d64364a7e057cc32fd39c0d65a0220","modified":1527059838237},{"_id":"public/tags/激活码/index.html","hash":"924c4a037e1607470001a206028171a3e879f836","modified":1527059838237},{"_id":"public/tags/验证码/index.html","hash":"6e954001cde8af4d29c705a614810992051f5ff4","modified":1527059838237},{"_id":"public/tags/自定义输入框/index.html","hash":"5f042014c3624034577491b17c41c08253304099","modified":1527059838238},{"_id":"public/schedule/index.html","hash":"556f740bab870c8092bdb99885bc2ced281f9634","modified":1527059838229},{"_id":"public/2018/05/17/Identifiers-must-have-user-defined-types-from-the-XML-file-View-is-missing/index.html","hash":"02299ac0f681b06361b74411d40e1297ae730a84","modified":1527059838230},{"_id":"public/categories/技术/Android/index.html","hash":"cc690b4dc47e7612f1dfb861284c409545ddb53c","modified":1527059838233},{"_id":"public/tags/databinding/index.html","hash":"f99fe74716f202e602ba7299738866f6a7d5f9f9","modified":1527059838236},{"_id":"public/CNAME","hash":"a31521278cef5f0b1e77851b4131d49bc50194e1","modified":1527053581999},{"_id":"public/photos/default-skin/default-skin.png","hash":"ed95a8e40a2c3478c5915376acb8e5f33677f24d","modified":1527053581999},{"_id":"public/photos/assets/empty.png","hash":"eb4025983c8b24539bb70db4b9b3e8d0a092ee61","modified":1527053581999},{"_id":"public/photos/default-skin/default-skin.svg","hash":"2ac727c9e092331d35cce95af209ccfac6d4c7c7","modified":1527053581999},{"_id":"public/photos/default-skin/preloader.gif","hash":"6342367c93c82da1b9c620e97c84a389cc43d96d","modified":1527053581999},{"_id":"public/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1527053581999},{"_id":"public/images/alipay.jpeg","hash":"1139effc77d1232b557da7da4b958292e2d11bc7","modified":1527053581999},{"_id":"public/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1527053581999},{"_id":"public/images/blockquote.png","hash":"1ccd95e7287d95b4b7a5283d1e002c291ada1cbd","modified":1527053581999},{"_id":"public/images/blockquote_demo.png","hash":"68ba706e0df79fd84e871d23b49e49eb558a7976","modified":1527053581999},{"_id":"public/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1527053581999},{"_id":"public/images/blockquote_demo1.png","hash":"a50f8d6789eea3682420294555a35afaadfe3df4","modified":1527053582000},{"_id":"public/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1527053582000},{"_id":"public/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1527053582000},{"_id":"public/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1527053582000},{"_id":"public/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1527053582000},{"_id":"public/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1527053582000},{"_id":"public/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1527053582000},{"_id":"public/images/codeblock.png","hash":"f0da4418a08363e69a0823b75b281701821183c8","modified":1527053582000},{"_id":"public/images/codeblockdemo.png","hash":"757b6e883d5d791c1c6fb2e0f272fda10d41dbb9","modified":1527053582000},{"_id":"public/images/codeblockdemo1.png","hash":"3069da3050912de970eac28454f4f03d70859955","modified":1527053582000},{"_id":"public/images/default_avatar.jpg","hash":"b22843ec26f6bd109921cf719c004a81445a2210","modified":1527053582000},{"_id":"public/images/favicon.ico","hash":"5c4267c22b948f595018a1908db79b7e5daa184a","modified":1527053582000},{"_id":"public/images/gist.png","hash":"9641ad72a73cca05dcc4d68e78202fd24d64e106","modified":1527053582000},{"_id":"public/images/iframe.png","hash":"24aa0aec36102dedbe7243cb11a815501b038046","modified":1527053582000},{"_id":"public/images/image.png","hash":"ad199600620b9d48bc74f59b8621e1d435c8b596","modified":1527053582000},{"_id":"public/images/include.png","hash":"5d7f289d16e9ebbf520b937e9923a2fd4d9c9672","modified":1527053582000},{"_id":"public/images/include_assets.png","hash":"85a5dc7874555f64904a8d8216eb77f7a715c622","modified":1527053582001},{"_id":"public/images/include_post.png","hash":"2d58432a518803c17f80658a0bc6251a251ce7aa","modified":1527053582001},{"_id":"public/images/jsfiddle.png","hash":"7990cec93c242fcefc9dae260d6688dffad0d6a1","modified":1527053582001},{"_id":"public/images/link.png","hash":"0935cd28cd0f7265e138578e15f2c4e8228f10a6","modified":1527053582001},{"_id":"public/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1527053582001},{"_id":"public/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1527053582001},{"_id":"public/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1527053582001},{"_id":"public/images/pullquote.png","hash":"2dcf3a006c782b0ddeb8a1200d79f4bc0d418f69","modified":1527053582001},{"_id":"public/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1527053582001},{"_id":"public/images/raw.png","hash":"3a908c6aa12b65cfd45cb615900fadb9f8fc1bd8","modified":1527053582001},{"_id":"public/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1527053582001},{"_id":"public/images/vimeo.png","hash":"c12f6d2e76cdafac4553a48bb5b6e6dfedde0d9e","modified":1527053582001},{"_id":"public/images/youtube.png","hash":"cc00caab1b0276734dbf54ce6c330f6fa0669054","modified":1527053582001},{"_id":"public/imgs/eg_arrow.gif","hash":"566be4a2e100842b0f97caf8c6bc341ae71d98d6","modified":1527053582001},{"_id":"public/imgs/body_bg.jpeg","hash":"7bf27016d86f1cf34f0f569bb69a87c57830fcce","modified":1527053582001},{"_id":"public/imgs/bg.jpg","hash":"de2ea0386edae0bd9f5b7664da6e72b172f2746b","modified":1527053582001},{"_id":"public/imgs/blog4/img2.png","hash":"d6de754b453c0b9192679ecb8644c5da22916f90","modified":1527053582001},{"_id":"public/imgs/blog4/img3.png","hash":"52b9a28f0607d15d7fe2332671c98543f80b2881","modified":1527053582002},{"_id":"public/imgs/blog4/img1.png","hash":"7d12e1259078edd3cb5f641187b8d5e14fdfa25f","modified":1527053582002},{"_id":"public/imgs/blog4/img4.png","hash":"d79aabe887acd66bc61f6406f741e246283ec1e5","modified":1527053582002},{"_id":"public/imgs/blog4/img5.png","hash":"06a75e97145caf9bad30a89cdc3b8f23dccfc895","modified":1527053582002},{"_id":"public/imgs/blog4/img6.png","hash":"16f5a8ef46750b7d5022890cade403ed5c532135","modified":1527053582002},{"_id":"public/imgs/blog4/img7.png","hash":"d18694e8897313c504463fc1fe68d97d51851a31","modified":1527053582002},{"_id":"public/imgs/blog4/img8.png","hash":"d91d515127857ee71681f0e81643dd7e72aafef2","modified":1527053582002},{"_id":"public/imgs/blog4/img9.png","hash":"a0a1a920acdef45130d962c07c259a966131ac80","modified":1527053582002},{"_id":"public/imgs/blog6/img1.png","hash":"c2786c835b06d779e7d2dcdc038fa37e3fbae3e6","modified":1527053582002},{"_id":"public/imgs/blog7/img2.png","hash":"ea0f10bd0a044c56e9ff4f9d5cdecc02ccabf231","modified":1527053582002},{"_id":"public/imgs/blog7/img3.png","hash":"51fbc3cc751848b33fe9ecc98913dc2a8a839365","modified":1527053582002},{"_id":"public/imgs/blog7/img4.png","hash":"c6a90aa93319fd594e20df2323a1252e61ea7314","modified":1527053582002},{"_id":"public/imgs/blog7/img5.png","hash":"6c86ede604d47c8ae1d8c58e7440f22acdf2ff5c","modified":1527053582002},{"_id":"public/imgs/blog7/img6.png","hash":"f77c3a55014153f8de6b7e0b9ebee3c715976f68","modified":1527053582002},{"_id":"public/lib/fastclick/LICENSE","hash":"dcd5b6b43095d9e90353a28b09cb269de8d4838e","modified":1527053582002},{"_id":"public/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1527053582002},{"_id":"public/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1527053582002},{"_id":"public/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1527053582003},{"_id":"public/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1527053582003},{"_id":"public/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1527053582003},{"_id":"public/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1527053582003},{"_id":"public/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1527053582003},{"_id":"public/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1527053582003},{"_id":"public/lib/Han/dist/font/han-space.otf","hash":"07436f011b44051f61b8329c99de4bec64e86f4b","modified":1527053582003},{"_id":"public/lib/Han/dist/font/han-space.woff","hash":"7a635062b10bf5662ae1d218ba0980171005d060","modified":1527053582003},{"_id":"public/lib/Han/dist/font/han.otf","hash":"f1f6bb8f461f5672e000380195d3d2358a28494c","modified":1527053582003},{"_id":"public/lib/Han/dist/font/han.woff","hash":"f38ff9b2eecaa17b50b66aa2dae87e9e7436d195","modified":1527053582003},{"_id":"public/lib/Han/dist/font/han.woff2","hash":"623af3ed5423371ac136a4fe0e8cc7bb7396037a","modified":1527053582003},{"_id":"public/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1527053582003},{"_id":"public/images/weixinpay.jpeg","hash":"a1a235fe6c6a804456d63943f202dd7b00260fa8","modified":1527053582480},{"_id":"public/imgs/bg2.jpg","hash":"2f9398cff76706995098012763b5e2e5655fea34","modified":1527053582482},{"_id":"public/imgs/blog7/img1.png","hash":"f4524d1c58caf35d0a5b18d39d7f21e83395e66e","modified":1527053582490},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1527053582490},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1527053582490},{"_id":"public/404.html","hash":"61ba70e9894f899fc8878215b5677004edb32f12","modified":1527053582497},{"_id":"public/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1527053582497},{"_id":"public/js/src/algolia-search.js","hash":"5c1a26a3f53e598af72e01f6dd9b4d352ba962ee","modified":1527053582497},{"_id":"public/js/src/bootstrap.js","hash":"034bc8113e0966fe2096ba5b56061bbf10ef0512","modified":1527053582498},{"_id":"public/js/src/exturl.js","hash":"e42e2aaab7bf4c19a0c8e779140e079c6aa5c0b1","modified":1527053582498},{"_id":"public/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1527053582498},{"_id":"public/js/src/hook-duoshuo.js","hash":"a6119070c0119f33e08b29da7d2cce2635eb40a0","modified":1527053582498},{"_id":"public/js/src/photoswipe-ui-default.min.js","hash":"d80b713ca1bab90f27a8af7d8e43563f0fe81860","modified":1527053582498},{"_id":"public/js/src/motion.js","hash":"da146caf488078a634d961debf2a71ce4106018c","modified":1527053582498},{"_id":"public/js/src/post-details.js","hash":"0693695a9512641daff63d99da772625a058ab18","modified":1527053582498},{"_id":"public/js/src/scroll-cookie.js","hash":"09dc828cbf5f31158ff6250d2bf7c3cde6365c67","modified":1527053582498},{"_id":"public/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1527053582498},{"_id":"public/js/src/utils.js","hash":"2917c39c75b14b6dab7e1c46ab4d87b4df9fcd5d","modified":1527053582498},{"_id":"public/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1527053582498},{"_id":"public/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1527053582498},{"_id":"public/lib/canvas-ribbon/canvas-ribbon.js","hash":"7fd2f3e2773555392ef40df40cae3bedb884f17a","modified":1527053582498},{"_id":"public/lib/fastclick/README.html","hash":"da3c74d484c73cc7df565e8abbfa4d6a5a18d4da","modified":1527053582498},{"_id":"public/lib/fastclick/bower.json","hash":"4dcecf83afddba148464d5339c93f6d0aa9f42e9","modified":1527053582498},{"_id":"public/lib/font-awesome/bower.json","hash":"64394a2a9aa00f8e321d8daa5e51a420f0e96dad","modified":1527053582498},{"_id":"public/lib/jquery_lazyload/CONTRIBUTING.html","hash":"a6358170d346af13b1452ac157b60505bec7015c","modified":1527053582498},{"_id":"public/lib/jquery_lazyload/README.html","hash":"bde24335f6bc09d8801c0dcd7274f71b466552bd","modified":1527053582498},{"_id":"public/lib/jquery_lazyload/bower.json","hash":"ae3c3b61e6e7f9e1d7e3585ad854380ecc04cf53","modified":1527053582498},{"_id":"public/lib/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1527053582498},{"_id":"public/lib/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1527053582498},{"_id":"public/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1527053582498},{"_id":"public/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1527053582498},{"_id":"public/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1527053582498},{"_id":"public/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1527053582499},{"_id":"public/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1527053582499},{"_id":"public/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1527053582499},{"_id":"public/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1527053582499},{"_id":"public/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1527053582499},{"_id":"public/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1527053582499},{"_id":"public/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1527053582499},{"_id":"public/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1527053582499},{"_id":"public/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1527053582499},{"_id":"public/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1527053582499},{"_id":"public/lib/pace/pace.min.js","hash":"9944dfb7814b911090e96446cea4d36e2b487234","modified":1527053582499},{"_id":"public/lib/velocity/bower.json","hash":"0ef14e7ccdfba5db6eb3f8fc6aa3b47282c36409","modified":1527053582499},{"_id":"public/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1527053582499},{"_id":"public/js/src/schemes/pisces.js","hash":"79da92119bc246fe05d1626ac98426a83ec90a94","modified":1527053582499},{"_id":"public/lib/fancybox/source/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1527053582499},{"_id":"public/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1527053582499},{"_id":"public/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1527053582499},{"_id":"public/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1527053582499},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1527053582499},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1527053582499},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1527053582499},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1527053582500},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1527053582500},{"_id":"public/css/main.css","hash":"c496e3a803a9a5ccb87bd384f7297182c7c20271","modified":1527053582500},{"_id":"public/js/src/photoswipe.min.js","hash":"791703278e7c576b08b67f18404bae9eb8cebfaf","modified":1527053582500},{"_id":"public/js/src/uyan.js","hash":"81b765838018f35ba6bb6470319f9b15e679283d","modified":1527053582500},{"_id":"public/lib/three/canvas_lines.min.js","hash":"dce4a3b65f8bf958f973690caa7ec4952f353b0c","modified":1527053582500},{"_id":"public/lib/three/canvas_sphere.min.js","hash":"d8ea241a53c135a650f7335d2b6982b899fd58a9","modified":1527053582500},{"_id":"public/lib/three/three-waves.min.js","hash":"d968cba6b3a50b3626a02d67b544f349d83b147c","modified":1527053582500},{"_id":"public/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1527053582500},{"_id":"public/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1527053582500},{"_id":"public/lib/Han/dist/han.css","hash":"bd40da3fba8735df5850956814e312bd7b3193d7","modified":1527053582500},{"_id":"public/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1527053582500},{"_id":"public/lib/Han/dist/han.min.css","hash":"a0c9e32549a8b8cf327ab9227b037f323cdb60ee","modified":1527053582501},{"_id":"public/lib/Han/dist/han.min.js","hash":"f559c68a25065a14f47da954a7617d87263e409d","modified":1527053582501},{"_id":"public/js/src/particles.js","hash":"d915ddda2c416f9f5cdc07b1eb4c9eb581dcfe19","modified":1527053582501},{"_id":"public/lib/fancybox/source/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1527053582501},{"_id":"public/lib/fancybox/source/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1527053582501},{"_id":"public/lib/fastclick/lib/fastclick.js","hash":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1527053582501},{"_id":"public/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1527053582501},{"_id":"public/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1527053582501},{"_id":"public/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1527053582502},{"_id":"public/lib/Han/dist/han.js","hash":"e345397e0585c9fed1449e614ec13e0224acf2ab","modified":1527053582502},{"_id":"public/lib/algolia-instant-search/instantsearch.min.js","hash":"9ccc6f8144f54e86df9a3fd33a18368d81cf3a4f","modified":1527053582502},{"_id":"public/lib/three/three.min.js","hash":"73f4cdc17e51a72b9bf5b9291f65386d615c483b","modified":1527053582502},{"_id":"public/lib/font-awesome/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1527053582502},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1527053582503},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1527053582503},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"98a8aa5cf7d62c2eff5f07ede8d844b874ef06ed","modified":1527053582587}],"Category":[{"name":"技术","_id":"cjhio9nnw00046bfyaw5au0dz"},{"name":"HTML5","parent":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9no9000j6bfyitca4fdz"},{"name":"日志","parent":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9noc000o6bfyfiqow68d"},{"name":"Python","parent":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9nof000t6bfyti45akvh"},{"name":"Hexo","parent":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9nom001f6bfytjn01wfh"},{"name":"CSS3","parent":"cjhio9no9000j6bfyitca4fdz","_id":"cjhio9nox002a6bfy8j85pc9g"},{"name":"Android","parent":"cjhio9noc000o6bfyfiqow68d","_id":"cjhio9noy002i6bfy7l54t5c5"},{"name":"Android","parent":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9noz002m6bfysux56mh9"},{"name":"Git","parent":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9np0002t6bfy8rgea4rc"},{"name":"JS","parent":"cjhio9no9000j6bfyitca4fdz","_id":"cjhio9np100326bfysjk5c41y"},{"name":"娱乐","_id":"cjhio9np3003d6bfy3y0zawbq"},{"name":"日志","_id":"cjhio9np4003j6bfyvmiob2gx"},{"name":"魔方","parent":"cjhio9np3003d6bfy3y0zawbq","_id":"cjhio9np6003y6bfyyg9ypxxk"}],"Data":[],"Page":[{"title":"关于我","date":"2017-09-12T05:22:40.000Z","_content":" \n 一个简简单单的程序猿.\n\n 业务范围\n ```\n 微信小程序开发\n\n 网站建设\n\n app 开发\n ```\n\n 联系方式\n ```\n qq: 514387454\n ```\n","source":"about/index.md","raw":"---\ntitle: 关于我\ndate: 2017-09-12 13:22:40\n---\n \n 一个简简单单的程序猿.\n\n 业务范围\n ```\n 微信小程序开发\n\n 网站建设\n\n app 开发\n ```\n\n 联系方式\n ```\n qq: 514387454\n ```\n","updated":"2018-05-14T05:09:18.659Z","path":"about/index.html","comments":1,"layout":"page","_id":"cjhio9nnt00016bfym9k775pw","content":"<p> 一个简简单单的程序猿.</p>\n<p> 业务范围<br> <figure class=\"highlight stata\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">微信小程序开发</span><br><span class=\"line\"></span><br><span class=\"line\">网站建设</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">app</span> 开发</span><br></pre></td></tr></table></figure></p>\n<p> 联系方式<br> <figure class=\"highlight avrasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">qq:</span> <span class=\"number\">514387454</span></span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"","more":"<p> 一个简简单单的程序猿.</p>\n<p> 业务范围<br> <figure class=\"highlight stata\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">微信小程序开发</span><br><span class=\"line\"></span><br><span class=\"line\">网站建设</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">app</span> 开发</span><br></pre></td></tr></table></figure></p>\n<p> 联系方式<br> <figure class=\"highlight avrasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">qq:</span> <span class=\"number\">514387454</span></span><br></pre></td></tr></table></figure></p>\n"},{"title":"所有分类","date":"2017-09-11T08:24:20.000Z","type":"categories","comments":0,"_content":"","source":"categories/index.md","raw":"---\ntitle: 所有分类\ndate: 2017-09-11 16:24:20\ntype: \"categories\"\ncomments: false\n---\n","updated":"2018-05-02T05:55:01.751Z","path":"categories/index.html","layout":"page","_id":"cjhio9nnv00036bfy3ji1n49n","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"我的行程","date":"2018-05-23T05:29:17.000Z","type":"schedule","comments":0,"_content":"","source":"schedule/index.md","raw":"---\ntitle: 我的行程\ndate: 2018-05-23 13:29:17\ntype: \"schedule\"\ncomments: false\n---\n","updated":"2018-05-23T05:32:43.618Z","path":"schedule/index.html","layout":"page","_id":"cjhio9nnz00076bfyjur41e5v","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"我的相册","date":"2017-09-15T01:51:05.000Z","type":"photos","comments":0,"_content":"<link rel=\"stylesheet\" href=\"./ins.css\">\n <link rel=\"stylesheet\" href=\"./photoswipe.css\"> \n<link rel=\"stylesheet\" href=\"./default-skin/default-skin.css\"> \n<div class=\"photos-btn-wrap\">\n\t<a class=\"photos-btn active\" href=\"javascript:void(0)\">Photos</a>\n</div>\n<div class=\"instagram itemscope\">\n\t<a href=\"https://lovexinforever.github.io\" target=\"_blank\" class=\"open-ins\">图片正在加载中…</a>\n</div>\n \n<script>\n  (function() {\n    var loadScript = function(path) {\n      var $script = document.createElement('script')\n      document.getElementsByTagName('body')[0].appendChild($script)\n      $script.setAttribute('src', path)\n    }\n    setTimeout(function() {\n        loadScript('./ins.js')\n    }, 0)\n  })()\n</script>","source":"photos/index.md","raw":"---\ntitle: 我的相册\ndate: 2017-09-15 09:51:05\ntype: \"photos\"\ncomments: false\n---\n<link rel=\"stylesheet\" href=\"./ins.css\">\n <link rel=\"stylesheet\" href=\"./photoswipe.css\"> \n<link rel=\"stylesheet\" href=\"./default-skin/default-skin.css\"> \n<div class=\"photos-btn-wrap\">\n\t<a class=\"photos-btn active\" href=\"javascript:void(0)\">Photos</a>\n</div>\n<div class=\"instagram itemscope\">\n\t<a href=\"https://lovexinforever.github.io\" target=\"_blank\" class=\"open-ins\">图片正在加载中…</a>\n</div>\n \n<script>\n  (function() {\n    var loadScript = function(path) {\n      var $script = document.createElement('script')\n      document.getElementsByTagName('body')[0].appendChild($script)\n      $script.setAttribute('src', path)\n    }\n    setTimeout(function() {\n        loadScript('./ins.js')\n    }, 0)\n  })()\n</script>","updated":"2018-05-02T05:55:01.753Z","path":"photos/index.html","layout":"page","_id":"cjhio9nuh007g6bfyqohi43zb","content":"<p><link rel=\"stylesheet\" href=\"./ins.css\"><br> <link rel=\"stylesheet\" href=\"./photoswipe.css\"> </p>\n<p><link rel=\"stylesheet\" href=\"./default-skin/default-skin.css\"> </p>\n<div class=\"photos-btn-wrap\"><br>    <a class=\"photos-btn active\" href=\"javascript:void(0)\" target=\"_blank\" rel=\"noopener\">Photos</a><br></div><br><div class=\"instagram itemscope\"><br>    <a href=\"https://lovexinforever.github.io\" target=\"_blank\" class=\"open-ins\">图片正在加载中…</a><br></div>\n\n<script>\n  (function() {\n    var loadScript = function(path) {\n      var $script = document.createElement('script')\n      document.getElementsByTagName('body')[0].appendChild($script)\n      $script.setAttribute('src', path)\n    }\n    setTimeout(function() {\n        loadScript('./ins.js')\n    }, 0)\n  })()\n</script>","site":{"data":{}},"excerpt":"","more":"<p><link rel=\"stylesheet\" href=\"./ins.css\"><br> <link rel=\"stylesheet\" href=\"./photoswipe.css\"> </p>\n<p><link rel=\"stylesheet\" href=\"./default-skin/default-skin.css\"> </p>\n<div class=\"photos-btn-wrap\"><br>    <a class=\"photos-btn active\" href=\"javascript:void(0)\" target=\"_blank\" rel=\"noopener\">Photos</a><br></div><br><div class=\"instagram itemscope\"><br>    <a href=\"https://lovexinforever.github.io\" target=\"_blank\" class=\"open-ins\">图片正在加载中…</a><br></div>\n\n<script>\n  (function() {\n    var loadScript = function(path) {\n      var $script = document.createElement('script')\n      document.getElementsByTagName('body')[0].appendChild($script)\n      $script.setAttribute('src', path)\n    }\n    setTimeout(function() {\n        loadScript('./ins.js')\n    }, 0)\n  })()\n</script>"},{"_content":"{\"list\": [{\"date\": \"2018-5-\", \"arr\": {\"year\": 2018, \"month\": 5, \"link\": [\"2018-5-8_\\u7011\\u5e03.jpeg\", \"2018-5-8_\\u6c34\\u58a8\\u548c\\u6c34.jpg\", \"2018-5-8_\\u65e7\\u623f\\u5b50.jpg\", \"2018-5-7_\\u6811\\u548c\\u6c34\\u5012\\u5f71.jpg\", \"2018-5-4_\\u957f\\u57ce.jpg\", \"2018-5-18_\\u519b\\u4eba\\u548c\\u9ebb\\u5c06.jpg\"], \"text\": [\"\\u7011\\u5e03\", \"\\u6c34\\u58a8\\u548c\\u6c34\", \"\\u65e7\\u623f\\u5b50\", \"\\u6811\\u548c\\u6c34\\u5012\\u5f71\", \"\\u957f\\u57ce\", \"\\u519b\\u4eba\\u548c\\u9ebb\\u5c06\"], \"type\": [\"image\", \"image\", \"image\", \"image\", \"image\", \"image\"]}}, {\"date\": \"2018-4-\", \"arr\": {\"year\": 2018, \"month\": 4, \"link\": [\"2018-4-28_\\u9ec4\\u660f.jpg\", \"2018-4-28_\\u5b64\\u821f.jpg\", \"2018-4-28_\\u597d\\u770b\\u7684\\u6811.jpg\", \"2018-4-28_\\u53e4\\u8ff9.jpg\", \"2018-4-24_\\u51b0.jpg\", \"2018-4-19_\\u6c7d\\u8f66.jpeg\"], \"text\": [\"\\u9ec4\\u660f\", \"\\u5b64\\u821f\", \"\\u597d\\u770b\\u7684\\u6811\", \"\\u53e4\\u8ff9\", \"\\u51b0\", \"\\u6c7d\\u8f66\"], \"type\": [\"image\", \"image\", \"image\", \"image\", \"image\", \"image\"]}}, {\"date\": \"2017-12\", \"arr\": {\"year\": 2017, \"month\": 12, \"link\": [\"2017-12-26_\\u7ea2\\u82b1\\u4e0e\\u6c34\\u6ef4.jpg\"], \"text\": [\"\\u7ea2\\u82b1\\u4e0e\\u6c34\\u6ef4\"], \"type\": [\"image\"]}}, {\"date\": \"2017-11\", \"arr\": {\"year\": 2017, \"month\": 11, \"link\": [\"2017-11-8_\\u7ea2\\u82b1.jpg\"], \"text\": [\"\\u7ea2\\u82b1\"], \"type\": [\"image\"]}}, {\"date\": \"2017-10\", \"arr\": {\"year\": 2017, \"month\": 10, \"link\": [\"2017-10-26_\\u9b54\\u65b9.jpg\", \"2017-10-17_\\u9f99\\u4e0e\\u6218\\u58eb.jpg\", \"2017-10-17_\\u9f99.jpg\", \"2017-10-17_\\u9e70.jpg\", \"2017-10-17_\\u6218\\u58eb\\u57ce\\u5821.jpg\", \"2017-10-16_\\u8349\\u6ef4\\u96e8.jpeg\", \"2017-10-16_\\u4e03\\u661f\\u74e2\\u866b.jpeg\", \"2017-10-12_\\u84b2\\u516c\\u82f1.jpeg\"], \"text\": [\"\\u9b54\\u65b9\", \"\\u9f99\\u4e0e\\u6218\\u58eb\", \"\\u9f99\", \"\\u9e70\", \"\\u6218\\u58eb\\u57ce\\u5821\", \"\\u8349\\u6ef4\\u96e8\", \"\\u4e03\\u661f\\u74e2\\u866b\", \"\\u84b2\\u516c\\u82f1\"], \"type\": [\"image\", \"image\", \"image\", \"image\", \"image\", \"image\", \"image\", \"image\"]}}, {\"date\": \"2017-9-\", \"arr\": {\"year\": 2017, \"month\": 9, \"link\": [\"2017-9-27_\\u9b54\\u672f\\u5e08\\u80cc\\u5f71.png\", \"2017-9-27_\\u62b1\\u7740\\u4f60.jpg\", \"2017-9-27_\\u5973\\u5b69\\u4e0e\\u72fc.jpg\", \"2017-9-27_\\u5947\\u601d\\u5999\\u60f3.jpg\", \"2017-9-27_\\u52a8\\u6f2b\\u6811\\u4e0b.jpg\", \"2017-9-18_\\u8774\\u8776.jpg\", \"2017-9-15_\\u9732\\u73e0.jpeg\", \"2017-9-15_\\u8336\\u9053.jpg\", \"2017-9-15_\\u82b1.jpeg\", \"2017-9-15_\\u6606\\u866b.jpeg\"], \"text\": [\"\\u9b54\\u672f\\u5e08\\u80cc\\u5f71\", \"\\u62b1\\u7740\\u4f60\", \"\\u5973\\u5b69\\u4e0e\\u72fc\", \"\\u5947\\u601d\\u5999\\u60f3\", \"\\u52a8\\u6f2b\\u6811\\u4e0b\", \"\\u8774\\u8776\", \"\\u9732\\u73e0\", \"\\u8336\\u9053\", \"\\u82b1\", \"\\u6606\\u866b\"], \"type\": [\"image\", \"image\", \"image\", \"image\", \"image\", \"image\", \"image\", \"image\", \"image\", \"image\"]}}, {\"date\": \"2017-8-\", \"arr\": {\"year\": 2017, \"month\": 8, \"link\": [\"2017-8-20_\\u96e8\\u6c34\\u6811.jpg\", \"2017-8-14_\\u521b\\u610f\\u56fe\\u7247.jpeg\"], \"text\": [\"\\u96e8\\u6c34\\u6811\", \"\\u521b\\u610f\\u56fe\\u7247\"], \"type\": [\"image\", \"image\"]}}, {\"date\": \"2017-6-\", \"arr\": {\"year\": 2017, \"month\": 6, \"link\": [\"2017-6-21_\\u548c\\u8c10\\u7684\\u52a8\\u7269.jpeg\"], \"text\": [\"\\u548c\\u8c10\\u7684\\u52a8\\u7269\"], \"type\": [\"image\"]}}, {\"date\": \"2016-7-\", \"arr\": {\"year\": 2016, \"month\": 7, \"link\": [\"2016-7-3_\\u661f\\u7a7a.jpeg\"], \"text\": [\"\\u661f\\u7a7a\"], \"type\": [\"image\"]}}, {\"date\": \"2016-4-\", \"arr\": {\"year\": 2016, \"month\": 4, \"link\": [\"2016-4-23_\\u7ea2\\u6811\\u4e0e\\u5012\\u5f71.jpeg\"], \"text\": [\"\\u7ea2\\u6811\\u4e0e\\u5012\\u5f71\"], \"type\": [\"image\"]}}, {\"date\": \"2015-10\", \"arr\": {\"year\": 2015, \"month\": 10, \"link\": [\"2015-10-12_\\u6c34\\u5f69\\u753b\\u623f\\u5b50.jpeg\"], \"text\": [\"\\u6c34\\u5f69\\u753b\\u623f\\u5b50\"], \"type\": [\"image\"]}}, {\"date\": \"2014-5-\", \"arr\": {\"year\": 2014, \"month\": 5, \"link\": [\"2014-5-13_\\u6c34\\u548c\\u6811.jpeg\"], \"text\": [\"\\u6c34\\u548c\\u6811\"], \"type\": [\"image\"]}}, {\"date\": \"2014-2-\", \"arr\": {\"year\": 2014, \"month\": 2, \"link\": [\"2014-2-12_\\u87f9.jpeg\"], \"text\": [\"\\u87f9\"], \"type\": [\"image\"]}}, {\"date\": \"2013-2-\", \"arr\": {\"year\": 2013, \"month\": 2, \"link\": [\"2013-2-12_\\u6d77\\u8fb9\\u623f.jpeg\"], \"text\": [\"\\u6d77\\u8fb9\\u623f\"], \"type\": [\"image\"]}}]}","source":"photos/data.json","raw":"{\"list\": [{\"date\": \"2018-5-\", \"arr\": {\"year\": 2018, \"month\": 5, \"link\": [\"2018-5-8_\\u7011\\u5e03.jpeg\", \"2018-5-8_\\u6c34\\u58a8\\u548c\\u6c34.jpg\", \"2018-5-8_\\u65e7\\u623f\\u5b50.jpg\", \"2018-5-7_\\u6811\\u548c\\u6c34\\u5012\\u5f71.jpg\", \"2018-5-4_\\u957f\\u57ce.jpg\", \"2018-5-18_\\u519b\\u4eba\\u548c\\u9ebb\\u5c06.jpg\"], \"text\": [\"\\u7011\\u5e03\", \"\\u6c34\\u58a8\\u548c\\u6c34\", \"\\u65e7\\u623f\\u5b50\", \"\\u6811\\u548c\\u6c34\\u5012\\u5f71\", \"\\u957f\\u57ce\", \"\\u519b\\u4eba\\u548c\\u9ebb\\u5c06\"], \"type\": [\"image\", \"image\", \"image\", \"image\", \"image\", \"image\"]}}, {\"date\": \"2018-4-\", \"arr\": {\"year\": 2018, \"month\": 4, \"link\": [\"2018-4-28_\\u9ec4\\u660f.jpg\", \"2018-4-28_\\u5b64\\u821f.jpg\", \"2018-4-28_\\u597d\\u770b\\u7684\\u6811.jpg\", \"2018-4-28_\\u53e4\\u8ff9.jpg\", \"2018-4-24_\\u51b0.jpg\", \"2018-4-19_\\u6c7d\\u8f66.jpeg\"], \"text\": [\"\\u9ec4\\u660f\", \"\\u5b64\\u821f\", \"\\u597d\\u770b\\u7684\\u6811\", \"\\u53e4\\u8ff9\", \"\\u51b0\", \"\\u6c7d\\u8f66\"], \"type\": [\"image\", \"image\", \"image\", \"image\", \"image\", \"image\"]}}, {\"date\": \"2017-12\", \"arr\": {\"year\": 2017, \"month\": 12, \"link\": [\"2017-12-26_\\u7ea2\\u82b1\\u4e0e\\u6c34\\u6ef4.jpg\"], \"text\": [\"\\u7ea2\\u82b1\\u4e0e\\u6c34\\u6ef4\"], \"type\": [\"image\"]}}, {\"date\": \"2017-11\", \"arr\": {\"year\": 2017, \"month\": 11, \"link\": [\"2017-11-8_\\u7ea2\\u82b1.jpg\"], \"text\": [\"\\u7ea2\\u82b1\"], \"type\": [\"image\"]}}, {\"date\": \"2017-10\", \"arr\": {\"year\": 2017, \"month\": 10, \"link\": [\"2017-10-26_\\u9b54\\u65b9.jpg\", \"2017-10-17_\\u9f99\\u4e0e\\u6218\\u58eb.jpg\", \"2017-10-17_\\u9f99.jpg\", \"2017-10-17_\\u9e70.jpg\", \"2017-10-17_\\u6218\\u58eb\\u57ce\\u5821.jpg\", \"2017-10-16_\\u8349\\u6ef4\\u96e8.jpeg\", \"2017-10-16_\\u4e03\\u661f\\u74e2\\u866b.jpeg\", \"2017-10-12_\\u84b2\\u516c\\u82f1.jpeg\"], \"text\": [\"\\u9b54\\u65b9\", \"\\u9f99\\u4e0e\\u6218\\u58eb\", \"\\u9f99\", \"\\u9e70\", \"\\u6218\\u58eb\\u57ce\\u5821\", \"\\u8349\\u6ef4\\u96e8\", \"\\u4e03\\u661f\\u74e2\\u866b\", \"\\u84b2\\u516c\\u82f1\"], \"type\": [\"image\", \"image\", \"image\", \"image\", \"image\", \"image\", \"image\", \"image\"]}}, {\"date\": \"2017-9-\", \"arr\": {\"year\": 2017, \"month\": 9, \"link\": [\"2017-9-27_\\u9b54\\u672f\\u5e08\\u80cc\\u5f71.png\", \"2017-9-27_\\u62b1\\u7740\\u4f60.jpg\", \"2017-9-27_\\u5973\\u5b69\\u4e0e\\u72fc.jpg\", \"2017-9-27_\\u5947\\u601d\\u5999\\u60f3.jpg\", \"2017-9-27_\\u52a8\\u6f2b\\u6811\\u4e0b.jpg\", \"2017-9-18_\\u8774\\u8776.jpg\", \"2017-9-15_\\u9732\\u73e0.jpeg\", \"2017-9-15_\\u8336\\u9053.jpg\", \"2017-9-15_\\u82b1.jpeg\", \"2017-9-15_\\u6606\\u866b.jpeg\"], \"text\": [\"\\u9b54\\u672f\\u5e08\\u80cc\\u5f71\", \"\\u62b1\\u7740\\u4f60\", \"\\u5973\\u5b69\\u4e0e\\u72fc\", \"\\u5947\\u601d\\u5999\\u60f3\", \"\\u52a8\\u6f2b\\u6811\\u4e0b\", \"\\u8774\\u8776\", \"\\u9732\\u73e0\", \"\\u8336\\u9053\", \"\\u82b1\", \"\\u6606\\u866b\"], \"type\": [\"image\", \"image\", \"image\", \"image\", \"image\", \"image\", \"image\", \"image\", \"image\", \"image\"]}}, {\"date\": \"2017-8-\", \"arr\": {\"year\": 2017, \"month\": 8, \"link\": [\"2017-8-20_\\u96e8\\u6c34\\u6811.jpg\", \"2017-8-14_\\u521b\\u610f\\u56fe\\u7247.jpeg\"], \"text\": [\"\\u96e8\\u6c34\\u6811\", \"\\u521b\\u610f\\u56fe\\u7247\"], \"type\": [\"image\", \"image\"]}}, {\"date\": \"2017-6-\", \"arr\": {\"year\": 2017, \"month\": 6, \"link\": [\"2017-6-21_\\u548c\\u8c10\\u7684\\u52a8\\u7269.jpeg\"], \"text\": [\"\\u548c\\u8c10\\u7684\\u52a8\\u7269\"], \"type\": [\"image\"]}}, {\"date\": \"2016-7-\", \"arr\": {\"year\": 2016, \"month\": 7, \"link\": [\"2016-7-3_\\u661f\\u7a7a.jpeg\"], \"text\": [\"\\u661f\\u7a7a\"], \"type\": [\"image\"]}}, {\"date\": \"2016-4-\", \"arr\": {\"year\": 2016, \"month\": 4, \"link\": [\"2016-4-23_\\u7ea2\\u6811\\u4e0e\\u5012\\u5f71.jpeg\"], \"text\": [\"\\u7ea2\\u6811\\u4e0e\\u5012\\u5f71\"], \"type\": [\"image\"]}}, {\"date\": \"2015-10\", \"arr\": {\"year\": 2015, \"month\": 10, \"link\": [\"2015-10-12_\\u6c34\\u5f69\\u753b\\u623f\\u5b50.jpeg\"], \"text\": [\"\\u6c34\\u5f69\\u753b\\u623f\\u5b50\"], \"type\": [\"image\"]}}, {\"date\": \"2014-5-\", \"arr\": {\"year\": 2014, \"month\": 5, \"link\": [\"2014-5-13_\\u6c34\\u548c\\u6811.jpeg\"], \"text\": [\"\\u6c34\\u548c\\u6811\"], \"type\": [\"image\"]}}, {\"date\": \"2014-2-\", \"arr\": {\"year\": 2014, \"month\": 2, \"link\": [\"2014-2-12_\\u87f9.jpeg\"], \"text\": [\"\\u87f9\"], \"type\": [\"image\"]}}, {\"date\": \"2013-2-\", \"arr\": {\"year\": 2013, \"month\": 2, \"link\": [\"2013-2-12_\\u6d77\\u8fb9\\u623f.jpeg\"], \"text\": [\"\\u6d77\\u8fb9\\u623f\"], \"type\": [\"image\"]}}]}","date":"2018-05-18T08:16:56.992Z","updated":"2018-05-18T08:16:56.992Z","path":"photos/data.json","layout":"false","title":"","comments":1,"_id":"cjhio9nuj007h6bfy9yt3lgn6","content":"{\"list\":[{\"date\":\"2018-5-\",\"arr\":{\"year\":2018,\"month\":5,\"link\":[\"2018-5-8_瀑布.jpeg\",\"2018-5-8_水墨和水.jpg\",\"2018-5-8_旧房子.jpg\",\"2018-5-7_树和水倒影.jpg\",\"2018-5-4_长城.jpg\",\"2018-5-18_军人和麻将.jpg\"],\"text\":[\"瀑布\",\"水墨和水\",\"旧房子\",\"树和水倒影\",\"长城\",\"军人和麻将\"],\"type\":[\"image\",\"image\",\"image\",\"image\",\"image\",\"image\"]}},{\"date\":\"2018-4-\",\"arr\":{\"year\":2018,\"month\":4,\"link\":[\"2018-4-28_黄昏.jpg\",\"2018-4-28_孤舟.jpg\",\"2018-4-28_好看的树.jpg\",\"2018-4-28_古迹.jpg\",\"2018-4-24_冰.jpg\",\"2018-4-19_汽车.jpeg\"],\"text\":[\"黄昏\",\"孤舟\",\"好看的树\",\"古迹\",\"冰\",\"汽车\"],\"type\":[\"image\",\"image\",\"image\",\"image\",\"image\",\"image\"]}},{\"date\":\"2017-12\",\"arr\":{\"year\":2017,\"month\":12,\"link\":[\"2017-12-26_红花与水滴.jpg\"],\"text\":[\"红花与水滴\"],\"type\":[\"image\"]}},{\"date\":\"2017-11\",\"arr\":{\"year\":2017,\"month\":11,\"link\":[\"2017-11-8_红花.jpg\"],\"text\":[\"红花\"],\"type\":[\"image\"]}},{\"date\":\"2017-10\",\"arr\":{\"year\":2017,\"month\":10,\"link\":[\"2017-10-26_魔方.jpg\",\"2017-10-17_龙与战士.jpg\",\"2017-10-17_龙.jpg\",\"2017-10-17_鹰.jpg\",\"2017-10-17_战士城堡.jpg\",\"2017-10-16_草滴雨.jpeg\",\"2017-10-16_七星瓢虫.jpeg\",\"2017-10-12_蒲公英.jpeg\"],\"text\":[\"魔方\",\"龙与战士\",\"龙\",\"鹰\",\"战士城堡\",\"草滴雨\",\"七星瓢虫\",\"蒲公英\"],\"type\":[\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\"]}},{\"date\":\"2017-9-\",\"arr\":{\"year\":2017,\"month\":9,\"link\":[\"2017-9-27_魔术师背影.png\",\"2017-9-27_抱着你.jpg\",\"2017-9-27_女孩与狼.jpg\",\"2017-9-27_奇思妙想.jpg\",\"2017-9-27_动漫树下.jpg\",\"2017-9-18_蝴蝶.jpg\",\"2017-9-15_露珠.jpeg\",\"2017-9-15_茶道.jpg\",\"2017-9-15_花.jpeg\",\"2017-9-15_昆虫.jpeg\"],\"text\":[\"魔术师背影\",\"抱着你\",\"女孩与狼\",\"奇思妙想\",\"动漫树下\",\"蝴蝶\",\"露珠\",\"茶道\",\"花\",\"昆虫\"],\"type\":[\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\"]}},{\"date\":\"2017-8-\",\"arr\":{\"year\":2017,\"month\":8,\"link\":[\"2017-8-20_雨水树.jpg\",\"2017-8-14_创意图片.jpeg\"],\"text\":[\"雨水树\",\"创意图片\"],\"type\":[\"image\",\"image\"]}},{\"date\":\"2017-6-\",\"arr\":{\"year\":2017,\"month\":6,\"link\":[\"2017-6-21_和谐的动物.jpeg\"],\"text\":[\"和谐的动物\"],\"type\":[\"image\"]}},{\"date\":\"2016-7-\",\"arr\":{\"year\":2016,\"month\":7,\"link\":[\"2016-7-3_星空.jpeg\"],\"text\":[\"星空\"],\"type\":[\"image\"]}},{\"date\":\"2016-4-\",\"arr\":{\"year\":2016,\"month\":4,\"link\":[\"2016-4-23_红树与倒影.jpeg\"],\"text\":[\"红树与倒影\"],\"type\":[\"image\"]}},{\"date\":\"2015-10\",\"arr\":{\"year\":2015,\"month\":10,\"link\":[\"2015-10-12_水彩画房子.jpeg\"],\"text\":[\"水彩画房子\"],\"type\":[\"image\"]}},{\"date\":\"2014-5-\",\"arr\":{\"year\":2014,\"month\":5,\"link\":[\"2014-5-13_水和树.jpeg\"],\"text\":[\"水和树\"],\"type\":[\"image\"]}},{\"date\":\"2014-2-\",\"arr\":{\"year\":2014,\"month\":2,\"link\":[\"2014-2-12_蟹.jpeg\"],\"text\":[\"蟹\"],\"type\":[\"image\"]}},{\"date\":\"2013-2-\",\"arr\":{\"year\":2013,\"month\":2,\"link\":[\"2013-2-12_海边房.jpeg\"],\"text\":[\"海边房\"],\"type\":[\"image\"]}}]}","site":{"data":{}},"excerpt":"","more":"{\"list\":[{\"date\":\"2018-5-\",\"arr\":{\"year\":2018,\"month\":5,\"link\":[\"2018-5-8_瀑布.jpeg\",\"2018-5-8_水墨和水.jpg\",\"2018-5-8_旧房子.jpg\",\"2018-5-7_树和水倒影.jpg\",\"2018-5-4_长城.jpg\",\"2018-5-18_军人和麻将.jpg\"],\"text\":[\"瀑布\",\"水墨和水\",\"旧房子\",\"树和水倒影\",\"长城\",\"军人和麻将\"],\"type\":[\"image\",\"image\",\"image\",\"image\",\"image\",\"image\"]}},{\"date\":\"2018-4-\",\"arr\":{\"year\":2018,\"month\":4,\"link\":[\"2018-4-28_黄昏.jpg\",\"2018-4-28_孤舟.jpg\",\"2018-4-28_好看的树.jpg\",\"2018-4-28_古迹.jpg\",\"2018-4-24_冰.jpg\",\"2018-4-19_汽车.jpeg\"],\"text\":[\"黄昏\",\"孤舟\",\"好看的树\",\"古迹\",\"冰\",\"汽车\"],\"type\":[\"image\",\"image\",\"image\",\"image\",\"image\",\"image\"]}},{\"date\":\"2017-12\",\"arr\":{\"year\":2017,\"month\":12,\"link\":[\"2017-12-26_红花与水滴.jpg\"],\"text\":[\"红花与水滴\"],\"type\":[\"image\"]}},{\"date\":\"2017-11\",\"arr\":{\"year\":2017,\"month\":11,\"link\":[\"2017-11-8_红花.jpg\"],\"text\":[\"红花\"],\"type\":[\"image\"]}},{\"date\":\"2017-10\",\"arr\":{\"year\":2017,\"month\":10,\"link\":[\"2017-10-26_魔方.jpg\",\"2017-10-17_龙与战士.jpg\",\"2017-10-17_龙.jpg\",\"2017-10-17_鹰.jpg\",\"2017-10-17_战士城堡.jpg\",\"2017-10-16_草滴雨.jpeg\",\"2017-10-16_七星瓢虫.jpeg\",\"2017-10-12_蒲公英.jpeg\"],\"text\":[\"魔方\",\"龙与战士\",\"龙\",\"鹰\",\"战士城堡\",\"草滴雨\",\"七星瓢虫\",\"蒲公英\"],\"type\":[\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\"]}},{\"date\":\"2017-9-\",\"arr\":{\"year\":2017,\"month\":9,\"link\":[\"2017-9-27_魔术师背影.png\",\"2017-9-27_抱着你.jpg\",\"2017-9-27_女孩与狼.jpg\",\"2017-9-27_奇思妙想.jpg\",\"2017-9-27_动漫树下.jpg\",\"2017-9-18_蝴蝶.jpg\",\"2017-9-15_露珠.jpeg\",\"2017-9-15_茶道.jpg\",\"2017-9-15_花.jpeg\",\"2017-9-15_昆虫.jpeg\"],\"text\":[\"魔术师背影\",\"抱着你\",\"女孩与狼\",\"奇思妙想\",\"动漫树下\",\"蝴蝶\",\"露珠\",\"茶道\",\"花\",\"昆虫\"],\"type\":[\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\",\"image\"]}},{\"date\":\"2017-8-\",\"arr\":{\"year\":2017,\"month\":8,\"link\":[\"2017-8-20_雨水树.jpg\",\"2017-8-14_创意图片.jpeg\"],\"text\":[\"雨水树\",\"创意图片\"],\"type\":[\"image\",\"image\"]}},{\"date\":\"2017-6-\",\"arr\":{\"year\":2017,\"month\":6,\"link\":[\"2017-6-21_和谐的动物.jpeg\"],\"text\":[\"和谐的动物\"],\"type\":[\"image\"]}},{\"date\":\"2016-7-\",\"arr\":{\"year\":2016,\"month\":7,\"link\":[\"2016-7-3_星空.jpeg\"],\"text\":[\"星空\"],\"type\":[\"image\"]}},{\"date\":\"2016-4-\",\"arr\":{\"year\":2016,\"month\":4,\"link\":[\"2016-4-23_红树与倒影.jpeg\"],\"text\":[\"红树与倒影\"],\"type\":[\"image\"]}},{\"date\":\"2015-10\",\"arr\":{\"year\":2015,\"month\":10,\"link\":[\"2015-10-12_水彩画房子.jpeg\"],\"text\":[\"水彩画房子\"],\"type\":[\"image\"]}},{\"date\":\"2014-5-\",\"arr\":{\"year\":2014,\"month\":5,\"link\":[\"2014-5-13_水和树.jpeg\"],\"text\":[\"水和树\"],\"type\":[\"image\"]}},{\"date\":\"2014-2-\",\"arr\":{\"year\":2014,\"month\":2,\"link\":[\"2014-2-12_蟹.jpeg\"],\"text\":[\"蟹\"],\"type\":[\"image\"]}},{\"date\":\"2013-2-\",\"arr\":{\"year\":2013,\"month\":2,\"link\":[\"2013-2-12_海边房.jpeg\"],\"text\":[\"海边房\"],\"type\":[\"image\"]}}]}"},{"_content":"#post-instagram{\n\tpadding: 30px;\n}\nfigure {\n    margin: 0;\n}\n#post-instagram .article-entry{\n\tpadding-right: 0;\n}\n.instagram{\n\tposition: relative;\n\tmin-height: 500px;\n}\n.instagram img {\n    width: 100%;\n    \n}\n.posts-expand .post-body img {\n    padding: 0;\n    border : 0;\n}\n.instagram .year {\n\tfont-size: 20px;\n\tpadding-left: 5px;\n}\n.instagram .open-ins{\n\tpadding: 10px 0;\n\tcolor: #cdcdcd;\n}\n.instagram .open-ins:hover{\n\tcolor: #657b83;\n}\n.instagram .year{\n\tdisplay: inline;\n}\n.instagram .thumb {\n\twidth: 25%;\n\theight: 0; \n\tpadding-bottom: 25%;\n\tposition: relative;\n\tdisplay: inline-block;\n\ttext-align: center;\n\tbackground: #ededed;\n\toutline: 1px solid #ddd;\n}\n.instagram .thumb a {\n\tposition: relative;\n}\n.instagram .album h1 em{\n\tfont-style: normal;\n\tfont-size: 14px;\n\tmargin-left: 10px;\n}\n.instagram .album ul{\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tclear: both;\n\ttext-align: left;\n}\n.instagram .album li{\n\tlist-style: none;\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tpadding: 0 5px;\n\tmargin-bottom: -10px;\n\theight: 0;\n\twidth: 25%;\n\tposition: relative;\n\tpadding-bottom: 25%;\n}\n.instagram .album li:before{\n\tdisplay: none;\n}\n.instagram .album div.img-box{\n\tposition: absolute;\n\twidth: 90%;\n\theight: 90%;\n\t-webkit-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n\t-moz-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n\tbox-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n}\n.instagram .album div.img-box img{\n\twidth: 100%;\n\theight: 100%;\n    position: absolute;\n    z-index: 2;\n}\n.instagram .album div.img-box .img-bg{\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tbottom: 0px;\n\twidth: 100%;\n\tmargin: -5px;\n\tpadding: 5px;\n\t-webkit-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n\t-moz-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n\tbox-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n\t-webkit-transition: all 0.15s ease-out 0.1s;\n\t-moz-transition: all 0.15s ease-out 0.1s;\n\t-o-transition: all 0.15s ease-out 0.1s;\n\ttransition: all 0.15s ease-out 0.1s;\n\topacity: 0.2;\n\tcursor: pointer;\n\tdisplay: block;\n\tz-index: 3;\n}\n.instagram .album div.img-box .icon {\n    font-size: 14px;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    margin-left: -7px;\n    margin-top: -7px;\n    color: #999;\n    z-index: 1;\n}\n.instagram .album div.img-box .img-bg:hover{\n\topacity: 0;\n}\n.photos-btn-wrap {\n\tborder-bottom: 1px solid #e5e5e5;\n\tmargin-bottom: 20px;\n}\n.photos-btn {\n\tfont-size: 16px;\n\tcolor: #333;\n\tmargin-bottom: -4px;\n\tpadding: 5px 8px 3px;\n}\n.photos-btn.active {\n\tcolor: #08c;\n\tborder: 1px solid #e5e5e5;\n\tborder-bottom: 5px solid #fff;\n}\n\n@media screen and (max-width:600px) {\n\t.instagram .thumb {\n\t\twidth: 50%;\n\t\tpadding-bottom: 50%;\n\t}\n\t.instagram .album li {\n\t\twidth: 100%;\n\t\tposition: relative;\n\t\tpadding-bottom: 100%;\n\t\ttext-align: center;\n\t}\n\t.instagram .album div.img-box{\n\t\tmargin: 0;\n\t\twidth: 90%;\n\t\theight: 90%;\n\t}\n}","source":"photos/ins.css","raw":"#post-instagram{\n\tpadding: 30px;\n}\nfigure {\n    margin: 0;\n}\n#post-instagram .article-entry{\n\tpadding-right: 0;\n}\n.instagram{\n\tposition: relative;\n\tmin-height: 500px;\n}\n.instagram img {\n    width: 100%;\n    \n}\n.posts-expand .post-body img {\n    padding: 0;\n    border : 0;\n}\n.instagram .year {\n\tfont-size: 20px;\n\tpadding-left: 5px;\n}\n.instagram .open-ins{\n\tpadding: 10px 0;\n\tcolor: #cdcdcd;\n}\n.instagram .open-ins:hover{\n\tcolor: #657b83;\n}\n.instagram .year{\n\tdisplay: inline;\n}\n.instagram .thumb {\n\twidth: 25%;\n\theight: 0; \n\tpadding-bottom: 25%;\n\tposition: relative;\n\tdisplay: inline-block;\n\ttext-align: center;\n\tbackground: #ededed;\n\toutline: 1px solid #ddd;\n}\n.instagram .thumb a {\n\tposition: relative;\n}\n.instagram .album h1 em{\n\tfont-style: normal;\n\tfont-size: 14px;\n\tmargin-left: 10px;\n}\n.instagram .album ul{\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tclear: both;\n\ttext-align: left;\n}\n.instagram .album li{\n\tlist-style: none;\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tpadding: 0 5px;\n\tmargin-bottom: -10px;\n\theight: 0;\n\twidth: 25%;\n\tposition: relative;\n\tpadding-bottom: 25%;\n}\n.instagram .album li:before{\n\tdisplay: none;\n}\n.instagram .album div.img-box{\n\tposition: absolute;\n\twidth: 90%;\n\theight: 90%;\n\t-webkit-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n\t-moz-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n\tbox-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n}\n.instagram .album div.img-box img{\n\twidth: 100%;\n\theight: 100%;\n    position: absolute;\n    z-index: 2;\n}\n.instagram .album div.img-box .img-bg{\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tbottom: 0px;\n\twidth: 100%;\n\tmargin: -5px;\n\tpadding: 5px;\n\t-webkit-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n\t-moz-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n\tbox-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n\t-webkit-transition: all 0.15s ease-out 0.1s;\n\t-moz-transition: all 0.15s ease-out 0.1s;\n\t-o-transition: all 0.15s ease-out 0.1s;\n\ttransition: all 0.15s ease-out 0.1s;\n\topacity: 0.2;\n\tcursor: pointer;\n\tdisplay: block;\n\tz-index: 3;\n}\n.instagram .album div.img-box .icon {\n    font-size: 14px;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    margin-left: -7px;\n    margin-top: -7px;\n    color: #999;\n    z-index: 1;\n}\n.instagram .album div.img-box .img-bg:hover{\n\topacity: 0;\n}\n.photos-btn-wrap {\n\tborder-bottom: 1px solid #e5e5e5;\n\tmargin-bottom: 20px;\n}\n.photos-btn {\n\tfont-size: 16px;\n\tcolor: #333;\n\tmargin-bottom: -4px;\n\tpadding: 5px 8px 3px;\n}\n.photos-btn.active {\n\tcolor: #08c;\n\tborder: 1px solid #e5e5e5;\n\tborder-bottom: 5px solid #fff;\n}\n\n@media screen and (max-width:600px) {\n\t.instagram .thumb {\n\t\twidth: 50%;\n\t\tpadding-bottom: 50%;\n\t}\n\t.instagram .album li {\n\t\twidth: 100%;\n\t\tposition: relative;\n\t\tpadding-bottom: 100%;\n\t\ttext-align: center;\n\t}\n\t.instagram .album div.img-box{\n\t\tmargin: 0;\n\t\twidth: 90%;\n\t\theight: 90%;\n\t}\n}","date":"2018-05-02T05:55:01.753Z","updated":"2018-05-02T05:55:01.753Z","path":"photos/ins.css","layout":"false","title":"","comments":1,"_id":"cjhio9nul007i6bfyj13qdqge","content":"#post-instagram{\n\tpadding: 30px;\n}\nfigure {\n    margin: 0;\n}\n#post-instagram .article-entry{\n\tpadding-right: 0;\n}\n.instagram{\n\tposition: relative;\n\tmin-height: 500px;\n}\n.instagram img {\n    width: 100%;\n    \n}\n.posts-expand .post-body img {\n    padding: 0;\n    border : 0;\n}\n.instagram .year {\n\tfont-size: 20px;\n\tpadding-left: 5px;\n}\n.instagram .open-ins{\n\tpadding: 10px 0;\n\tcolor: #cdcdcd;\n}\n.instagram .open-ins:hover{\n\tcolor: #657b83;\n}\n.instagram .year{\n\tdisplay: inline;\n}\n.instagram .thumb {\n\twidth: 25%;\n\theight: 0; \n\tpadding-bottom: 25%;\n\tposition: relative;\n\tdisplay: inline-block;\n\ttext-align: center;\n\tbackground: #ededed;\n\toutline: 1px solid #ddd;\n}\n.instagram .thumb a {\n\tposition: relative;\n}\n.instagram .album h1 em{\n\tfont-style: normal;\n\tfont-size: 14px;\n\tmargin-left: 10px;\n}\n.instagram .album ul{\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tclear: both;\n\ttext-align: left;\n}\n.instagram .album li{\n\tlist-style: none;\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tpadding: 0 5px;\n\tmargin-bottom: -10px;\n\theight: 0;\n\twidth: 25%;\n\tposition: relative;\n\tpadding-bottom: 25%;\n}\n.instagram .album li:before{\n\tdisplay: none;\n}\n.instagram .album div.img-box{\n\tposition: absolute;\n\twidth: 90%;\n\theight: 90%;\n\t-webkit-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n\t-moz-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n\tbox-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n}\n.instagram .album div.img-box img{\n\twidth: 100%;\n\theight: 100%;\n    position: absolute;\n    z-index: 2;\n}\n.instagram .album div.img-box .img-bg{\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tbottom: 0px;\n\twidth: 100%;\n\tmargin: -5px;\n\tpadding: 5px;\n\t-webkit-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n\t-moz-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n\tbox-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n\t-webkit-transition: all 0.15s ease-out 0.1s;\n\t-moz-transition: all 0.15s ease-out 0.1s;\n\t-o-transition: all 0.15s ease-out 0.1s;\n\ttransition: all 0.15s ease-out 0.1s;\n\topacity: 0.2;\n\tcursor: pointer;\n\tdisplay: block;\n\tz-index: 3;\n}\n.instagram .album div.img-box .icon {\n    font-size: 14px;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    margin-left: -7px;\n    margin-top: -7px;\n    color: #999;\n    z-index: 1;\n}\n.instagram .album div.img-box .img-bg:hover{\n\topacity: 0;\n}\n.photos-btn-wrap {\n\tborder-bottom: 1px solid #e5e5e5;\n\tmargin-bottom: 20px;\n}\n.photos-btn {\n\tfont-size: 16px;\n\tcolor: #333;\n\tmargin-bottom: -4px;\n\tpadding: 5px 8px 3px;\n}\n.photos-btn.active {\n\tcolor: #08c;\n\tborder: 1px solid #e5e5e5;\n\tborder-bottom: 5px solid #fff;\n}\n\n@media screen and (max-width:600px) {\n\t.instagram .thumb {\n\t\twidth: 50%;\n\t\tpadding-bottom: 50%;\n\t}\n\t.instagram .album li {\n\t\twidth: 100%;\n\t\tposition: relative;\n\t\tpadding-bottom: 100%;\n\t\ttext-align: center;\n\t}\n\t.instagram .album div.img-box{\n\t\tmargin: 0;\n\t\twidth: 90%;\n\t\theight: 90%;\n\t}\n}","site":{"data":{}},"excerpt":"","more":"#post-instagram{\n\tpadding: 30px;\n}\nfigure {\n    margin: 0;\n}\n#post-instagram .article-entry{\n\tpadding-right: 0;\n}\n.instagram{\n\tposition: relative;\n\tmin-height: 500px;\n}\n.instagram img {\n    width: 100%;\n    \n}\n.posts-expand .post-body img {\n    padding: 0;\n    border : 0;\n}\n.instagram .year {\n\tfont-size: 20px;\n\tpadding-left: 5px;\n}\n.instagram .open-ins{\n\tpadding: 10px 0;\n\tcolor: #cdcdcd;\n}\n.instagram .open-ins:hover{\n\tcolor: #657b83;\n}\n.instagram .year{\n\tdisplay: inline;\n}\n.instagram .thumb {\n\twidth: 25%;\n\theight: 0; \n\tpadding-bottom: 25%;\n\tposition: relative;\n\tdisplay: inline-block;\n\ttext-align: center;\n\tbackground: #ededed;\n\toutline: 1px solid #ddd;\n}\n.instagram .thumb a {\n\tposition: relative;\n}\n.instagram .album h1 em{\n\tfont-style: normal;\n\tfont-size: 14px;\n\tmargin-left: 10px;\n}\n.instagram .album ul{\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tclear: both;\n\ttext-align: left;\n}\n.instagram .album li{\n\tlist-style: none;\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tpadding: 0 5px;\n\tmargin-bottom: -10px;\n\theight: 0;\n\twidth: 25%;\n\tposition: relative;\n\tpadding-bottom: 25%;\n}\n.instagram .album li:before{\n\tdisplay: none;\n}\n.instagram .album div.img-box{\n\tposition: absolute;\n\twidth: 90%;\n\theight: 90%;\n\t-webkit-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n\t-moz-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n\tbox-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);\n}\n.instagram .album div.img-box img{\n\twidth: 100%;\n\theight: 100%;\n    position: absolute;\n    z-index: 2;\n}\n.instagram .album div.img-box .img-bg{\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tbottom: 0px;\n\twidth: 100%;\n\tmargin: -5px;\n\tpadding: 5px;\n\t-webkit-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n\t-moz-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n\tbox-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);\n\t-webkit-transition: all 0.15s ease-out 0.1s;\n\t-moz-transition: all 0.15s ease-out 0.1s;\n\t-o-transition: all 0.15s ease-out 0.1s;\n\ttransition: all 0.15s ease-out 0.1s;\n\topacity: 0.2;\n\tcursor: pointer;\n\tdisplay: block;\n\tz-index: 3;\n}\n.instagram .album div.img-box .icon {\n    font-size: 14px;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    margin-left: -7px;\n    margin-top: -7px;\n    color: #999;\n    z-index: 1;\n}\n.instagram .album div.img-box .img-bg:hover{\n\topacity: 0;\n}\n.photos-btn-wrap {\n\tborder-bottom: 1px solid #e5e5e5;\n\tmargin-bottom: 20px;\n}\n.photos-btn {\n\tfont-size: 16px;\n\tcolor: #333;\n\tmargin-bottom: -4px;\n\tpadding: 5px 8px 3px;\n}\n.photos-btn.active {\n\tcolor: #08c;\n\tborder: 1px solid #e5e5e5;\n\tborder-bottom: 5px solid #fff;\n}\n\n@media screen and (max-width:600px) {\n\t.instagram .thumb {\n\t\twidth: 50%;\n\t\tpadding-bottom: 50%;\n\t}\n\t.instagram .album li {\n\t\twidth: 100%;\n\t\tposition: relative;\n\t\tpadding-bottom: 100%;\n\t\ttext-align: center;\n\t}\n\t.instagram .album div.img-box{\n\t\tmargin: 0;\n\t\twidth: 90%;\n\t\theight: 90%;\n\t}\n}"},{"_content":"/*! PhotoSwipe main CSS by Dmitry Semenov | photoswipe.com | MIT license */\n/*\n\tStyles for basic PhotoSwipe functionality (sliding area, open/close transitions)\n*/\n/* pswp = photoswipe */\n.pswp {\n  display: none;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  overflow: hidden;\n  -ms-touch-action: none;\n  touch-action: none;\n  z-index: 1500;\n  -webkit-text-size-adjust: 100%;\n  /* create separate layer, to avoid paint on window.onscroll in webkit/blink */\n  -webkit-backface-visibility: hidden;\n  outline: none; }\n  .pswp * {\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box; }\n  .pswp img {\n    max-width: none; }\n\n/* style is added when JS option showHideOpacity is set to true */\n.pswp--animate_opacity {\n  /* 0.001, because opacity:0 doesn't trigger Paint action, which causes lag at start of transition */\n  opacity: 0.001;\n  will-change: opacity;\n  /* for open/close transition */\n  -webkit-transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n.pswp--open {\n  display: block; }\n\n.pswp--zoom-allowed .pswp__img {\n  /* autoprefixer: off */\n  cursor: -webkit-zoom-in;\n  cursor: -moz-zoom-in;\n  cursor: zoom-in; }\n\n.pswp--zoomed-in .pswp__img {\n  /* autoprefixer: off */\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: grab; }\n\n.pswp--dragging .pswp__img {\n  /* autoprefixer: off */\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: grabbing; }\n\n/*\n\tBackground is added as a separate element.\n\tAs animating opacity is much faster than animating rgba() background-color.\n*/\n.pswp__bg {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #000;\n  opacity: 0;\n  -webkit-transform: translateZ(0);\n          transform: translateZ(0);\n  -webkit-backface-visibility: hidden;\n  will-change: opacity; }\n\n.pswp__scroll-wrap {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden; }\n\n.pswp__container,\n.pswp__zoom-wrap {\n  -ms-touch-action: none;\n  touch-action: none;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0; }\n\n/* Prevent selection and tap highlights */\n.pswp__container,\n.pswp__img {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n      user-select: none;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none; }\n\n.pswp__zoom-wrap {\n  position: absolute;\n  width: 100%;\n  -webkit-transform-origin: left top;\n  -ms-transform-origin: left top;\n  transform-origin: left top;\n  /* for open/close transition */\n  -webkit-transition: -webkit-transform 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: transform 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n.pswp__bg {\n  will-change: opacity;\n  /* for open/close transition */\n  -webkit-transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n.pswp--animated-in .pswp__bg,\n.pswp--animated-in .pswp__zoom-wrap {\n  -webkit-transition: none;\n  transition: none; }\n\n.pswp__container,\n.pswp__zoom-wrap {\n  -webkit-backface-visibility: hidden; }\n\n.pswp__item {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  overflow: hidden; }\n\n.pswp__img {\n  position: absolute;\n  width: auto;\n  height: auto;\n  top: 0;\n  left: 0; }\n\n/*\n\tstretched thumbnail or div placeholder element (see below)\n\tstyle is added to avoid flickering in webkit/blink when layers overlap\n*/\n.pswp__img--placeholder {\n  -webkit-backface-visibility: hidden; }\n\n/*\n\tdiv element that matches size of large image\n\tlarge image loads on top of it\n*/\n.pswp__img--placeholder--blank {\n  background: #222; }\n\n.pswp--ie .pswp__img {\n  width: 100% !important;\n  height: auto !important;\n  left: 0;\n  top: 0; }\n\n/*\n\tError message appears when image is not loaded\n\t(JS option errorMsg controls markup)\n*/\n.pswp__error-msg {\n  position: absolute;\n  left: 0;\n  top: 50%;\n  width: 100%;\n  text-align: center;\n  font-size: 14px;\n  line-height: 16px;\n  margin-top: -8px;\n  color: #CCC; }\n\n.pswp__error-msg a {\n  color: #CCC;\n  text-decoration: underline; }\n","source":"photos/photoswipe.css","raw":"/*! PhotoSwipe main CSS by Dmitry Semenov | photoswipe.com | MIT license */\n/*\n\tStyles for basic PhotoSwipe functionality (sliding area, open/close transitions)\n*/\n/* pswp = photoswipe */\n.pswp {\n  display: none;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  overflow: hidden;\n  -ms-touch-action: none;\n  touch-action: none;\n  z-index: 1500;\n  -webkit-text-size-adjust: 100%;\n  /* create separate layer, to avoid paint on window.onscroll in webkit/blink */\n  -webkit-backface-visibility: hidden;\n  outline: none; }\n  .pswp * {\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box; }\n  .pswp img {\n    max-width: none; }\n\n/* style is added when JS option showHideOpacity is set to true */\n.pswp--animate_opacity {\n  /* 0.001, because opacity:0 doesn't trigger Paint action, which causes lag at start of transition */\n  opacity: 0.001;\n  will-change: opacity;\n  /* for open/close transition */\n  -webkit-transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n.pswp--open {\n  display: block; }\n\n.pswp--zoom-allowed .pswp__img {\n  /* autoprefixer: off */\n  cursor: -webkit-zoom-in;\n  cursor: -moz-zoom-in;\n  cursor: zoom-in; }\n\n.pswp--zoomed-in .pswp__img {\n  /* autoprefixer: off */\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: grab; }\n\n.pswp--dragging .pswp__img {\n  /* autoprefixer: off */\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: grabbing; }\n\n/*\n\tBackground is added as a separate element.\n\tAs animating opacity is much faster than animating rgba() background-color.\n*/\n.pswp__bg {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #000;\n  opacity: 0;\n  -webkit-transform: translateZ(0);\n          transform: translateZ(0);\n  -webkit-backface-visibility: hidden;\n  will-change: opacity; }\n\n.pswp__scroll-wrap {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden; }\n\n.pswp__container,\n.pswp__zoom-wrap {\n  -ms-touch-action: none;\n  touch-action: none;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0; }\n\n/* Prevent selection and tap highlights */\n.pswp__container,\n.pswp__img {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n      user-select: none;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none; }\n\n.pswp__zoom-wrap {\n  position: absolute;\n  width: 100%;\n  -webkit-transform-origin: left top;\n  -ms-transform-origin: left top;\n  transform-origin: left top;\n  /* for open/close transition */\n  -webkit-transition: -webkit-transform 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: transform 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n.pswp__bg {\n  will-change: opacity;\n  /* for open/close transition */\n  -webkit-transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n.pswp--animated-in .pswp__bg,\n.pswp--animated-in .pswp__zoom-wrap {\n  -webkit-transition: none;\n  transition: none; }\n\n.pswp__container,\n.pswp__zoom-wrap {\n  -webkit-backface-visibility: hidden; }\n\n.pswp__item {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  overflow: hidden; }\n\n.pswp__img {\n  position: absolute;\n  width: auto;\n  height: auto;\n  top: 0;\n  left: 0; }\n\n/*\n\tstretched thumbnail or div placeholder element (see below)\n\tstyle is added to avoid flickering in webkit/blink when layers overlap\n*/\n.pswp__img--placeholder {\n  -webkit-backface-visibility: hidden; }\n\n/*\n\tdiv element that matches size of large image\n\tlarge image loads on top of it\n*/\n.pswp__img--placeholder--blank {\n  background: #222; }\n\n.pswp--ie .pswp__img {\n  width: 100% !important;\n  height: auto !important;\n  left: 0;\n  top: 0; }\n\n/*\n\tError message appears when image is not loaded\n\t(JS option errorMsg controls markup)\n*/\n.pswp__error-msg {\n  position: absolute;\n  left: 0;\n  top: 50%;\n  width: 100%;\n  text-align: center;\n  font-size: 14px;\n  line-height: 16px;\n  margin-top: -8px;\n  color: #CCC; }\n\n.pswp__error-msg a {\n  color: #CCC;\n  text-decoration: underline; }\n","date":"2018-05-02T05:55:01.754Z","updated":"2018-05-02T05:55:01.754Z","path":"photos/photoswipe.css","layout":"false","title":"","comments":1,"_id":"cjhio9nul007j6bfy745mbyii","content":"/*! PhotoSwipe main CSS by Dmitry Semenov | photoswipe.com | MIT license */\n/*\n\tStyles for basic PhotoSwipe functionality (sliding area, open/close transitions)\n*/\n/* pswp = photoswipe */\n.pswp {\n  display: none;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  overflow: hidden;\n  -ms-touch-action: none;\n  touch-action: none;\n  z-index: 1500;\n  -webkit-text-size-adjust: 100%;\n  /* create separate layer, to avoid paint on window.onscroll in webkit/blink */\n  -webkit-backface-visibility: hidden;\n  outline: none; }\n  .pswp * {\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box; }\n  .pswp img {\n    max-width: none; }\n\n/* style is added when JS option showHideOpacity is set to true */\n.pswp--animate_opacity {\n  /* 0.001, because opacity:0 doesn't trigger Paint action, which causes lag at start of transition */\n  opacity: 0.001;\n  will-change: opacity;\n  /* for open/close transition */\n  -webkit-transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n.pswp--open {\n  display: block; }\n\n.pswp--zoom-allowed .pswp__img {\n  /* autoprefixer: off */\n  cursor: -webkit-zoom-in;\n  cursor: -moz-zoom-in;\n  cursor: zoom-in; }\n\n.pswp--zoomed-in .pswp__img {\n  /* autoprefixer: off */\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: grab; }\n\n.pswp--dragging .pswp__img {\n  /* autoprefixer: off */\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: grabbing; }\n\n/*\n\tBackground is added as a separate element.\n\tAs animating opacity is much faster than animating rgba() background-color.\n*/\n.pswp__bg {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #000;\n  opacity: 0;\n  -webkit-transform: translateZ(0);\n          transform: translateZ(0);\n  -webkit-backface-visibility: hidden;\n  will-change: opacity; }\n\n.pswp__scroll-wrap {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden; }\n\n.pswp__container,\n.pswp__zoom-wrap {\n  -ms-touch-action: none;\n  touch-action: none;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0; }\n\n/* Prevent selection and tap highlights */\n.pswp__container,\n.pswp__img {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n      user-select: none;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none; }\n\n.pswp__zoom-wrap {\n  position: absolute;\n  width: 100%;\n  -webkit-transform-origin: left top;\n  -ms-transform-origin: left top;\n  transform-origin: left top;\n  /* for open/close transition */\n  -webkit-transition: -webkit-transform 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: transform 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n.pswp__bg {\n  will-change: opacity;\n  /* for open/close transition */\n  -webkit-transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n.pswp--animated-in .pswp__bg,\n.pswp--animated-in .pswp__zoom-wrap {\n  -webkit-transition: none;\n  transition: none; }\n\n.pswp__container,\n.pswp__zoom-wrap {\n  -webkit-backface-visibility: hidden; }\n\n.pswp__item {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  overflow: hidden; }\n\n.pswp__img {\n  position: absolute;\n  width: auto;\n  height: auto;\n  top: 0;\n  left: 0; }\n\n/*\n\tstretched thumbnail or div placeholder element (see below)\n\tstyle is added to avoid flickering in webkit/blink when layers overlap\n*/\n.pswp__img--placeholder {\n  -webkit-backface-visibility: hidden; }\n\n/*\n\tdiv element that matches size of large image\n\tlarge image loads on top of it\n*/\n.pswp__img--placeholder--blank {\n  background: #222; }\n\n.pswp--ie .pswp__img {\n  width: 100% !important;\n  height: auto !important;\n  left: 0;\n  top: 0; }\n\n/*\n\tError message appears when image is not loaded\n\t(JS option errorMsg controls markup)\n*/\n.pswp__error-msg {\n  position: absolute;\n  left: 0;\n  top: 50%;\n  width: 100%;\n  text-align: center;\n  font-size: 14px;\n  line-height: 16px;\n  margin-top: -8px;\n  color: #CCC; }\n\n.pswp__error-msg a {\n  color: #CCC;\n  text-decoration: underline; }\n","site":{"data":{}},"excerpt":"","more":"/*! PhotoSwipe main CSS by Dmitry Semenov | photoswipe.com | MIT license */\n/*\n\tStyles for basic PhotoSwipe functionality (sliding area, open/close transitions)\n*/\n/* pswp = photoswipe */\n.pswp {\n  display: none;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  overflow: hidden;\n  -ms-touch-action: none;\n  touch-action: none;\n  z-index: 1500;\n  -webkit-text-size-adjust: 100%;\n  /* create separate layer, to avoid paint on window.onscroll in webkit/blink */\n  -webkit-backface-visibility: hidden;\n  outline: none; }\n  .pswp * {\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box; }\n  .pswp img {\n    max-width: none; }\n\n/* style is added when JS option showHideOpacity is set to true */\n.pswp--animate_opacity {\n  /* 0.001, because opacity:0 doesn't trigger Paint action, which causes lag at start of transition */\n  opacity: 0.001;\n  will-change: opacity;\n  /* for open/close transition */\n  -webkit-transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n.pswp--open {\n  display: block; }\n\n.pswp--zoom-allowed .pswp__img {\n  /* autoprefixer: off */\n  cursor: -webkit-zoom-in;\n  cursor: -moz-zoom-in;\n  cursor: zoom-in; }\n\n.pswp--zoomed-in .pswp__img {\n  /* autoprefixer: off */\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: grab; }\n\n.pswp--dragging .pswp__img {\n  /* autoprefixer: off */\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: grabbing; }\n\n/*\n\tBackground is added as a separate element.\n\tAs animating opacity is much faster than animating rgba() background-color.\n*/\n.pswp__bg {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #000;\n  opacity: 0;\n  -webkit-transform: translateZ(0);\n          transform: translateZ(0);\n  -webkit-backface-visibility: hidden;\n  will-change: opacity; }\n\n.pswp__scroll-wrap {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden; }\n\n.pswp__container,\n.pswp__zoom-wrap {\n  -ms-touch-action: none;\n  touch-action: none;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0; }\n\n/* Prevent selection and tap highlights */\n.pswp__container,\n.pswp__img {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n      user-select: none;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none; }\n\n.pswp__zoom-wrap {\n  position: absolute;\n  width: 100%;\n  -webkit-transform-origin: left top;\n  -ms-transform-origin: left top;\n  transform-origin: left top;\n  /* for open/close transition */\n  -webkit-transition: -webkit-transform 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: transform 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n.pswp__bg {\n  will-change: opacity;\n  /* for open/close transition */\n  -webkit-transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n.pswp--animated-in .pswp__bg,\n.pswp--animated-in .pswp__zoom-wrap {\n  -webkit-transition: none;\n  transition: none; }\n\n.pswp__container,\n.pswp__zoom-wrap {\n  -webkit-backface-visibility: hidden; }\n\n.pswp__item {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  overflow: hidden; }\n\n.pswp__img {\n  position: absolute;\n  width: auto;\n  height: auto;\n  top: 0;\n  left: 0; }\n\n/*\n\tstretched thumbnail or div placeholder element (see below)\n\tstyle is added to avoid flickering in webkit/blink when layers overlap\n*/\n.pswp__img--placeholder {\n  -webkit-backface-visibility: hidden; }\n\n/*\n\tdiv element that matches size of large image\n\tlarge image loads on top of it\n*/\n.pswp__img--placeholder--blank {\n  background: #222; }\n\n.pswp--ie .pswp__img {\n  width: 100% !important;\n  height: auto !important;\n  left: 0;\n  top: 0; }\n\n/*\n\tError message appears when image is not loaded\n\t(JS option errorMsg controls markup)\n*/\n.pswp__error-msg {\n  position: absolute;\n  left: 0;\n  top: 50%;\n  width: 100%;\n  text-align: center;\n  font-size: 14px;\n  line-height: 16px;\n  margin-top: -8px;\n  color: #CCC; }\n\n.pswp__error-msg a {\n  color: #CCC;\n  text-decoration: underline; }\n"},{"title":"所有标签","date":"2017-09-11T08:15:00.000Z","type":"tags","comments":0,"_content":"","source":"tags/index.md","raw":"---\ntitle: 所有标签\ndate: 2017-09-11 16:15:00\ntype: \"tags\"\ncomments: false\n---\n","updated":"2018-05-02T05:55:01.754Z","path":"tags/index.html","layout":"page","_id":"cjhio9num007k6bfycrz0akcf","content":"","site":{"data":{}},"excerpt":"","more":""},{"_content":"\n/******/\n(function(modules) { // webpackBootstrap\n    /******/ // The module cache\n    /******/\n    var installedModules = {};\n    /******/\n    /******/ // The require function\n    /******/\n    function __webpack_require__(moduleId) {\n      /******/\n      /******/ // Check if module is in cache\n      /******/\n      if (installedModules[moduleId])\n      /******/\n        return installedModules[moduleId].exports;\n      /******/\n      /******/ // Create a new module (and put it into the cache)\n      /******/\n      var module = installedModules[moduleId] = {\n        /******/\n        exports: {},\n        /******/\n        id: moduleId,\n        /******/\n        loaded: false\n          /******/\n      };\n      /******/\n      /******/ // Execute the module function\n      /******/\n      modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n      /******/\n      /******/ // Flag the module as loaded\n      /******/\n      module.loaded = true;\n      /******/\n      /******/ // Return the exports of the module\n      /******/\n      return module.exports;\n      /******/\n    }\n    /******/\n    /******/\n    /******/ // expose the modules object (__webpack_modules__)\n    /******/\n    __webpack_require__.m = modules;\n    /******/\n    /******/ // expose the module cache\n    /******/\n    __webpack_require__.c = installedModules;\n    /******/\n    /******/ // __webpack_public_path__\n    /******/\n    __webpack_require__.p = \"/dist/\";\n    /******/\n    /******/ // Load entry module and return exports\n    /******/\n    return __webpack_require__(0);\n    /******/\n  })\n  /************************************************************************/\n  /******/\n  ([\n    /* 0 */\n    /***/\n    function(module, exports, __webpack_require__) {\n  \n      'use strict';\n  \n      __webpack_require__(1);\n  \n      var _view = __webpack_require__(2);\n  \n      var _view2 = _interopRequireDefault(_view);\n  \n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n  \n      /**\n       * @name impush-client \n       * @description 这个项目让我发家致富…\n       * @date 2016-12-1\n       */\n  \n      var _collection = [];\n      var _count = 0;\n      var searchData;\n  \n      function addMask(elem) {\n        var rect = elem.getBoundingClientRect();\n        var style = getComputedStyle(elem, null);\n  \n        var mask = document.createElement('i');\n        mask.className = 'icon-film';\n        mask.style.color = '#fff';\n        mask.style.fontSize = '26px';\n        mask.style.position = 'absolute';\n        mask.style.right = '10px';\n        mask.style.bottom = '10px';\n        mask.style.zIndex = 1;\n        elem.parentNode.appendChild(mask);\n      }\n  \n      var createVideoIncon = function createVideoIncon() {\n        var $videoImg = document.querySelectorAll('.thumb a[data-type=\"video\"]');\n        for (var i = 0, len = $videoImg.length; i < len; i++) {\n          addMask($videoImg[i]);\n        }\n      };\n      var render = function render(res) {\n        var ulTmpl = \"\";\n        for (var j = 0, len2 = res.list.length; j < len2; j++) {\n          var data = res.list[j].arr;\n          var liTmpl = \"\";\n          for (var i = 0, len = data.link.length; i < len; i++) {\n            var minSrc = 'https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/min_photos/' + data.link[i];\n            var src = 'https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/photos/' + data.link[i];\n            var type = data.type[i];\n            var target = src + (type === 'video' ? '.mp4' : '.jpg');\n            src += '';\n  \n            liTmpl += '<figure class=\"thumb\" itemprop=\"associatedMedia\" itemscope=\"\" itemtype=\"http://schema.org/ImageObject\">\\\n                  <a href=\"' + src + '\" itemprop=\"contentUrl\" data-size=\"1080x1080\" data-type=\"' + type + '\" data-target=\"' + src + '\">\\\n                    <img class=\"reward-img\" data-type=\"' + type + '\" data-src=\"' + src + '\" src=\"./assets/empty.png\" itemprop=\"thumbnail\" onload=\"lzld(this)\">\\\n                  </a>\\\n                  <figcaption style=\"display:none\" itemprop=\"caption description\">' + data.text[i] + '</figcaption>\\\n              </figure>';\n          }\n          ulTmpl = ulTmpl + '<section class=\"archives album post-header\"><h1 class=\"year\">' + data.year + '年<em>' + data.month + '月</em></h1>\\\n          <ul class=\"img-box-ul\">' + liTmpl + '</ul>\\\n          </section>';\n        }\n        document.querySelector('.instagram').innerHTML = '<div class=\"photos posts-collapse\" itemscope=\"\" itemtype=\"http://schema.org/ImageGallery\">' + ulTmpl + '</div>';\n        createVideoIncon();\n        _view2.default.init();\n      };\n  \n      var replacer = function replacer(str) {\n        var arr = str.split(\"/\");\n        return \"/assets/ins/\" + arr[arr.length - 1];\n      };\n  \n      var ctrler = function ctrler(data) {\n        var imgObj = {};\n        for (var i = 0, len = data.length; i < len; i++) {\n          var y = data[i].y;\n          var m = data[i].m;\n          var src = replacer(data[i].src);\n          var text = data[i].text;\n          var key = y + \"\" + ((m + \"\").length == 1 ? \"0\" + m : m);\n          if (imgObj[key]) {\n            imgObj[key].srclist.push(src);\n            imgObj[key].text.push(text);\n          } else {\n            imgObj[key] = {\n              year: y,\n              month: m,\n              srclist: [src],\n              text: [text]\n            };\n          }\n        }\n        render(imgObj);\n      };\n  \n      function loadData(success) {\n        if (!searchData) {\n          var xhr = new XMLHttpRequest();\n          xhr.open('GET', './data.json?t=' + +new Date(), true);\n  \n          xhr.onload = function() {\n            if (this.status >= 200 && this.status < 300) {\n              var res = JSON.parse(this.response);\n              searchData = res;\n              success(searchData);\n            } else {\n              console.error(this.statusText);\n            }\n          };\n  \n          xhr.onerror = function() {\n            console.error(this.statusText);\n          };\n  \n          xhr.send();\n        } else {\n          success(searchData);\n        }\n      }\n  \n      var Ins = {\n        init: function init() {\n          loadData(function(data) {\n            render(data);\n          });\n        }\n      };\n  \n      Ins.init();\n  \n      // export default impush;\n  \n      /***/\n    },\n    /* 1 */\n    /***/\n    function(module, exports, __webpack_require__) {\n  \n      /* WEBPACK VAR INJECTION */\n      (function(global) {\n        'use strict';\n  \n        var inViewport = __webpack_require__(3);\n        var lazyAttrs = ['data-src'];\n  \n        global.lzld = lazyload();\n  \n        // Provide libs using getAttribute early to get the good src\n        // and not the fake data-src\n        replaceGetAttribute('Image');\n        replaceGetAttribute('IFrame');\n  \n        function registerLazyAttr(attr) {\n          if (indexOf.call(lazyAttrs, attr) === -1) {\n            lazyAttrs.push(attr);\n          }\n        }\n  \n        function lazyload(opts) {\n            console.log(\"lazyload\")\n          opts = merge({\n            'offset': 333,\n            'src': 'data-src',\n            'container': false\n          }, opts || {});\n  \n          if (typeof opts.src === 'string') {\n            registerLazyAttr(opts.src);\n          }\n  \n          var elts = [];\n  \n          function show(elt) {\n            var src = findRealSrc(elt);\n  \n            if (src) {\n              elt.src = src;\n            }\n  \n            elt.setAttribute('data-lzled', true);\n            elts[indexOf.call(elts, elt)] = null;\n          }\n  \n          function findRealSrc(elt) {\n            if (typeof opts.src === 'function') {\n              return opts.src(elt);\n            }\n  \n            return elt.getAttribute(opts.src);\n          }\n  \n          function register(elt) {\n            elt.onload = null;\n            elt.removeAttribute('onload');\n            elt.onerror = null;\n            elt.removeAttribute('onerror');\n  \n            if (indexOf.call(elts, elt) === -1) {\n              inViewport(elt, opts, show);\n            }\n          }\n  \n          return register;\n        }\n  \n        function replaceGetAttribute(elementName) {\n          var fullname = 'HTML' + elementName + 'Element';\n          if (fullname in global === false) {\n            return;\n          }\n  \n          var original = global[fullname].prototype.getAttribute;\n          global[fullname].prototype.getAttribute = function(name) {\n            if (name === 'src') {\n              var realSrc;\n              for (var i = 0, max = lazyAttrs.length; i < max; i++) {\n                realSrc = original.call(this, lazyAttrs[i]);\n                if (realSrc) {\n                  break;\n                }\n              }\n  \n              return realSrc || original.call(this, name);\n            }\n  \n            // our own lazyloader will go through theses lines\n            // because we use getAttribute(opts.src)\n            return original.call(this, name);\n          };\n        }\n  \n        function merge(defaults, opts) {\n          for (var name in defaults) {\n            if (opts[name] === undefined) {\n              opts[name] = defaults[name];\n            }\n          }\n  \n          return opts;\n        }\n  \n        // http://webreflection.blogspot.fr/2011/06/partial-polyfills.html\n        function indexOf(value) {\n          for (var i = this.length; i-- && this[i] !== value;) {}\n          return i;\n        }\n  \n        module.exports = lazyload;\n  \n        // export default impush;\n        /* WEBPACK VAR INJECTION */\n      }.call(exports, (function() {\n        return this;\n      }())))\n  \n      /***/\n    },\n    /* 2 */\n    /***/\n    function(module, exports) {\n  \n      'use strict';\n  \n      var initPhotoSwipeFromDOM = function initPhotoSwipeFromDOM(gallerySelector) {\n  \n        // parse slide data (url, title, size ...) from DOM elements \n        // (children of gallerySelector)\n        var parseThumbnailElements = function parseThumbnailElements(el) {\n          el = el.parentNode.parentNode;\n          var thumbElements = el.getElementsByClassName('thumb'),\n            numNodes = thumbElements.length,\n            items = [],\n            figureEl,\n            linkEl,\n            size,\n            type,\n            // video or not\n            target,\n            item;\n  \n          for (var i = 0; i < numNodes; i++) {\n  \n            figureEl = thumbElements[i]; // \n  \n            // include only element nodes \n            if (figureEl.nodeType !== 1) {\n              continue;\n            }\n  \n            linkEl = figureEl.children[0]; // \n  \n            size = linkEl.getAttribute('data-size').split('x');\n            type = linkEl.getAttribute('data-type');\n            target = linkEl.getAttribute('data-target');\n            // create slide object\n            item = {\n              src: linkEl.getAttribute('href'),\n              w: parseInt(size[0], 10),\n              h: parseInt(size[1], 10)\n            };\n  \n            if (figureEl.children.length > 1) {\n              item.title = figureEl.children[1].innerHTML;\n            }\n  \n            if (linkEl.children.length > 0) {\n              item.msrc = linkEl.children[0].getAttribute('src');\n              item.type = type;\n              item.target = target;\n              item.html = '<video src=\"' + target + '\" controls=\"controls\" autoplay=\"autoplay\"></video>';\n              if (type === 'video') {\n                //item.src = null;\n              }\n            }\n  \n            item.el = figureEl; // save link to element for getThumbBoundsFn\n            items.push(item);\n          }\n  \n          return items;\n        };\n  \n        // find nearest parent element\n        var closest = function closest(el, fn) {\n          return el && (fn(el) ? el : closest(el.parentNode, fn));\n        };\n  \n        // triggers when user clicks on thumbnail\n        var onThumbnailsClick = function onThumbnailsClick(e) {\n          e = e || window.event;\n          e.preventDefault ? e.preventDefault() : e.returnValue = false;\n  \n          var eTarget = e.target || e.srcElement;\n  \n          // find root element of slide\n          var clickedListItem = closest(eTarget, function(el) {\n            return el.tagName && el.tagName.toUpperCase() === 'FIGURE';\n          });\n  \n          if (!clickedListItem) {\n            return;\n          }\n  \n          // find index of clicked item by looping through all child nodes\n          // alternatively, you may define index via data- attribute\n          var clickedGallery = clickedListItem.parentNode,\n  \n            // childNodes = clickedListItem.parentNode.childNodes,\n            // numChildNodes = childNodes.length,\n            childNodes = document.getElementsByClassName('thumb'),\n            numChildNodes = childNodes.length,\n            nodeIndex = 0,\n            index;\n  \n          for (var i = 0; i < numChildNodes; i++) {\n            if (childNodes[i].nodeType !== 1) {\n              continue;\n            }\n  \n            if (childNodes[i] === clickedListItem) {\n              index = nodeIndex;\n              break;\n            }\n            nodeIndex++;\n          }\n  \n          if (index >= 0) {\n            // open PhotoSwipe if valid index found\n            openPhotoSwipe(index, clickedGallery);\n          }\n          return false;\n        };\n  \n        // parse picture index and gallery index from URL (#&pid=1&gid=2)\n        var photoswipeParseHash = function photoswipeParseHash() {\n          var hash = window.location.hash.substring(1),\n            params = {};\n  \n          if (hash.length < 5) {\n            return params;\n          }\n  \n          var vars = hash.split('&');\n          for (var i = 0; i < vars.length; i++) {\n            if (!vars[i]) {\n              continue;\n            }\n            var pair = vars[i].split('=');\n            if (pair.length < 2) {\n              continue;\n            }\n            params[pair[0]] = pair[1];\n          }\n  \n          if (params.gid) {\n            params.gid = parseInt(params.gid, 10);\n          }\n  \n          return params;\n        };\n  \n        var openPhotoSwipe = function openPhotoSwipe(index, galleryElement, disableAnimation, fromURL) {\n          var pswpElement = document.querySelectorAll('.pswp')[0],\n            gallery,\n            options,\n            items;\n  \n          items = parseThumbnailElements(galleryElement);\n          // define options (if needed)\n          options = {\n  \n            // define gallery index (for URL)\n            galleryUID: galleryElement.getAttribute('data-pswp-uid'),\n  \n            getThumbBoundsFn: function getThumbBoundsFn(index) {\n              // See Options -> getThumbBoundsFn section of documentation for more info\n              var thumbnail = items[index].el.getElementsByTagName('img')[0],\n                // find thumbnail\n                pageYScroll = window.pageYOffset || document.documentElement.scrollTop,\n                rect = thumbnail.getBoundingClientRect();\n  \n              return {\n                x: rect.left,\n                y: rect.top + pageYScroll,\n                w: rect.width\n              };\n            }\n  \n          };\n  \n          // PhotoSwipe opened from URL\n          if (fromURL) {\n            if (options.galleryPIDs) {\n              // parse real index when custom PIDs are used \n              // http://photoswipe.com/documentation/faq.html#custom-pid-in-url\n              for (var j = 0; j < items.length; j++) {\n                if (items[j].pid == index) {\n                  options.index = j;\n                  break;\n                }\n              }\n            } else {\n              // in URL indexes start from 1\n              options.index = parseInt(index, 10) - 1;\n            }\n          } else {\n            options.index = parseInt(index, 10);\n          }\n  \n          // exit if index not found\n          if (isNaN(options.index)) {\n            return;\n          }\n  \n          if (disableAnimation) {\n            options.showAnimationDuration = 0;\n          }\n  \n          // Pass data to PhotoSwipe and initialize it\n          gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);\n          gallery.init();\n  \n          var $tempVideo;\n          var stopVideoHandle = function stopVideoHandle() {\n            if ($tempVideo) {\n              $tempVideo.remove();\n              $tempVideo = null;\n            }\n          };\n          var changeHandle = function changeHandle() {\n            var item = gallery.currItem;\n            stopVideoHandle();\n            if (item.type === 'video') {\n              var $ctn = item.container;\n              var style = $ctn.getElementsByClassName('pswp__img')[0].style;\n              var $video = document.createElement('video');\n              $video.setAttribute('autoplay', 'autoplay');\n              $video.setAttribute('controls', 'controls');\n              $video.setAttribute('src', item.target);\n              $video.style.width = style.width;\n              $video.style.height = style.height;\n              $video.style.position = 'absolute';\n              $video.style.zIndex = 2;\n              $tempVideo = $video;\n              $ctn.appendChild($video);\n            }\n          };\n          gallery.listen('initialZoomIn', changeHandle);\n          gallery.listen('afterChange', changeHandle);\n          gallery.listen('initialZoomOut', stopVideoHandle);\n        };\n  \n        // loop through all gallery elements and bind events\n        var galleryElements = document.querySelectorAll(gallerySelector);\n        for (var i = 0, l = galleryElements.length; i < l; i++) {\n          galleryElements[i].setAttribute('data-pswp-uid', i + 1);\n          galleryElements[i].onclick = onThumbnailsClick;\n        }\n  \n        // Parse URL and open gallery if it contains #&pid=3&gid=1\n        var hashData = photoswipeParseHash();\n        if (hashData.pid && hashData.gid) {\n          openPhotoSwipe(hashData.pid, galleryElements[hashData.gid - 1], true, true);\n        }\n      };\n  \n      var Viewer = function() {\n        function init() {\n          initPhotoSwipeFromDOM('.photos');\n        }\n        return {\n          init: init\n        };\n      }();\n  \n      module.exports = Viewer;\n  \n      /***/\n    },\n    /* 3 */\n    /***/\n    function(module, exports) {\n  \n      /* WEBPACK VAR INJECTION */\n      (function(global) {\n        module.exports = inViewport;\n  \n        var instances = [];\n        var supportsMutationObserver = typeof global.MutationObserver === 'function';\n  \n        function inViewport(elt, params, cb) {\n          var opts = {\n            container: global.document.body,\n            offset: 0\n          };\n  \n          if (params === undefined || typeof params === 'function') {\n            cb = params;\n            params = {};\n          }\n  \n          var container = opts.container = params.container || opts.container;\n          var offset = opts.offset = params.offset || opts.offset;\n  \n          for (var i = 0; i < instances.length; i++) {\n            if (instances[i].container === container) {\n              return instances[i].isInViewport(elt, offset, cb);\n            }\n          }\n  \n          return instances[\n            instances.push(createInViewport(container)) - 1\n          ].isInViewport(elt, offset, cb);\n        }\n  \n        function addEvent(el, type, fn) {\n          if (el.attachEvent) {\n            el.attachEvent('on' + type, fn);\n          } else {\n            el.addEventListener(type, fn, false);\n          }\n        }\n  \n        function debounce(func, wait, immediate) {\n          var timeout;\n          return function() {\n            var context = this,\n              args = arguments;\n            var callNow = immediate && !timeout;\n            clearTimeout(timeout);\n            timeout = setTimeout(later, wait);\n            if (callNow) func.apply(context, args);\n  \n            function later() {\n              timeout = null;\n              if (!immediate) func.apply(context, args);\n            }\n          };\n        }\n  \n        // https://github.com/jquery/sizzle/blob/3136f48b90e3edc84cbaaa6f6f7734ef03775a07/sizzle.js#L708\n        var contains = function() {\n          if (!global.document) {\n            return true;\n          }\n          return global.document.documentElement.compareDocumentPosition ?\n            function(a, b) {\n              return !!(a.compareDocumentPosition(b) & 16);\n            } :\n            global.document.documentElement.contains ?\n            function(a, b) {\n              return a !== b && (a.contains ? a.contains(b) : false);\n            } :\n            function(a, b) {\n              while (b = b.parentNode) {\n                if (b === a) {\n                  return true;\n                }\n              }\n              return false;\n            };\n        }\n  \n        function createInViewport(container) {\n          var watches = createWatches();\n  \n          var scrollContainer = container === global.document.body ? global : container;\n          var debouncedCheck = debounce(watches.checkAll(watchInViewport), 15);\n  \n          addEvent(scrollContainer, 'scroll', debouncedCheck);\n  \n          if (scrollContainer === global) {\n            addEvent(global, 'resize', debouncedCheck);\n          }\n  \n          if (supportsMutationObserver) {\n            observeDOM(watches, container, debouncedCheck);\n          }\n  \n          // failsafe check, every 200ms we check for visible images\n          // usecase: a hidden parent containing eleements\n          // when the parent becomes visible, we have no event that the children\n          // became visible\n          setInterval(debouncedCheck, 150);\n  \n          function isInViewport(elt, offset, cb) {\n            if (!cb) {\n              return isVisible(elt, offset);\n            }\n  \n            var remote = createRemote(elt, offset, cb);\n            remote.watch();\n            return remote;\n          }\n  \n          function createRemote(elt, offset, cb) {\n            function watch() {\n              watches.add(elt, offset, cb);\n            }\n  \n            function dispose() {\n              watches.remove(elt);\n            }\n  \n            return {\n              watch: watch,\n              dispose: dispose\n            };\n          }\n  \n          function watchInViewport(elt, offset, cb) {\n            if (isVisible(elt, offset)) {\n              watches.remove(elt);\n              cb(elt);\n            }\n          }\n  \n          function isVisible(elt, offset) {\n            if (!contains(global.document.documentElement, elt) || !contains(global.document.documentElement, container)) {\n              return false;\n            }\n  \n            // Check if the element is visible\n            // https://github.com/jquery/jquery/blob/740e190223d19a114d5373758127285d14d6b71e/src/css/hiddenVisibleSelectors.js\n            if (!elt.offsetWidth || !elt.offsetHeight) {\n              return false;\n            }\n  \n            var eltRect = elt.getBoundingClientRect();\n            var viewport = {};\n  \n            if (container === global.document.body) {\n              viewport = {\n                top: -offset,\n                left: -offset,\n                right: global.document.documentElement.clientWidth + offset,\n                bottom: global.document.documentElement.clientHeight + offset\n              };\n            } else {\n              var containerRect = container.getBoundingClientRect();\n              viewport = {\n                top: containerRect.top - offset,\n                left: containerRect.left - offset,\n                right: containerRect.right + offset,\n                bottom: containerRect.bottom + offset\n              };\n            }\n  \n            // The element must overlap with the visible part of the viewport\n            var visible =\n              (\n                (eltRect.right > viewport.left) &&\n                (eltRect.left < viewport.right) &&\n                (eltRect.bottom > viewport.top) &&\n                (eltRect.top < viewport.bottom)\n              );\n  \n            return visible;\n          }\n  \n          return {\n            container: container,\n            isInViewport: isInViewport\n          };\n        }\n  \n        function createWatches() {\n          var watches = [];\n  \n          function add(elt, offset, cb) {\n            if (!isWatched(elt)) {\n              watches.push([elt, offset, cb]);\n            }\n          }\n  \n          function remove(elt) {\n            var pos = indexOf(elt);\n            if (pos !== -1) {\n              watches.splice(pos, 1);\n            }\n          }\n  \n          function indexOf(elt) {\n            for (var i = watches.length - 1; i >= 0; i--) {\n              if (watches[i][0] === elt) {\n                return i;\n              }\n            }\n            return -1;\n          }\n  \n          function isWatched(elt) {\n            return indexOf(elt) !== -1;\n          }\n  \n          function checkAll(cb) {\n            return function() {\n              for (var i = watches.length - 1; i >= 0; i--) {\n                cb.apply(this, watches[i]);\n              }\n            };\n          }\n  \n          return {\n            add: add,\n            remove: remove,\n            isWatched: isWatched,\n            checkAll: checkAll\n          };\n        }\n  \n        function observeDOM(watches, container, cb) {\n          var observer = new MutationObserver(watch);\n          var filter = Array.prototype.filter;\n          var concat = Array.prototype.concat;\n  \n          observer.observe(container, {\n            childList: true,\n            subtree: true,\n            // changes like style/width/height/display will be catched\n            attributes: true\n          });\n  \n          function watch(mutations) {\n            // some new DOM nodes where previously watched\n            // we should check their positions\n            if (mutations.some(knownNodes) === true) {\n              setTimeout(cb, 0);\n            }\n          }\n  \n          function knownNodes(mutation) {\n            var nodes = concat.call([],\n              Array.prototype.slice.call(mutation.addedNodes),\n              mutation.target\n            );\n            return filter.call(nodes, watches.isWatched).length > 0;\n          }\n        }\n  \n        /* WEBPACK VAR INJECTION */\n      }.call(exports, (function() {\n        return this;\n      }())))\n  \n      /***/\n    }\n    /******/\n  ]);","source":"photos/ins.js","raw":"\n/******/\n(function(modules) { // webpackBootstrap\n    /******/ // The module cache\n    /******/\n    var installedModules = {};\n    /******/\n    /******/ // The require function\n    /******/\n    function __webpack_require__(moduleId) {\n      /******/\n      /******/ // Check if module is in cache\n      /******/\n      if (installedModules[moduleId])\n      /******/\n        return installedModules[moduleId].exports;\n      /******/\n      /******/ // Create a new module (and put it into the cache)\n      /******/\n      var module = installedModules[moduleId] = {\n        /******/\n        exports: {},\n        /******/\n        id: moduleId,\n        /******/\n        loaded: false\n          /******/\n      };\n      /******/\n      /******/ // Execute the module function\n      /******/\n      modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n      /******/\n      /******/ // Flag the module as loaded\n      /******/\n      module.loaded = true;\n      /******/\n      /******/ // Return the exports of the module\n      /******/\n      return module.exports;\n      /******/\n    }\n    /******/\n    /******/\n    /******/ // expose the modules object (__webpack_modules__)\n    /******/\n    __webpack_require__.m = modules;\n    /******/\n    /******/ // expose the module cache\n    /******/\n    __webpack_require__.c = installedModules;\n    /******/\n    /******/ // __webpack_public_path__\n    /******/\n    __webpack_require__.p = \"/dist/\";\n    /******/\n    /******/ // Load entry module and return exports\n    /******/\n    return __webpack_require__(0);\n    /******/\n  })\n  /************************************************************************/\n  /******/\n  ([\n    /* 0 */\n    /***/\n    function(module, exports, __webpack_require__) {\n  \n      'use strict';\n  \n      __webpack_require__(1);\n  \n      var _view = __webpack_require__(2);\n  \n      var _view2 = _interopRequireDefault(_view);\n  \n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n  \n      /**\n       * @name impush-client \n       * @description 这个项目让我发家致富…\n       * @date 2016-12-1\n       */\n  \n      var _collection = [];\n      var _count = 0;\n      var searchData;\n  \n      function addMask(elem) {\n        var rect = elem.getBoundingClientRect();\n        var style = getComputedStyle(elem, null);\n  \n        var mask = document.createElement('i');\n        mask.className = 'icon-film';\n        mask.style.color = '#fff';\n        mask.style.fontSize = '26px';\n        mask.style.position = 'absolute';\n        mask.style.right = '10px';\n        mask.style.bottom = '10px';\n        mask.style.zIndex = 1;\n        elem.parentNode.appendChild(mask);\n      }\n  \n      var createVideoIncon = function createVideoIncon() {\n        var $videoImg = document.querySelectorAll('.thumb a[data-type=\"video\"]');\n        for (var i = 0, len = $videoImg.length; i < len; i++) {\n          addMask($videoImg[i]);\n        }\n      };\n      var render = function render(res) {\n        var ulTmpl = \"\";\n        for (var j = 0, len2 = res.list.length; j < len2; j++) {\n          var data = res.list[j].arr;\n          var liTmpl = \"\";\n          for (var i = 0, len = data.link.length; i < len; i++) {\n            var minSrc = 'https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/min_photos/' + data.link[i];\n            var src = 'https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/photos/' + data.link[i];\n            var type = data.type[i];\n            var target = src + (type === 'video' ? '.mp4' : '.jpg');\n            src += '';\n  \n            liTmpl += '<figure class=\"thumb\" itemprop=\"associatedMedia\" itemscope=\"\" itemtype=\"http://schema.org/ImageObject\">\\\n                  <a href=\"' + src + '\" itemprop=\"contentUrl\" data-size=\"1080x1080\" data-type=\"' + type + '\" data-target=\"' + src + '\">\\\n                    <img class=\"reward-img\" data-type=\"' + type + '\" data-src=\"' + src + '\" src=\"./assets/empty.png\" itemprop=\"thumbnail\" onload=\"lzld(this)\">\\\n                  </a>\\\n                  <figcaption style=\"display:none\" itemprop=\"caption description\">' + data.text[i] + '</figcaption>\\\n              </figure>';\n          }\n          ulTmpl = ulTmpl + '<section class=\"archives album post-header\"><h1 class=\"year\">' + data.year + '年<em>' + data.month + '月</em></h1>\\\n          <ul class=\"img-box-ul\">' + liTmpl + '</ul>\\\n          </section>';\n        }\n        document.querySelector('.instagram').innerHTML = '<div class=\"photos posts-collapse\" itemscope=\"\" itemtype=\"http://schema.org/ImageGallery\">' + ulTmpl + '</div>';\n        createVideoIncon();\n        _view2.default.init();\n      };\n  \n      var replacer = function replacer(str) {\n        var arr = str.split(\"/\");\n        return \"/assets/ins/\" + arr[arr.length - 1];\n      };\n  \n      var ctrler = function ctrler(data) {\n        var imgObj = {};\n        for (var i = 0, len = data.length; i < len; i++) {\n          var y = data[i].y;\n          var m = data[i].m;\n          var src = replacer(data[i].src);\n          var text = data[i].text;\n          var key = y + \"\" + ((m + \"\").length == 1 ? \"0\" + m : m);\n          if (imgObj[key]) {\n            imgObj[key].srclist.push(src);\n            imgObj[key].text.push(text);\n          } else {\n            imgObj[key] = {\n              year: y,\n              month: m,\n              srclist: [src],\n              text: [text]\n            };\n          }\n        }\n        render(imgObj);\n      };\n  \n      function loadData(success) {\n        if (!searchData) {\n          var xhr = new XMLHttpRequest();\n          xhr.open('GET', './data.json?t=' + +new Date(), true);\n  \n          xhr.onload = function() {\n            if (this.status >= 200 && this.status < 300) {\n              var res = JSON.parse(this.response);\n              searchData = res;\n              success(searchData);\n            } else {\n              console.error(this.statusText);\n            }\n          };\n  \n          xhr.onerror = function() {\n            console.error(this.statusText);\n          };\n  \n          xhr.send();\n        } else {\n          success(searchData);\n        }\n      }\n  \n      var Ins = {\n        init: function init() {\n          loadData(function(data) {\n            render(data);\n          });\n        }\n      };\n  \n      Ins.init();\n  \n      // export default impush;\n  \n      /***/\n    },\n    /* 1 */\n    /***/\n    function(module, exports, __webpack_require__) {\n  \n      /* WEBPACK VAR INJECTION */\n      (function(global) {\n        'use strict';\n  \n        var inViewport = __webpack_require__(3);\n        var lazyAttrs = ['data-src'];\n  \n        global.lzld = lazyload();\n  \n        // Provide libs using getAttribute early to get the good src\n        // and not the fake data-src\n        replaceGetAttribute('Image');\n        replaceGetAttribute('IFrame');\n  \n        function registerLazyAttr(attr) {\n          if (indexOf.call(lazyAttrs, attr) === -1) {\n            lazyAttrs.push(attr);\n          }\n        }\n  \n        function lazyload(opts) {\n            console.log(\"lazyload\")\n          opts = merge({\n            'offset': 333,\n            'src': 'data-src',\n            'container': false\n          }, opts || {});\n  \n          if (typeof opts.src === 'string') {\n            registerLazyAttr(opts.src);\n          }\n  \n          var elts = [];\n  \n          function show(elt) {\n            var src = findRealSrc(elt);\n  \n            if (src) {\n              elt.src = src;\n            }\n  \n            elt.setAttribute('data-lzled', true);\n            elts[indexOf.call(elts, elt)] = null;\n          }\n  \n          function findRealSrc(elt) {\n            if (typeof opts.src === 'function') {\n              return opts.src(elt);\n            }\n  \n            return elt.getAttribute(opts.src);\n          }\n  \n          function register(elt) {\n            elt.onload = null;\n            elt.removeAttribute('onload');\n            elt.onerror = null;\n            elt.removeAttribute('onerror');\n  \n            if (indexOf.call(elts, elt) === -1) {\n              inViewport(elt, opts, show);\n            }\n          }\n  \n          return register;\n        }\n  \n        function replaceGetAttribute(elementName) {\n          var fullname = 'HTML' + elementName + 'Element';\n          if (fullname in global === false) {\n            return;\n          }\n  \n          var original = global[fullname].prototype.getAttribute;\n          global[fullname].prototype.getAttribute = function(name) {\n            if (name === 'src') {\n              var realSrc;\n              for (var i = 0, max = lazyAttrs.length; i < max; i++) {\n                realSrc = original.call(this, lazyAttrs[i]);\n                if (realSrc) {\n                  break;\n                }\n              }\n  \n              return realSrc || original.call(this, name);\n            }\n  \n            // our own lazyloader will go through theses lines\n            // because we use getAttribute(opts.src)\n            return original.call(this, name);\n          };\n        }\n  \n        function merge(defaults, opts) {\n          for (var name in defaults) {\n            if (opts[name] === undefined) {\n              opts[name] = defaults[name];\n            }\n          }\n  \n          return opts;\n        }\n  \n        // http://webreflection.blogspot.fr/2011/06/partial-polyfills.html\n        function indexOf(value) {\n          for (var i = this.length; i-- && this[i] !== value;) {}\n          return i;\n        }\n  \n        module.exports = lazyload;\n  \n        // export default impush;\n        /* WEBPACK VAR INJECTION */\n      }.call(exports, (function() {\n        return this;\n      }())))\n  \n      /***/\n    },\n    /* 2 */\n    /***/\n    function(module, exports) {\n  \n      'use strict';\n  \n      var initPhotoSwipeFromDOM = function initPhotoSwipeFromDOM(gallerySelector) {\n  \n        // parse slide data (url, title, size ...) from DOM elements \n        // (children of gallerySelector)\n        var parseThumbnailElements = function parseThumbnailElements(el) {\n          el = el.parentNode.parentNode;\n          var thumbElements = el.getElementsByClassName('thumb'),\n            numNodes = thumbElements.length,\n            items = [],\n            figureEl,\n            linkEl,\n            size,\n            type,\n            // video or not\n            target,\n            item;\n  \n          for (var i = 0; i < numNodes; i++) {\n  \n            figureEl = thumbElements[i]; // \n  \n            // include only element nodes \n            if (figureEl.nodeType !== 1) {\n              continue;\n            }\n  \n            linkEl = figureEl.children[0]; // \n  \n            size = linkEl.getAttribute('data-size').split('x');\n            type = linkEl.getAttribute('data-type');\n            target = linkEl.getAttribute('data-target');\n            // create slide object\n            item = {\n              src: linkEl.getAttribute('href'),\n              w: parseInt(size[0], 10),\n              h: parseInt(size[1], 10)\n            };\n  \n            if (figureEl.children.length > 1) {\n              item.title = figureEl.children[1].innerHTML;\n            }\n  \n            if (linkEl.children.length > 0) {\n              item.msrc = linkEl.children[0].getAttribute('src');\n              item.type = type;\n              item.target = target;\n              item.html = '<video src=\"' + target + '\" controls=\"controls\" autoplay=\"autoplay\"></video>';\n              if (type === 'video') {\n                //item.src = null;\n              }\n            }\n  \n            item.el = figureEl; // save link to element for getThumbBoundsFn\n            items.push(item);\n          }\n  \n          return items;\n        };\n  \n        // find nearest parent element\n        var closest = function closest(el, fn) {\n          return el && (fn(el) ? el : closest(el.parentNode, fn));\n        };\n  \n        // triggers when user clicks on thumbnail\n        var onThumbnailsClick = function onThumbnailsClick(e) {\n          e = e || window.event;\n          e.preventDefault ? e.preventDefault() : e.returnValue = false;\n  \n          var eTarget = e.target || e.srcElement;\n  \n          // find root element of slide\n          var clickedListItem = closest(eTarget, function(el) {\n            return el.tagName && el.tagName.toUpperCase() === 'FIGURE';\n          });\n  \n          if (!clickedListItem) {\n            return;\n          }\n  \n          // find index of clicked item by looping through all child nodes\n          // alternatively, you may define index via data- attribute\n          var clickedGallery = clickedListItem.parentNode,\n  \n            // childNodes = clickedListItem.parentNode.childNodes,\n            // numChildNodes = childNodes.length,\n            childNodes = document.getElementsByClassName('thumb'),\n            numChildNodes = childNodes.length,\n            nodeIndex = 0,\n            index;\n  \n          for (var i = 0; i < numChildNodes; i++) {\n            if (childNodes[i].nodeType !== 1) {\n              continue;\n            }\n  \n            if (childNodes[i] === clickedListItem) {\n              index = nodeIndex;\n              break;\n            }\n            nodeIndex++;\n          }\n  \n          if (index >= 0) {\n            // open PhotoSwipe if valid index found\n            openPhotoSwipe(index, clickedGallery);\n          }\n          return false;\n        };\n  \n        // parse picture index and gallery index from URL (#&pid=1&gid=2)\n        var photoswipeParseHash = function photoswipeParseHash() {\n          var hash = window.location.hash.substring(1),\n            params = {};\n  \n          if (hash.length < 5) {\n            return params;\n          }\n  \n          var vars = hash.split('&');\n          for (var i = 0; i < vars.length; i++) {\n            if (!vars[i]) {\n              continue;\n            }\n            var pair = vars[i].split('=');\n            if (pair.length < 2) {\n              continue;\n            }\n            params[pair[0]] = pair[1];\n          }\n  \n          if (params.gid) {\n            params.gid = parseInt(params.gid, 10);\n          }\n  \n          return params;\n        };\n  \n        var openPhotoSwipe = function openPhotoSwipe(index, galleryElement, disableAnimation, fromURL) {\n          var pswpElement = document.querySelectorAll('.pswp')[0],\n            gallery,\n            options,\n            items;\n  \n          items = parseThumbnailElements(galleryElement);\n          // define options (if needed)\n          options = {\n  \n            // define gallery index (for URL)\n            galleryUID: galleryElement.getAttribute('data-pswp-uid'),\n  \n            getThumbBoundsFn: function getThumbBoundsFn(index) {\n              // See Options -> getThumbBoundsFn section of documentation for more info\n              var thumbnail = items[index].el.getElementsByTagName('img')[0],\n                // find thumbnail\n                pageYScroll = window.pageYOffset || document.documentElement.scrollTop,\n                rect = thumbnail.getBoundingClientRect();\n  \n              return {\n                x: rect.left,\n                y: rect.top + pageYScroll,\n                w: rect.width\n              };\n            }\n  \n          };\n  \n          // PhotoSwipe opened from URL\n          if (fromURL) {\n            if (options.galleryPIDs) {\n              // parse real index when custom PIDs are used \n              // http://photoswipe.com/documentation/faq.html#custom-pid-in-url\n              for (var j = 0; j < items.length; j++) {\n                if (items[j].pid == index) {\n                  options.index = j;\n                  break;\n                }\n              }\n            } else {\n              // in URL indexes start from 1\n              options.index = parseInt(index, 10) - 1;\n            }\n          } else {\n            options.index = parseInt(index, 10);\n          }\n  \n          // exit if index not found\n          if (isNaN(options.index)) {\n            return;\n          }\n  \n          if (disableAnimation) {\n            options.showAnimationDuration = 0;\n          }\n  \n          // Pass data to PhotoSwipe and initialize it\n          gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);\n          gallery.init();\n  \n          var $tempVideo;\n          var stopVideoHandle = function stopVideoHandle() {\n            if ($tempVideo) {\n              $tempVideo.remove();\n              $tempVideo = null;\n            }\n          };\n          var changeHandle = function changeHandle() {\n            var item = gallery.currItem;\n            stopVideoHandle();\n            if (item.type === 'video') {\n              var $ctn = item.container;\n              var style = $ctn.getElementsByClassName('pswp__img')[0].style;\n              var $video = document.createElement('video');\n              $video.setAttribute('autoplay', 'autoplay');\n              $video.setAttribute('controls', 'controls');\n              $video.setAttribute('src', item.target);\n              $video.style.width = style.width;\n              $video.style.height = style.height;\n              $video.style.position = 'absolute';\n              $video.style.zIndex = 2;\n              $tempVideo = $video;\n              $ctn.appendChild($video);\n            }\n          };\n          gallery.listen('initialZoomIn', changeHandle);\n          gallery.listen('afterChange', changeHandle);\n          gallery.listen('initialZoomOut', stopVideoHandle);\n        };\n  \n        // loop through all gallery elements and bind events\n        var galleryElements = document.querySelectorAll(gallerySelector);\n        for (var i = 0, l = galleryElements.length; i < l; i++) {\n          galleryElements[i].setAttribute('data-pswp-uid', i + 1);\n          galleryElements[i].onclick = onThumbnailsClick;\n        }\n  \n        // Parse URL and open gallery if it contains #&pid=3&gid=1\n        var hashData = photoswipeParseHash();\n        if (hashData.pid && hashData.gid) {\n          openPhotoSwipe(hashData.pid, galleryElements[hashData.gid - 1], true, true);\n        }\n      };\n  \n      var Viewer = function() {\n        function init() {\n          initPhotoSwipeFromDOM('.photos');\n        }\n        return {\n          init: init\n        };\n      }();\n  \n      module.exports = Viewer;\n  \n      /***/\n    },\n    /* 3 */\n    /***/\n    function(module, exports) {\n  \n      /* WEBPACK VAR INJECTION */\n      (function(global) {\n        module.exports = inViewport;\n  \n        var instances = [];\n        var supportsMutationObserver = typeof global.MutationObserver === 'function';\n  \n        function inViewport(elt, params, cb) {\n          var opts = {\n            container: global.document.body,\n            offset: 0\n          };\n  \n          if (params === undefined || typeof params === 'function') {\n            cb = params;\n            params = {};\n          }\n  \n          var container = opts.container = params.container || opts.container;\n          var offset = opts.offset = params.offset || opts.offset;\n  \n          for (var i = 0; i < instances.length; i++) {\n            if (instances[i].container === container) {\n              return instances[i].isInViewport(elt, offset, cb);\n            }\n          }\n  \n          return instances[\n            instances.push(createInViewport(container)) - 1\n          ].isInViewport(elt, offset, cb);\n        }\n  \n        function addEvent(el, type, fn) {\n          if (el.attachEvent) {\n            el.attachEvent('on' + type, fn);\n          } else {\n            el.addEventListener(type, fn, false);\n          }\n        }\n  \n        function debounce(func, wait, immediate) {\n          var timeout;\n          return function() {\n            var context = this,\n              args = arguments;\n            var callNow = immediate && !timeout;\n            clearTimeout(timeout);\n            timeout = setTimeout(later, wait);\n            if (callNow) func.apply(context, args);\n  \n            function later() {\n              timeout = null;\n              if (!immediate) func.apply(context, args);\n            }\n          };\n        }\n  \n        // https://github.com/jquery/sizzle/blob/3136f48b90e3edc84cbaaa6f6f7734ef03775a07/sizzle.js#L708\n        var contains = function() {\n          if (!global.document) {\n            return true;\n          }\n          return global.document.documentElement.compareDocumentPosition ?\n            function(a, b) {\n              return !!(a.compareDocumentPosition(b) & 16);\n            } :\n            global.document.documentElement.contains ?\n            function(a, b) {\n              return a !== b && (a.contains ? a.contains(b) : false);\n            } :\n            function(a, b) {\n              while (b = b.parentNode) {\n                if (b === a) {\n                  return true;\n                }\n              }\n              return false;\n            };\n        }\n  \n        function createInViewport(container) {\n          var watches = createWatches();\n  \n          var scrollContainer = container === global.document.body ? global : container;\n          var debouncedCheck = debounce(watches.checkAll(watchInViewport), 15);\n  \n          addEvent(scrollContainer, 'scroll', debouncedCheck);\n  \n          if (scrollContainer === global) {\n            addEvent(global, 'resize', debouncedCheck);\n          }\n  \n          if (supportsMutationObserver) {\n            observeDOM(watches, container, debouncedCheck);\n          }\n  \n          // failsafe check, every 200ms we check for visible images\n          // usecase: a hidden parent containing eleements\n          // when the parent becomes visible, we have no event that the children\n          // became visible\n          setInterval(debouncedCheck, 150);\n  \n          function isInViewport(elt, offset, cb) {\n            if (!cb) {\n              return isVisible(elt, offset);\n            }\n  \n            var remote = createRemote(elt, offset, cb);\n            remote.watch();\n            return remote;\n          }\n  \n          function createRemote(elt, offset, cb) {\n            function watch() {\n              watches.add(elt, offset, cb);\n            }\n  \n            function dispose() {\n              watches.remove(elt);\n            }\n  \n            return {\n              watch: watch,\n              dispose: dispose\n            };\n          }\n  \n          function watchInViewport(elt, offset, cb) {\n            if (isVisible(elt, offset)) {\n              watches.remove(elt);\n              cb(elt);\n            }\n          }\n  \n          function isVisible(elt, offset) {\n            if (!contains(global.document.documentElement, elt) || !contains(global.document.documentElement, container)) {\n              return false;\n            }\n  \n            // Check if the element is visible\n            // https://github.com/jquery/jquery/blob/740e190223d19a114d5373758127285d14d6b71e/src/css/hiddenVisibleSelectors.js\n            if (!elt.offsetWidth || !elt.offsetHeight) {\n              return false;\n            }\n  \n            var eltRect = elt.getBoundingClientRect();\n            var viewport = {};\n  \n            if (container === global.document.body) {\n              viewport = {\n                top: -offset,\n                left: -offset,\n                right: global.document.documentElement.clientWidth + offset,\n                bottom: global.document.documentElement.clientHeight + offset\n              };\n            } else {\n              var containerRect = container.getBoundingClientRect();\n              viewport = {\n                top: containerRect.top - offset,\n                left: containerRect.left - offset,\n                right: containerRect.right + offset,\n                bottom: containerRect.bottom + offset\n              };\n            }\n  \n            // The element must overlap with the visible part of the viewport\n            var visible =\n              (\n                (eltRect.right > viewport.left) &&\n                (eltRect.left < viewport.right) &&\n                (eltRect.bottom > viewport.top) &&\n                (eltRect.top < viewport.bottom)\n              );\n  \n            return visible;\n          }\n  \n          return {\n            container: container,\n            isInViewport: isInViewport\n          };\n        }\n  \n        function createWatches() {\n          var watches = [];\n  \n          function add(elt, offset, cb) {\n            if (!isWatched(elt)) {\n              watches.push([elt, offset, cb]);\n            }\n          }\n  \n          function remove(elt) {\n            var pos = indexOf(elt);\n            if (pos !== -1) {\n              watches.splice(pos, 1);\n            }\n          }\n  \n          function indexOf(elt) {\n            for (var i = watches.length - 1; i >= 0; i--) {\n              if (watches[i][0] === elt) {\n                return i;\n              }\n            }\n            return -1;\n          }\n  \n          function isWatched(elt) {\n            return indexOf(elt) !== -1;\n          }\n  \n          function checkAll(cb) {\n            return function() {\n              for (var i = watches.length - 1; i >= 0; i--) {\n                cb.apply(this, watches[i]);\n              }\n            };\n          }\n  \n          return {\n            add: add,\n            remove: remove,\n            isWatched: isWatched,\n            checkAll: checkAll\n          };\n        }\n  \n        function observeDOM(watches, container, cb) {\n          var observer = new MutationObserver(watch);\n          var filter = Array.prototype.filter;\n          var concat = Array.prototype.concat;\n  \n          observer.observe(container, {\n            childList: true,\n            subtree: true,\n            // changes like style/width/height/display will be catched\n            attributes: true\n          });\n  \n          function watch(mutations) {\n            // some new DOM nodes where previously watched\n            // we should check their positions\n            if (mutations.some(knownNodes) === true) {\n              setTimeout(cb, 0);\n            }\n          }\n  \n          function knownNodes(mutation) {\n            var nodes = concat.call([],\n              Array.prototype.slice.call(mutation.addedNodes),\n              mutation.target\n            );\n            return filter.call(nodes, watches.isWatched).length > 0;\n          }\n        }\n  \n        /* WEBPACK VAR INJECTION */\n      }.call(exports, (function() {\n        return this;\n      }())))\n  \n      /***/\n    }\n    /******/\n  ]);","date":"2018-05-02T05:55:01.753Z","updated":"2018-05-02T05:55:01.753Z","path":"photos/ins.js","layout":"false","title":"","comments":1,"_id":"cjhio9nun007l6bfyzsx8pzu2","content":"\n/******/\n(function(modules) { // webpackBootstrap\n    /******/ // The module cache\n    /******/\n    var installedModules = {};\n    /******/\n    /******/ // The require function\n    /******/\n    function __webpack_require__(moduleId) {\n      /******/\n      /******/ // Check if module is in cache\n      /******/\n      if (installedModules[moduleId])\n      /******/\n        return installedModules[moduleId].exports;\n      /******/\n      /******/ // Create a new module (and put it into the cache)\n      /******/\n      var module = installedModules[moduleId] = {\n        /******/\n        exports: {},\n        /******/\n        id: moduleId,\n        /******/\n        loaded: false\n          /******/\n      };\n      /******/\n      /******/ // Execute the module function\n      /******/\n      modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n      /******/\n      /******/ // Flag the module as loaded\n      /******/\n      module.loaded = true;\n      /******/\n      /******/ // Return the exports of the module\n      /******/\n      return module.exports;\n      /******/\n    }\n    /******/\n    /******/\n    /******/ // expose the modules object (__webpack_modules__)\n    /******/\n    __webpack_require__.m = modules;\n    /******/\n    /******/ // expose the module cache\n    /******/\n    __webpack_require__.c = installedModules;\n    /******/\n    /******/ // __webpack_public_path__\n    /******/\n    __webpack_require__.p = \"/dist/\";\n    /******/\n    /******/ // Load entry module and return exports\n    /******/\n    return __webpack_require__(0);\n    /******/\n  })\n  /************************************************************************/\n  /******/\n  ([\n    /* 0 */\n    /***/\n    function(module, exports, __webpack_require__) {\n  \n      'use strict';\n  \n      __webpack_require__(1);\n  \n      var _view = __webpack_require__(2);\n  \n      var _view2 = _interopRequireDefault(_view);\n  \n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n  \n      /**\n       * @name impush-client \n       * @description 这个项目让我发家致富…\n       * @date 2016-12-1\n       */\n  \n      var _collection = [];\n      var _count = 0;\n      var searchData;\n  \n      function addMask(elem) {\n        var rect = elem.getBoundingClientRect();\n        var style = getComputedStyle(elem, null);\n  \n        var mask = document.createElement('i');\n        mask.className = 'icon-film';\n        mask.style.color = '#fff';\n        mask.style.fontSize = '26px';\n        mask.style.position = 'absolute';\n        mask.style.right = '10px';\n        mask.style.bottom = '10px';\n        mask.style.zIndex = 1;\n        elem.parentNode.appendChild(mask);\n      }\n  \n      var createVideoIncon = function createVideoIncon() {\n        var $videoImg = document.querySelectorAll('.thumb a[data-type=\"video\"]');\n        for (var i = 0, len = $videoImg.length; i < len; i++) {\n          addMask($videoImg[i]);\n        }\n      };\n      var render = function render(res) {\n        var ulTmpl = \"\";\n        for (var j = 0, len2 = res.list.length; j < len2; j++) {\n          var data = res.list[j].arr;\n          var liTmpl = \"\";\n          for (var i = 0, len = data.link.length; i < len; i++) {\n            var minSrc = 'https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/min_photos/' + data.link[i];\n            var src = 'https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/photos/' + data.link[i];\n            var type = data.type[i];\n            var target = src + (type === 'video' ? '.mp4' : '.jpg');\n            src += '';\n  \n            liTmpl += '<figure class=\"thumb\" itemprop=\"associatedMedia\" itemscope=\"\" itemtype=\"http://schema.org/ImageObject\">\\\n                  <a href=\"' + src + '\" itemprop=\"contentUrl\" data-size=\"1080x1080\" data-type=\"' + type + '\" data-target=\"' + src + '\">\\\n                    <img class=\"reward-img\" data-type=\"' + type + '\" data-src=\"' + src + '\" src=\"./assets/empty.png\" itemprop=\"thumbnail\" onload=\"lzld(this)\">\\\n                  </a>\\\n                  <figcaption style=\"display:none\" itemprop=\"caption description\">' + data.text[i] + '</figcaption>\\\n              </figure>';\n          }\n          ulTmpl = ulTmpl + '<section class=\"archives album post-header\"><h1 class=\"year\">' + data.year + '年<em>' + data.month + '月</em></h1>\\\n          <ul class=\"img-box-ul\">' + liTmpl + '</ul>\\\n          </section>';\n        }\n        document.querySelector('.instagram').innerHTML = '<div class=\"photos posts-collapse\" itemscope=\"\" itemtype=\"http://schema.org/ImageGallery\">' + ulTmpl + '</div>';\n        createVideoIncon();\n        _view2.default.init();\n      };\n  \n      var replacer = function replacer(str) {\n        var arr = str.split(\"/\");\n        return \"/assets/ins/\" + arr[arr.length - 1];\n      };\n  \n      var ctrler = function ctrler(data) {\n        var imgObj = {};\n        for (var i = 0, len = data.length; i < len; i++) {\n          var y = data[i].y;\n          var m = data[i].m;\n          var src = replacer(data[i].src);\n          var text = data[i].text;\n          var key = y + \"\" + ((m + \"\").length == 1 ? \"0\" + m : m);\n          if (imgObj[key]) {\n            imgObj[key].srclist.push(src);\n            imgObj[key].text.push(text);\n          } else {\n            imgObj[key] = {\n              year: y,\n              month: m,\n              srclist: [src],\n              text: [text]\n            };\n          }\n        }\n        render(imgObj);\n      };\n  \n      function loadData(success) {\n        if (!searchData) {\n          var xhr = new XMLHttpRequest();\n          xhr.open('GET', './data.json?t=' + +new Date(), true);\n  \n          xhr.onload = function() {\n            if (this.status >= 200 && this.status < 300) {\n              var res = JSON.parse(this.response);\n              searchData = res;\n              success(searchData);\n            } else {\n              console.error(this.statusText);\n            }\n          };\n  \n          xhr.onerror = function() {\n            console.error(this.statusText);\n          };\n  \n          xhr.send();\n        } else {\n          success(searchData);\n        }\n      }\n  \n      var Ins = {\n        init: function init() {\n          loadData(function(data) {\n            render(data);\n          });\n        }\n      };\n  \n      Ins.init();\n  \n      // export default impush;\n  \n      /***/\n    },\n    /* 1 */\n    /***/\n    function(module, exports, __webpack_require__) {\n  \n      /* WEBPACK VAR INJECTION */\n      (function(global) {\n        'use strict';\n  \n        var inViewport = __webpack_require__(3);\n        var lazyAttrs = ['data-src'];\n  \n        global.lzld = lazyload();\n  \n        // Provide libs using getAttribute early to get the good src\n        // and not the fake data-src\n        replaceGetAttribute('Image');\n        replaceGetAttribute('IFrame');\n  \n        function registerLazyAttr(attr) {\n          if (indexOf.call(lazyAttrs, attr) === -1) {\n            lazyAttrs.push(attr);\n          }\n        }\n  \n        function lazyload(opts) {\n            console.log(\"lazyload\")\n          opts = merge({\n            'offset': 333,\n            'src': 'data-src',\n            'container': false\n          }, opts || {});\n  \n          if (typeof opts.src === 'string') {\n            registerLazyAttr(opts.src);\n          }\n  \n          var elts = [];\n  \n          function show(elt) {\n            var src = findRealSrc(elt);\n  \n            if (src) {\n              elt.src = src;\n            }\n  \n            elt.setAttribute('data-lzled', true);\n            elts[indexOf.call(elts, elt)] = null;\n          }\n  \n          function findRealSrc(elt) {\n            if (typeof opts.src === 'function') {\n              return opts.src(elt);\n            }\n  \n            return elt.getAttribute(opts.src);\n          }\n  \n          function register(elt) {\n            elt.onload = null;\n            elt.removeAttribute('onload');\n            elt.onerror = null;\n            elt.removeAttribute('onerror');\n  \n            if (indexOf.call(elts, elt) === -1) {\n              inViewport(elt, opts, show);\n            }\n          }\n  \n          return register;\n        }\n  \n        function replaceGetAttribute(elementName) {\n          var fullname = 'HTML' + elementName + 'Element';\n          if (fullname in global === false) {\n            return;\n          }\n  \n          var original = global[fullname].prototype.getAttribute;\n          global[fullname].prototype.getAttribute = function(name) {\n            if (name === 'src') {\n              var realSrc;\n              for (var i = 0, max = lazyAttrs.length; i < max; i++) {\n                realSrc = original.call(this, lazyAttrs[i]);\n                if (realSrc) {\n                  break;\n                }\n              }\n  \n              return realSrc || original.call(this, name);\n            }\n  \n            // our own lazyloader will go through theses lines\n            // because we use getAttribute(opts.src)\n            return original.call(this, name);\n          };\n        }\n  \n        function merge(defaults, opts) {\n          for (var name in defaults) {\n            if (opts[name] === undefined) {\n              opts[name] = defaults[name];\n            }\n          }\n  \n          return opts;\n        }\n  \n        // http://webreflection.blogspot.fr/2011/06/partial-polyfills.html\n        function indexOf(value) {\n          for (var i = this.length; i-- && this[i] !== value;) {}\n          return i;\n        }\n  \n        module.exports = lazyload;\n  \n        // export default impush;\n        /* WEBPACK VAR INJECTION */\n      }.call(exports, (function() {\n        return this;\n      }())))\n  \n      /***/\n    },\n    /* 2 */\n    /***/\n    function(module, exports) {\n  \n      'use strict';\n  \n      var initPhotoSwipeFromDOM = function initPhotoSwipeFromDOM(gallerySelector) {\n  \n        // parse slide data (url, title, size ...) from DOM elements \n        // (children of gallerySelector)\n        var parseThumbnailElements = function parseThumbnailElements(el) {\n          el = el.parentNode.parentNode;\n          var thumbElements = el.getElementsByClassName('thumb'),\n            numNodes = thumbElements.length,\n            items = [],\n            figureEl,\n            linkEl,\n            size,\n            type,\n            // video or not\n            target,\n            item;\n  \n          for (var i = 0; i < numNodes; i++) {\n  \n            figureEl = thumbElements[i]; // \n  \n            // include only element nodes \n            if (figureEl.nodeType !== 1) {\n              continue;\n            }\n  \n            linkEl = figureEl.children[0]; // \n  \n            size = linkEl.getAttribute('data-size').split('x');\n            type = linkEl.getAttribute('data-type');\n            target = linkEl.getAttribute('data-target');\n            // create slide object\n            item = {\n              src: linkEl.getAttribute('href'),\n              w: parseInt(size[0], 10),\n              h: parseInt(size[1], 10)\n            };\n  \n            if (figureEl.children.length > 1) {\n              item.title = figureEl.children[1].innerHTML;\n            }\n  \n            if (linkEl.children.length > 0) {\n              item.msrc = linkEl.children[0].getAttribute('src');\n              item.type = type;\n              item.target = target;\n              item.html = '<video src=\"' + target + '\" controls=\"controls\" autoplay=\"autoplay\"></video>';\n              if (type === 'video') {\n                //item.src = null;\n              }\n            }\n  \n            item.el = figureEl; // save link to element for getThumbBoundsFn\n            items.push(item);\n          }\n  \n          return items;\n        };\n  \n        // find nearest parent element\n        var closest = function closest(el, fn) {\n          return el && (fn(el) ? el : closest(el.parentNode, fn));\n        };\n  \n        // triggers when user clicks on thumbnail\n        var onThumbnailsClick = function onThumbnailsClick(e) {\n          e = e || window.event;\n          e.preventDefault ? e.preventDefault() : e.returnValue = false;\n  \n          var eTarget = e.target || e.srcElement;\n  \n          // find root element of slide\n          var clickedListItem = closest(eTarget, function(el) {\n            return el.tagName && el.tagName.toUpperCase() === 'FIGURE';\n          });\n  \n          if (!clickedListItem) {\n            return;\n          }\n  \n          // find index of clicked item by looping through all child nodes\n          // alternatively, you may define index via data- attribute\n          var clickedGallery = clickedListItem.parentNode,\n  \n            // childNodes = clickedListItem.parentNode.childNodes,\n            // numChildNodes = childNodes.length,\n            childNodes = document.getElementsByClassName('thumb'),\n            numChildNodes = childNodes.length,\n            nodeIndex = 0,\n            index;\n  \n          for (var i = 0; i < numChildNodes; i++) {\n            if (childNodes[i].nodeType !== 1) {\n              continue;\n            }\n  \n            if (childNodes[i] === clickedListItem) {\n              index = nodeIndex;\n              break;\n            }\n            nodeIndex++;\n          }\n  \n          if (index >= 0) {\n            // open PhotoSwipe if valid index found\n            openPhotoSwipe(index, clickedGallery);\n          }\n          return false;\n        };\n  \n        // parse picture index and gallery index from URL (#&pid=1&gid=2)\n        var photoswipeParseHash = function photoswipeParseHash() {\n          var hash = window.location.hash.substring(1),\n            params = {};\n  \n          if (hash.length < 5) {\n            return params;\n          }\n  \n          var vars = hash.split('&');\n          for (var i = 0; i < vars.length; i++) {\n            if (!vars[i]) {\n              continue;\n            }\n            var pair = vars[i].split('=');\n            if (pair.length < 2) {\n              continue;\n            }\n            params[pair[0]] = pair[1];\n          }\n  \n          if (params.gid) {\n            params.gid = parseInt(params.gid, 10);\n          }\n  \n          return params;\n        };\n  \n        var openPhotoSwipe = function openPhotoSwipe(index, galleryElement, disableAnimation, fromURL) {\n          var pswpElement = document.querySelectorAll('.pswp')[0],\n            gallery,\n            options,\n            items;\n  \n          items = parseThumbnailElements(galleryElement);\n          // define options (if needed)\n          options = {\n  \n            // define gallery index (for URL)\n            galleryUID: galleryElement.getAttribute('data-pswp-uid'),\n  \n            getThumbBoundsFn: function getThumbBoundsFn(index) {\n              // See Options -> getThumbBoundsFn section of documentation for more info\n              var thumbnail = items[index].el.getElementsByTagName('img')[0],\n                // find thumbnail\n                pageYScroll = window.pageYOffset || document.documentElement.scrollTop,\n                rect = thumbnail.getBoundingClientRect();\n  \n              return {\n                x: rect.left,\n                y: rect.top + pageYScroll,\n                w: rect.width\n              };\n            }\n  \n          };\n  \n          // PhotoSwipe opened from URL\n          if (fromURL) {\n            if (options.galleryPIDs) {\n              // parse real index when custom PIDs are used \n              // http://photoswipe.com/documentation/faq.html#custom-pid-in-url\n              for (var j = 0; j < items.length; j++) {\n                if (items[j].pid == index) {\n                  options.index = j;\n                  break;\n                }\n              }\n            } else {\n              // in URL indexes start from 1\n              options.index = parseInt(index, 10) - 1;\n            }\n          } else {\n            options.index = parseInt(index, 10);\n          }\n  \n          // exit if index not found\n          if (isNaN(options.index)) {\n            return;\n          }\n  \n          if (disableAnimation) {\n            options.showAnimationDuration = 0;\n          }\n  \n          // Pass data to PhotoSwipe and initialize it\n          gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);\n          gallery.init();\n  \n          var $tempVideo;\n          var stopVideoHandle = function stopVideoHandle() {\n            if ($tempVideo) {\n              $tempVideo.remove();\n              $tempVideo = null;\n            }\n          };\n          var changeHandle = function changeHandle() {\n            var item = gallery.currItem;\n            stopVideoHandle();\n            if (item.type === 'video') {\n              var $ctn = item.container;\n              var style = $ctn.getElementsByClassName('pswp__img')[0].style;\n              var $video = document.createElement('video');\n              $video.setAttribute('autoplay', 'autoplay');\n              $video.setAttribute('controls', 'controls');\n              $video.setAttribute('src', item.target);\n              $video.style.width = style.width;\n              $video.style.height = style.height;\n              $video.style.position = 'absolute';\n              $video.style.zIndex = 2;\n              $tempVideo = $video;\n              $ctn.appendChild($video);\n            }\n          };\n          gallery.listen('initialZoomIn', changeHandle);\n          gallery.listen('afterChange', changeHandle);\n          gallery.listen('initialZoomOut', stopVideoHandle);\n        };\n  \n        // loop through all gallery elements and bind events\n        var galleryElements = document.querySelectorAll(gallerySelector);\n        for (var i = 0, l = galleryElements.length; i < l; i++) {\n          galleryElements[i].setAttribute('data-pswp-uid', i + 1);\n          galleryElements[i].onclick = onThumbnailsClick;\n        }\n  \n        // Parse URL and open gallery if it contains #&pid=3&gid=1\n        var hashData = photoswipeParseHash();\n        if (hashData.pid && hashData.gid) {\n          openPhotoSwipe(hashData.pid, galleryElements[hashData.gid - 1], true, true);\n        }\n      };\n  \n      var Viewer = function() {\n        function init() {\n          initPhotoSwipeFromDOM('.photos');\n        }\n        return {\n          init: init\n        };\n      }();\n  \n      module.exports = Viewer;\n  \n      /***/\n    },\n    /* 3 */\n    /***/\n    function(module, exports) {\n  \n      /* WEBPACK VAR INJECTION */\n      (function(global) {\n        module.exports = inViewport;\n  \n        var instances = [];\n        var supportsMutationObserver = typeof global.MutationObserver === 'function';\n  \n        function inViewport(elt, params, cb) {\n          var opts = {\n            container: global.document.body,\n            offset: 0\n          };\n  \n          if (params === undefined || typeof params === 'function') {\n            cb = params;\n            params = {};\n          }\n  \n          var container = opts.container = params.container || opts.container;\n          var offset = opts.offset = params.offset || opts.offset;\n  \n          for (var i = 0; i < instances.length; i++) {\n            if (instances[i].container === container) {\n              return instances[i].isInViewport(elt, offset, cb);\n            }\n          }\n  \n          return instances[\n            instances.push(createInViewport(container)) - 1\n          ].isInViewport(elt, offset, cb);\n        }\n  \n        function addEvent(el, type, fn) {\n          if (el.attachEvent) {\n            el.attachEvent('on' + type, fn);\n          } else {\n            el.addEventListener(type, fn, false);\n          }\n        }\n  \n        function debounce(func, wait, immediate) {\n          var timeout;\n          return function() {\n            var context = this,\n              args = arguments;\n            var callNow = immediate && !timeout;\n            clearTimeout(timeout);\n            timeout = setTimeout(later, wait);\n            if (callNow) func.apply(context, args);\n  \n            function later() {\n              timeout = null;\n              if (!immediate) func.apply(context, args);\n            }\n          };\n        }\n  \n        // https://github.com/jquery/sizzle/blob/3136f48b90e3edc84cbaaa6f6f7734ef03775a07/sizzle.js#L708\n        var contains = function() {\n          if (!global.document) {\n            return true;\n          }\n          return global.document.documentElement.compareDocumentPosition ?\n            function(a, b) {\n              return !!(a.compareDocumentPosition(b) & 16);\n            } :\n            global.document.documentElement.contains ?\n            function(a, b) {\n              return a !== b && (a.contains ? a.contains(b) : false);\n            } :\n            function(a, b) {\n              while (b = b.parentNode) {\n                if (b === a) {\n                  return true;\n                }\n              }\n              return false;\n            };\n        }\n  \n        function createInViewport(container) {\n          var watches = createWatches();\n  \n          var scrollContainer = container === global.document.body ? global : container;\n          var debouncedCheck = debounce(watches.checkAll(watchInViewport), 15);\n  \n          addEvent(scrollContainer, 'scroll', debouncedCheck);\n  \n          if (scrollContainer === global) {\n            addEvent(global, 'resize', debouncedCheck);\n          }\n  \n          if (supportsMutationObserver) {\n            observeDOM(watches, container, debouncedCheck);\n          }\n  \n          // failsafe check, every 200ms we check for visible images\n          // usecase: a hidden parent containing eleements\n          // when the parent becomes visible, we have no event that the children\n          // became visible\n          setInterval(debouncedCheck, 150);\n  \n          function isInViewport(elt, offset, cb) {\n            if (!cb) {\n              return isVisible(elt, offset);\n            }\n  \n            var remote = createRemote(elt, offset, cb);\n            remote.watch();\n            return remote;\n          }\n  \n          function createRemote(elt, offset, cb) {\n            function watch() {\n              watches.add(elt, offset, cb);\n            }\n  \n            function dispose() {\n              watches.remove(elt);\n            }\n  \n            return {\n              watch: watch,\n              dispose: dispose\n            };\n          }\n  \n          function watchInViewport(elt, offset, cb) {\n            if (isVisible(elt, offset)) {\n              watches.remove(elt);\n              cb(elt);\n            }\n          }\n  \n          function isVisible(elt, offset) {\n            if (!contains(global.document.documentElement, elt) || !contains(global.document.documentElement, container)) {\n              return false;\n            }\n  \n            // Check if the element is visible\n            // https://github.com/jquery/jquery/blob/740e190223d19a114d5373758127285d14d6b71e/src/css/hiddenVisibleSelectors.js\n            if (!elt.offsetWidth || !elt.offsetHeight) {\n              return false;\n            }\n  \n            var eltRect = elt.getBoundingClientRect();\n            var viewport = {};\n  \n            if (container === global.document.body) {\n              viewport = {\n                top: -offset,\n                left: -offset,\n                right: global.document.documentElement.clientWidth + offset,\n                bottom: global.document.documentElement.clientHeight + offset\n              };\n            } else {\n              var containerRect = container.getBoundingClientRect();\n              viewport = {\n                top: containerRect.top - offset,\n                left: containerRect.left - offset,\n                right: containerRect.right + offset,\n                bottom: containerRect.bottom + offset\n              };\n            }\n  \n            // The element must overlap with the visible part of the viewport\n            var visible =\n              (\n                (eltRect.right > viewport.left) &&\n                (eltRect.left < viewport.right) &&\n                (eltRect.bottom > viewport.top) &&\n                (eltRect.top < viewport.bottom)\n              );\n  \n            return visible;\n          }\n  \n          return {\n            container: container,\n            isInViewport: isInViewport\n          };\n        }\n  \n        function createWatches() {\n          var watches = [];\n  \n          function add(elt, offset, cb) {\n            if (!isWatched(elt)) {\n              watches.push([elt, offset, cb]);\n            }\n          }\n  \n          function remove(elt) {\n            var pos = indexOf(elt);\n            if (pos !== -1) {\n              watches.splice(pos, 1);\n            }\n          }\n  \n          function indexOf(elt) {\n            for (var i = watches.length - 1; i >= 0; i--) {\n              if (watches[i][0] === elt) {\n                return i;\n              }\n            }\n            return -1;\n          }\n  \n          function isWatched(elt) {\n            return indexOf(elt) !== -1;\n          }\n  \n          function checkAll(cb) {\n            return function() {\n              for (var i = watches.length - 1; i >= 0; i--) {\n                cb.apply(this, watches[i]);\n              }\n            };\n          }\n  \n          return {\n            add: add,\n            remove: remove,\n            isWatched: isWatched,\n            checkAll: checkAll\n          };\n        }\n  \n        function observeDOM(watches, container, cb) {\n          var observer = new MutationObserver(watch);\n          var filter = Array.prototype.filter;\n          var concat = Array.prototype.concat;\n  \n          observer.observe(container, {\n            childList: true,\n            subtree: true,\n            // changes like style/width/height/display will be catched\n            attributes: true\n          });\n  \n          function watch(mutations) {\n            // some new DOM nodes where previously watched\n            // we should check their positions\n            if (mutations.some(knownNodes) === true) {\n              setTimeout(cb, 0);\n            }\n          }\n  \n          function knownNodes(mutation) {\n            var nodes = concat.call([],\n              Array.prototype.slice.call(mutation.addedNodes),\n              mutation.target\n            );\n            return filter.call(nodes, watches.isWatched).length > 0;\n          }\n        }\n  \n        /* WEBPACK VAR INJECTION */\n      }.call(exports, (function() {\n        return this;\n      }())))\n  \n      /***/\n    }\n    /******/\n  ]);","site":{"data":{}},"excerpt":"","more":"\n/******/\n(function(modules) { // webpackBootstrap\n    /******/ // The module cache\n    /******/\n    var installedModules = {};\n    /******/\n    /******/ // The require function\n    /******/\n    function __webpack_require__(moduleId) {\n      /******/\n      /******/ // Check if module is in cache\n      /******/\n      if (installedModules[moduleId])\n      /******/\n        return installedModules[moduleId].exports;\n      /******/\n      /******/ // Create a new module (and put it into the cache)\n      /******/\n      var module = installedModules[moduleId] = {\n        /******/\n        exports: {},\n        /******/\n        id: moduleId,\n        /******/\n        loaded: false\n          /******/\n      };\n      /******/\n      /******/ // Execute the module function\n      /******/\n      modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n      /******/\n      /******/ // Flag the module as loaded\n      /******/\n      module.loaded = true;\n      /******/\n      /******/ // Return the exports of the module\n      /******/\n      return module.exports;\n      /******/\n    }\n    /******/\n    /******/\n    /******/ // expose the modules object (__webpack_modules__)\n    /******/\n    __webpack_require__.m = modules;\n    /******/\n    /******/ // expose the module cache\n    /******/\n    __webpack_require__.c = installedModules;\n    /******/\n    /******/ // __webpack_public_path__\n    /******/\n    __webpack_require__.p = \"/dist/\";\n    /******/\n    /******/ // Load entry module and return exports\n    /******/\n    return __webpack_require__(0);\n    /******/\n  })\n  /************************************************************************/\n  /******/\n  ([\n    /* 0 */\n    /***/\n    function(module, exports, __webpack_require__) {\n  \n      'use strict';\n  \n      __webpack_require__(1);\n  \n      var _view = __webpack_require__(2);\n  \n      var _view2 = _interopRequireDefault(_view);\n  \n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n  \n      /**\n       * @name impush-client \n       * @description 这个项目让我发家致富…\n       * @date 2016-12-1\n       */\n  \n      var _collection = [];\n      var _count = 0;\n      var searchData;\n  \n      function addMask(elem) {\n        var rect = elem.getBoundingClientRect();\n        var style = getComputedStyle(elem, null);\n  \n        var mask = document.createElement('i');\n        mask.className = 'icon-film';\n        mask.style.color = '#fff';\n        mask.style.fontSize = '26px';\n        mask.style.position = 'absolute';\n        mask.style.right = '10px';\n        mask.style.bottom = '10px';\n        mask.style.zIndex = 1;\n        elem.parentNode.appendChild(mask);\n      }\n  \n      var createVideoIncon = function createVideoIncon() {\n        var $videoImg = document.querySelectorAll('.thumb a[data-type=\"video\"]');\n        for (var i = 0, len = $videoImg.length; i < len; i++) {\n          addMask($videoImg[i]);\n        }\n      };\n      var render = function render(res) {\n        var ulTmpl = \"\";\n        for (var j = 0, len2 = res.list.length; j < len2; j++) {\n          var data = res.list[j].arr;\n          var liTmpl = \"\";\n          for (var i = 0, len = data.link.length; i < len; i++) {\n            var minSrc = 'https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/min_photos/' + data.link[i];\n            var src = 'https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/photos/' + data.link[i];\n            var type = data.type[i];\n            var target = src + (type === 'video' ? '.mp4' : '.jpg');\n            src += '';\n  \n            liTmpl += '<figure class=\"thumb\" itemprop=\"associatedMedia\" itemscope=\"\" itemtype=\"http://schema.org/ImageObject\">\\\n                  <a href=\"' + src + '\" itemprop=\"contentUrl\" data-size=\"1080x1080\" data-type=\"' + type + '\" data-target=\"' + src + '\">\\\n                    <img class=\"reward-img\" data-type=\"' + type + '\" data-src=\"' + src + '\" src=\"./assets/empty.png\" itemprop=\"thumbnail\" onload=\"lzld(this)\">\\\n                  </a>\\\n                  <figcaption style=\"display:none\" itemprop=\"caption description\">' + data.text[i] + '</figcaption>\\\n              </figure>';\n          }\n          ulTmpl = ulTmpl + '<section class=\"archives album post-header\"><h1 class=\"year\">' + data.year + '年<em>' + data.month + '月</em></h1>\\\n          <ul class=\"img-box-ul\">' + liTmpl + '</ul>\\\n          </section>';\n        }\n        document.querySelector('.instagram').innerHTML = '<div class=\"photos posts-collapse\" itemscope=\"\" itemtype=\"http://schema.org/ImageGallery\">' + ulTmpl + '</div>';\n        createVideoIncon();\n        _view2.default.init();\n      };\n  \n      var replacer = function replacer(str) {\n        var arr = str.split(\"/\");\n        return \"/assets/ins/\" + arr[arr.length - 1];\n      };\n  \n      var ctrler = function ctrler(data) {\n        var imgObj = {};\n        for (var i = 0, len = data.length; i < len; i++) {\n          var y = data[i].y;\n          var m = data[i].m;\n          var src = replacer(data[i].src);\n          var text = data[i].text;\n          var key = y + \"\" + ((m + \"\").length == 1 ? \"0\" + m : m);\n          if (imgObj[key]) {\n            imgObj[key].srclist.push(src);\n            imgObj[key].text.push(text);\n          } else {\n            imgObj[key] = {\n              year: y,\n              month: m,\n              srclist: [src],\n              text: [text]\n            };\n          }\n        }\n        render(imgObj);\n      };\n  \n      function loadData(success) {\n        if (!searchData) {\n          var xhr = new XMLHttpRequest();\n          xhr.open('GET', './data.json?t=' + +new Date(), true);\n  \n          xhr.onload = function() {\n            if (this.status >= 200 && this.status < 300) {\n              var res = JSON.parse(this.response);\n              searchData = res;\n              success(searchData);\n            } else {\n              console.error(this.statusText);\n            }\n          };\n  \n          xhr.onerror = function() {\n            console.error(this.statusText);\n          };\n  \n          xhr.send();\n        } else {\n          success(searchData);\n        }\n      }\n  \n      var Ins = {\n        init: function init() {\n          loadData(function(data) {\n            render(data);\n          });\n        }\n      };\n  \n      Ins.init();\n  \n      // export default impush;\n  \n      /***/\n    },\n    /* 1 */\n    /***/\n    function(module, exports, __webpack_require__) {\n  \n      /* WEBPACK VAR INJECTION */\n      (function(global) {\n        'use strict';\n  \n        var inViewport = __webpack_require__(3);\n        var lazyAttrs = ['data-src'];\n  \n        global.lzld = lazyload();\n  \n        // Provide libs using getAttribute early to get the good src\n        // and not the fake data-src\n        replaceGetAttribute('Image');\n        replaceGetAttribute('IFrame');\n  \n        function registerLazyAttr(attr) {\n          if (indexOf.call(lazyAttrs, attr) === -1) {\n            lazyAttrs.push(attr);\n          }\n        }\n  \n        function lazyload(opts) {\n            console.log(\"lazyload\")\n          opts = merge({\n            'offset': 333,\n            'src': 'data-src',\n            'container': false\n          }, opts || {});\n  \n          if (typeof opts.src === 'string') {\n            registerLazyAttr(opts.src);\n          }\n  \n          var elts = [];\n  \n          function show(elt) {\n            var src = findRealSrc(elt);\n  \n            if (src) {\n              elt.src = src;\n            }\n  \n            elt.setAttribute('data-lzled', true);\n            elts[indexOf.call(elts, elt)] = null;\n          }\n  \n          function findRealSrc(elt) {\n            if (typeof opts.src === 'function') {\n              return opts.src(elt);\n            }\n  \n            return elt.getAttribute(opts.src);\n          }\n  \n          function register(elt) {\n            elt.onload = null;\n            elt.removeAttribute('onload');\n            elt.onerror = null;\n            elt.removeAttribute('onerror');\n  \n            if (indexOf.call(elts, elt) === -1) {\n              inViewport(elt, opts, show);\n            }\n          }\n  \n          return register;\n        }\n  \n        function replaceGetAttribute(elementName) {\n          var fullname = 'HTML' + elementName + 'Element';\n          if (fullname in global === false) {\n            return;\n          }\n  \n          var original = global[fullname].prototype.getAttribute;\n          global[fullname].prototype.getAttribute = function(name) {\n            if (name === 'src') {\n              var realSrc;\n              for (var i = 0, max = lazyAttrs.length; i < max; i++) {\n                realSrc = original.call(this, lazyAttrs[i]);\n                if (realSrc) {\n                  break;\n                }\n              }\n  \n              return realSrc || original.call(this, name);\n            }\n  \n            // our own lazyloader will go through theses lines\n            // because we use getAttribute(opts.src)\n            return original.call(this, name);\n          };\n        }\n  \n        function merge(defaults, opts) {\n          for (var name in defaults) {\n            if (opts[name] === undefined) {\n              opts[name] = defaults[name];\n            }\n          }\n  \n          return opts;\n        }\n  \n        // http://webreflection.blogspot.fr/2011/06/partial-polyfills.html\n        function indexOf(value) {\n          for (var i = this.length; i-- && this[i] !== value;) {}\n          return i;\n        }\n  \n        module.exports = lazyload;\n  \n        // export default impush;\n        /* WEBPACK VAR INJECTION */\n      }.call(exports, (function() {\n        return this;\n      }())))\n  \n      /***/\n    },\n    /* 2 */\n    /***/\n    function(module, exports) {\n  \n      'use strict';\n  \n      var initPhotoSwipeFromDOM = function initPhotoSwipeFromDOM(gallerySelector) {\n  \n        // parse slide data (url, title, size ...) from DOM elements \n        // (children of gallerySelector)\n        var parseThumbnailElements = function parseThumbnailElements(el) {\n          el = el.parentNode.parentNode;\n          var thumbElements = el.getElementsByClassName('thumb'),\n            numNodes = thumbElements.length,\n            items = [],\n            figureEl,\n            linkEl,\n            size,\n            type,\n            // video or not\n            target,\n            item;\n  \n          for (var i = 0; i < numNodes; i++) {\n  \n            figureEl = thumbElements[i]; // \n  \n            // include only element nodes \n            if (figureEl.nodeType !== 1) {\n              continue;\n            }\n  \n            linkEl = figureEl.children[0]; // \n  \n            size = linkEl.getAttribute('data-size').split('x');\n            type = linkEl.getAttribute('data-type');\n            target = linkEl.getAttribute('data-target');\n            // create slide object\n            item = {\n              src: linkEl.getAttribute('href'),\n              w: parseInt(size[0], 10),\n              h: parseInt(size[1], 10)\n            };\n  \n            if (figureEl.children.length > 1) {\n              item.title = figureEl.children[1].innerHTML;\n            }\n  \n            if (linkEl.children.length > 0) {\n              item.msrc = linkEl.children[0].getAttribute('src');\n              item.type = type;\n              item.target = target;\n              item.html = '<video src=\"' + target + '\" controls=\"controls\" autoplay=\"autoplay\"></video>';\n              if (type === 'video') {\n                //item.src = null;\n              }\n            }\n  \n            item.el = figureEl; // save link to element for getThumbBoundsFn\n            items.push(item);\n          }\n  \n          return items;\n        };\n  \n        // find nearest parent element\n        var closest = function closest(el, fn) {\n          return el && (fn(el) ? el : closest(el.parentNode, fn));\n        };\n  \n        // triggers when user clicks on thumbnail\n        var onThumbnailsClick = function onThumbnailsClick(e) {\n          e = e || window.event;\n          e.preventDefault ? e.preventDefault() : e.returnValue = false;\n  \n          var eTarget = e.target || e.srcElement;\n  \n          // find root element of slide\n          var clickedListItem = closest(eTarget, function(el) {\n            return el.tagName && el.tagName.toUpperCase() === 'FIGURE';\n          });\n  \n          if (!clickedListItem) {\n            return;\n          }\n  \n          // find index of clicked item by looping through all child nodes\n          // alternatively, you may define index via data- attribute\n          var clickedGallery = clickedListItem.parentNode,\n  \n            // childNodes = clickedListItem.parentNode.childNodes,\n            // numChildNodes = childNodes.length,\n            childNodes = document.getElementsByClassName('thumb'),\n            numChildNodes = childNodes.length,\n            nodeIndex = 0,\n            index;\n  \n          for (var i = 0; i < numChildNodes; i++) {\n            if (childNodes[i].nodeType !== 1) {\n              continue;\n            }\n  \n            if (childNodes[i] === clickedListItem) {\n              index = nodeIndex;\n              break;\n            }\n            nodeIndex++;\n          }\n  \n          if (index >= 0) {\n            // open PhotoSwipe if valid index found\n            openPhotoSwipe(index, clickedGallery);\n          }\n          return false;\n        };\n  \n        // parse picture index and gallery index from URL (#&pid=1&gid=2)\n        var photoswipeParseHash = function photoswipeParseHash() {\n          var hash = window.location.hash.substring(1),\n            params = {};\n  \n          if (hash.length < 5) {\n            return params;\n          }\n  \n          var vars = hash.split('&');\n          for (var i = 0; i < vars.length; i++) {\n            if (!vars[i]) {\n              continue;\n            }\n            var pair = vars[i].split('=');\n            if (pair.length < 2) {\n              continue;\n            }\n            params[pair[0]] = pair[1];\n          }\n  \n          if (params.gid) {\n            params.gid = parseInt(params.gid, 10);\n          }\n  \n          return params;\n        };\n  \n        var openPhotoSwipe = function openPhotoSwipe(index, galleryElement, disableAnimation, fromURL) {\n          var pswpElement = document.querySelectorAll('.pswp')[0],\n            gallery,\n            options,\n            items;\n  \n          items = parseThumbnailElements(galleryElement);\n          // define options (if needed)\n          options = {\n  \n            // define gallery index (for URL)\n            galleryUID: galleryElement.getAttribute('data-pswp-uid'),\n  \n            getThumbBoundsFn: function getThumbBoundsFn(index) {\n              // See Options -> getThumbBoundsFn section of documentation for more info\n              var thumbnail = items[index].el.getElementsByTagName('img')[0],\n                // find thumbnail\n                pageYScroll = window.pageYOffset || document.documentElement.scrollTop,\n                rect = thumbnail.getBoundingClientRect();\n  \n              return {\n                x: rect.left,\n                y: rect.top + pageYScroll,\n                w: rect.width\n              };\n            }\n  \n          };\n  \n          // PhotoSwipe opened from URL\n          if (fromURL) {\n            if (options.galleryPIDs) {\n              // parse real index when custom PIDs are used \n              // http://photoswipe.com/documentation/faq.html#custom-pid-in-url\n              for (var j = 0; j < items.length; j++) {\n                if (items[j].pid == index) {\n                  options.index = j;\n                  break;\n                }\n              }\n            } else {\n              // in URL indexes start from 1\n              options.index = parseInt(index, 10) - 1;\n            }\n          } else {\n            options.index = parseInt(index, 10);\n          }\n  \n          // exit if index not found\n          if (isNaN(options.index)) {\n            return;\n          }\n  \n          if (disableAnimation) {\n            options.showAnimationDuration = 0;\n          }\n  \n          // Pass data to PhotoSwipe and initialize it\n          gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);\n          gallery.init();\n  \n          var $tempVideo;\n          var stopVideoHandle = function stopVideoHandle() {\n            if ($tempVideo) {\n              $tempVideo.remove();\n              $tempVideo = null;\n            }\n          };\n          var changeHandle = function changeHandle() {\n            var item = gallery.currItem;\n            stopVideoHandle();\n            if (item.type === 'video') {\n              var $ctn = item.container;\n              var style = $ctn.getElementsByClassName('pswp__img')[0].style;\n              var $video = document.createElement('video');\n              $video.setAttribute('autoplay', 'autoplay');\n              $video.setAttribute('controls', 'controls');\n              $video.setAttribute('src', item.target);\n              $video.style.width = style.width;\n              $video.style.height = style.height;\n              $video.style.position = 'absolute';\n              $video.style.zIndex = 2;\n              $tempVideo = $video;\n              $ctn.appendChild($video);\n            }\n          };\n          gallery.listen('initialZoomIn', changeHandle);\n          gallery.listen('afterChange', changeHandle);\n          gallery.listen('initialZoomOut', stopVideoHandle);\n        };\n  \n        // loop through all gallery elements and bind events\n        var galleryElements = document.querySelectorAll(gallerySelector);\n        for (var i = 0, l = galleryElements.length; i < l; i++) {\n          galleryElements[i].setAttribute('data-pswp-uid', i + 1);\n          galleryElements[i].onclick = onThumbnailsClick;\n        }\n  \n        // Parse URL and open gallery if it contains #&pid=3&gid=1\n        var hashData = photoswipeParseHash();\n        if (hashData.pid && hashData.gid) {\n          openPhotoSwipe(hashData.pid, galleryElements[hashData.gid - 1], true, true);\n        }\n      };\n  \n      var Viewer = function() {\n        function init() {\n          initPhotoSwipeFromDOM('.photos');\n        }\n        return {\n          init: init\n        };\n      }();\n  \n      module.exports = Viewer;\n  \n      /***/\n    },\n    /* 3 */\n    /***/\n    function(module, exports) {\n  \n      /* WEBPACK VAR INJECTION */\n      (function(global) {\n        module.exports = inViewport;\n  \n        var instances = [];\n        var supportsMutationObserver = typeof global.MutationObserver === 'function';\n  \n        function inViewport(elt, params, cb) {\n          var opts = {\n            container: global.document.body,\n            offset: 0\n          };\n  \n          if (params === undefined || typeof params === 'function') {\n            cb = params;\n            params = {};\n          }\n  \n          var container = opts.container = params.container || opts.container;\n          var offset = opts.offset = params.offset || opts.offset;\n  \n          for (var i = 0; i < instances.length; i++) {\n            if (instances[i].container === container) {\n              return instances[i].isInViewport(elt, offset, cb);\n            }\n          }\n  \n          return instances[\n            instances.push(createInViewport(container)) - 1\n          ].isInViewport(elt, offset, cb);\n        }\n  \n        function addEvent(el, type, fn) {\n          if (el.attachEvent) {\n            el.attachEvent('on' + type, fn);\n          } else {\n            el.addEventListener(type, fn, false);\n          }\n        }\n  \n        function debounce(func, wait, immediate) {\n          var timeout;\n          return function() {\n            var context = this,\n              args = arguments;\n            var callNow = immediate && !timeout;\n            clearTimeout(timeout);\n            timeout = setTimeout(later, wait);\n            if (callNow) func.apply(context, args);\n  \n            function later() {\n              timeout = null;\n              if (!immediate) func.apply(context, args);\n            }\n          };\n        }\n  \n        // https://github.com/jquery/sizzle/blob/3136f48b90e3edc84cbaaa6f6f7734ef03775a07/sizzle.js#L708\n        var contains = function() {\n          if (!global.document) {\n            return true;\n          }\n          return global.document.documentElement.compareDocumentPosition ?\n            function(a, b) {\n              return !!(a.compareDocumentPosition(b) & 16);\n            } :\n            global.document.documentElement.contains ?\n            function(a, b) {\n              return a !== b && (a.contains ? a.contains(b) : false);\n            } :\n            function(a, b) {\n              while (b = b.parentNode) {\n                if (b === a) {\n                  return true;\n                }\n              }\n              return false;\n            };\n        }\n  \n        function createInViewport(container) {\n          var watches = createWatches();\n  \n          var scrollContainer = container === global.document.body ? global : container;\n          var debouncedCheck = debounce(watches.checkAll(watchInViewport), 15);\n  \n          addEvent(scrollContainer, 'scroll', debouncedCheck);\n  \n          if (scrollContainer === global) {\n            addEvent(global, 'resize', debouncedCheck);\n          }\n  \n          if (supportsMutationObserver) {\n            observeDOM(watches, container, debouncedCheck);\n          }\n  \n          // failsafe check, every 200ms we check for visible images\n          // usecase: a hidden parent containing eleements\n          // when the parent becomes visible, we have no event that the children\n          // became visible\n          setInterval(debouncedCheck, 150);\n  \n          function isInViewport(elt, offset, cb) {\n            if (!cb) {\n              return isVisible(elt, offset);\n            }\n  \n            var remote = createRemote(elt, offset, cb);\n            remote.watch();\n            return remote;\n          }\n  \n          function createRemote(elt, offset, cb) {\n            function watch() {\n              watches.add(elt, offset, cb);\n            }\n  \n            function dispose() {\n              watches.remove(elt);\n            }\n  \n            return {\n              watch: watch,\n              dispose: dispose\n            };\n          }\n  \n          function watchInViewport(elt, offset, cb) {\n            if (isVisible(elt, offset)) {\n              watches.remove(elt);\n              cb(elt);\n            }\n          }\n  \n          function isVisible(elt, offset) {\n            if (!contains(global.document.documentElement, elt) || !contains(global.document.documentElement, container)) {\n              return false;\n            }\n  \n            // Check if the element is visible\n            // https://github.com/jquery/jquery/blob/740e190223d19a114d5373758127285d14d6b71e/src/css/hiddenVisibleSelectors.js\n            if (!elt.offsetWidth || !elt.offsetHeight) {\n              return false;\n            }\n  \n            var eltRect = elt.getBoundingClientRect();\n            var viewport = {};\n  \n            if (container === global.document.body) {\n              viewport = {\n                top: -offset,\n                left: -offset,\n                right: global.document.documentElement.clientWidth + offset,\n                bottom: global.document.documentElement.clientHeight + offset\n              };\n            } else {\n              var containerRect = container.getBoundingClientRect();\n              viewport = {\n                top: containerRect.top - offset,\n                left: containerRect.left - offset,\n                right: containerRect.right + offset,\n                bottom: containerRect.bottom + offset\n              };\n            }\n  \n            // The element must overlap with the visible part of the viewport\n            var visible =\n              (\n                (eltRect.right > viewport.left) &&\n                (eltRect.left < viewport.right) &&\n                (eltRect.bottom > viewport.top) &&\n                (eltRect.top < viewport.bottom)\n              );\n  \n            return visible;\n          }\n  \n          return {\n            container: container,\n            isInViewport: isInViewport\n          };\n        }\n  \n        function createWatches() {\n          var watches = [];\n  \n          function add(elt, offset, cb) {\n            if (!isWatched(elt)) {\n              watches.push([elt, offset, cb]);\n            }\n          }\n  \n          function remove(elt) {\n            var pos = indexOf(elt);\n            if (pos !== -1) {\n              watches.splice(pos, 1);\n            }\n          }\n  \n          function indexOf(elt) {\n            for (var i = watches.length - 1; i >= 0; i--) {\n              if (watches[i][0] === elt) {\n                return i;\n              }\n            }\n            return -1;\n          }\n  \n          function isWatched(elt) {\n            return indexOf(elt) !== -1;\n          }\n  \n          function checkAll(cb) {\n            return function() {\n              for (var i = watches.length - 1; i >= 0; i--) {\n                cb.apply(this, watches[i]);\n              }\n            };\n          }\n  \n          return {\n            add: add,\n            remove: remove,\n            isWatched: isWatched,\n            checkAll: checkAll\n          };\n        }\n  \n        function observeDOM(watches, container, cb) {\n          var observer = new MutationObserver(watch);\n          var filter = Array.prototype.filter;\n          var concat = Array.prototype.concat;\n  \n          observer.observe(container, {\n            childList: true,\n            subtree: true,\n            // changes like style/width/height/display will be catched\n            attributes: true\n          });\n  \n          function watch(mutations) {\n            // some new DOM nodes where previously watched\n            // we should check their positions\n            if (mutations.some(knownNodes) === true) {\n              setTimeout(cb, 0);\n            }\n          }\n  \n          function knownNodes(mutation) {\n            var nodes = concat.call([],\n              Array.prototype.slice.call(mutation.addedNodes),\n              mutation.target\n            );\n            return filter.call(nodes, watches.isWatched).length > 0;\n          }\n        }\n  \n        /* WEBPACK VAR INJECTION */\n      }.call(exports, (function() {\n        return this;\n      }())))\n  \n      /***/\n    }\n    /******/\n  ]);"},{"_content":"/*! PhotoSwipe Default UI CSS by Dmitry Semenov | photoswipe.com | MIT license */\n/*\n\n\tContents:\n\n\t1. Buttons\n\t2. Share modal and links\n\t3. Index indicator (\"1 of X\" counter)\n\t4. Caption\n\t5. Loading indicator\n\t6. Additional styles (root element, top bar, idle state, hidden state, etc.)\n\n*/\n/*\n\t\n\t1. Buttons\n\n */\n/* <button> css reset */\n.pswp__button {\n  width: 44px;\n  height: 44px;\n  position: relative;\n  background: none;\n  cursor: pointer;\n  overflow: visible;\n  -webkit-appearance: none;\n  display: block;\n  border: 0;\n  padding: 0;\n  margin: 0;\n  float: right;\n  opacity: 0.75;\n  -webkit-transition: opacity 0.2s;\n          transition: opacity 0.2s;\n  -webkit-box-shadow: none;\n          box-shadow: none; }\n  .pswp__button:focus, .pswp__button:hover {\n    opacity: 1; }\n  .pswp__button:active {\n    outline: none;\n    opacity: 0.9; }\n  .pswp__button::-moz-focus-inner {\n    padding: 0;\n    border: 0; }\n\n/* pswp__ui--over-close class it added when mouse is over element that should close gallery */\n.pswp__ui--over-close .pswp__button--close {\n  opacity: 1; }\n\n.pswp__button,\n.pswp__button--arrow--left:before,\n.pswp__button--arrow--right:before {\n  background: url(default-skin.png) 0 0 no-repeat;\n  background-size: 264px 88px;\n  width: 44px;\n  height: 44px; }\n\n@media (-webkit-min-device-pixel-ratio: 1.1), (-webkit-min-device-pixel-ratio: 1.09375), (min-resolution: 105dpi), (min-resolution: 1.1dppx) {\n  /* Serve SVG sprite if browser supports SVG and resolution is more than 105dpi */\n  .pswp--svg .pswp__button,\n  .pswp--svg .pswp__button--arrow--left:before,\n  .pswp--svg .pswp__button--arrow--right:before {\n    background-image: url(default-skin.svg); }\n  .pswp--svg .pswp__button--arrow--left,\n  .pswp--svg .pswp__button--arrow--right {\n    background: none; } }\n\n.pswp__button--close {\n  background-position: 0 -44px; }\n\n.pswp__button--share {\n  background-position: -44px -44px; }\n\n.pswp__button--fs {\n  display: none; }\n\n.pswp--supports-fs .pswp__button--fs {\n  display: block; }\n\n.pswp--fs .pswp__button--fs {\n  background-position: -44px 0; }\n\n.pswp__button--zoom {\n  display: none;\n  background-position: -88px 0; }\n\n.pswp--zoom-allowed .pswp__button--zoom {\n  display: block; }\n\n.pswp--zoomed-in .pswp__button--zoom {\n  background-position: -132px 0; }\n\n/* no arrows on touch screens */\n.pswp--touch .pswp__button--arrow--left,\n.pswp--touch .pswp__button--arrow--right {\n  visibility: hidden; }\n\n/*\n\tArrow buttons hit area\n\t(icon is added to :before pseudo-element)\n*/\n.pswp__button--arrow--left,\n.pswp__button--arrow--right {\n  background: none;\n  top: 50%;\n  margin-top: -50px;\n  width: 70px;\n  height: 100px;\n  position: absolute; }\n\n.pswp__button--arrow--left {\n  left: 0; }\n\n.pswp__button--arrow--right {\n  right: 0; }\n\n.pswp__button--arrow--left:before,\n.pswp__button--arrow--right:before {\n  content: '';\n  top: 35px;\n  background-color: rgba(0, 0, 0, 0.3);\n  height: 30px;\n  width: 32px;\n  position: absolute; }\n\n.pswp__button--arrow--left:before {\n  left: 6px;\n  background-position: -138px -44px; }\n\n.pswp__button--arrow--right:before {\n  right: 6px;\n  background-position: -94px -44px; }\n\n/*\n\n\t2. Share modal/popup and links\n\n */\n.pswp__counter,\n.pswp__share-modal {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n      user-select: none; }\n\n.pswp__share-modal {\n  display: block;\n  background: rgba(0, 0, 0, 0.5);\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  padding: 10px;\n  position: absolute;\n  z-index: 1600;\n  opacity: 0;\n  -webkit-transition: opacity 0.25s ease-out;\n          transition: opacity 0.25s ease-out;\n  -webkit-backface-visibility: hidden;\n  will-change: opacity; }\n\n.pswp__share-modal--hidden {\n  display: none; }\n\n.pswp__share-tooltip {\n  z-index: 1620;\n  position: absolute;\n  background: #FFF;\n  top: 56px;\n  border-radius: 2px;\n  display: block;\n  width: auto;\n  right: 44px;\n  -webkit-box-shadow: 0 2px 5px rgba(0, 0, 0, 0.25);\n          box-shadow: 0 2px 5px rgba(0, 0, 0, 0.25);\n  -webkit-transform: translateY(6px);\n      -ms-transform: translateY(6px);\n          transform: translateY(6px);\n  -webkit-transition: -webkit-transform 0.25s;\n          transition: transform 0.25s;\n  -webkit-backface-visibility: hidden;\n  will-change: transform; }\n  .pswp__share-tooltip a {\n    display: block;\n    padding: 8px 12px;\n    color: #000;\n    text-decoration: none;\n    font-size: 14px;\n    line-height: 18px; }\n    .pswp__share-tooltip a:hover {\n      text-decoration: none;\n      color: #000; }\n    .pswp__share-tooltip a:first-child {\n      /* round corners on the first/last list item */\n      border-radius: 2px 2px 0 0; }\n    .pswp__share-tooltip a:last-child {\n      border-radius: 0 0 2px 2px; }\n\n.pswp__share-modal--fade-in {\n  opacity: 1; }\n  .pswp__share-modal--fade-in .pswp__share-tooltip {\n    -webkit-transform: translateY(0);\n        -ms-transform: translateY(0);\n            transform: translateY(0); }\n\n/* increase size of share links on touch devices */\n.pswp--touch .pswp__share-tooltip a {\n  padding: 16px 12px; }\n\na.pswp__share--facebook:before {\n  content: '';\n  display: block;\n  width: 0;\n  height: 0;\n  position: absolute;\n  top: -12px;\n  right: 15px;\n  border: 6px solid transparent;\n  border-bottom-color: #FFF;\n  -webkit-pointer-events: none;\n  -moz-pointer-events: none;\n  pointer-events: none; }\n\na.pswp__share--facebook:hover {\n  background: #3E5C9A;\n  color: #FFF; }\n  a.pswp__share--facebook:hover:before {\n    border-bottom-color: #3E5C9A; }\n\na.pswp__share--twitter:hover {\n  background: #55ACEE;\n  color: #FFF; }\n\na.pswp__share--pinterest:hover {\n  background: #CCC;\n  color: #CE272D; }\n\na.pswp__share--download:hover {\n  background: #DDD; }\n\n/*\n\n\t3. Index indicator (\"1 of X\" counter)\n\n */\n.pswp__counter {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 44px;\n  font-size: 13px;\n  line-height: 44px;\n  color: #FFF;\n  opacity: 0.75;\n  padding: 0 10px; }\n\n/*\n\t\n\t4. Caption\n\n */\n.pswp__caption {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  min-height: 44px; }\n  .pswp__caption small {\n    font-size: 11px;\n    color: #BBB; }\n\n.pswp__caption__center {\n  text-align: left;\n  max-width: 420px;\n  margin: 0 auto;\n  font-size: 13px;\n  padding: 10px;\n  line-height: 20px;\n  color: #CCC; }\n\n.pswp__caption--empty {\n  display: none; }\n\n/* Fake caption element, used to calculate height of next/prev image */\n.pswp__caption--fake {\n  visibility: hidden; }\n\n/*\n\n\t5. Loading indicator (preloader)\n\n\tYou can play with it here - http://codepen.io/dimsemenov/pen/yyBWoR\n\n */\n.pswp__preloader {\n  width: 44px;\n  height: 44px;\n  position: absolute;\n  top: 0;\n  left: 50%;\n  margin-left: -22px;\n  opacity: 0;\n  -webkit-transition: opacity 0.25s ease-out;\n          transition: opacity 0.25s ease-out;\n  will-change: opacity;\n  direction: ltr; }\n\n.pswp__preloader__icn {\n  width: 20px;\n  height: 20px;\n  margin: 12px; }\n\n.pswp__preloader--active {\n  opacity: 1; }\n  .pswp__preloader--active .pswp__preloader__icn {\n    /* We use .gif in browsers that don't support CSS animation */\n    background: url(preloader.gif) 0 0 no-repeat; }\n\n.pswp--css_animation .pswp__preloader--active {\n  opacity: 1; }\n  .pswp--css_animation .pswp__preloader--active .pswp__preloader__icn {\n    -webkit-animation: clockwise 500ms linear infinite;\n            animation: clockwise 500ms linear infinite; }\n  .pswp--css_animation .pswp__preloader--active .pswp__preloader__donut {\n    -webkit-animation: donut-rotate 1000ms cubic-bezier(0.4, 0, 0.22, 1) infinite;\n            animation: donut-rotate 1000ms cubic-bezier(0.4, 0, 0.22, 1) infinite; }\n\n.pswp--css_animation .pswp__preloader__icn {\n  background: none;\n  opacity: 0.75;\n  width: 14px;\n  height: 14px;\n  position: absolute;\n  left: 15px;\n  top: 15px;\n  margin: 0; }\n\n.pswp--css_animation .pswp__preloader__cut {\n  /* \n\t\t\tThe idea of animating inner circle is based on Polymer (\"material\") loading indicator \n\t\t\t by Keanu Lee https://blog.keanulee.com/2014/10/20/the-tale-of-three-spinners.html\n\t\t*/\n  position: relative;\n  width: 7px;\n  height: 14px;\n  overflow: hidden; }\n\n.pswp--css_animation .pswp__preloader__donut {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  width: 14px;\n  height: 14px;\n  border: 2px solid #FFF;\n  border-radius: 50%;\n  border-left-color: transparent;\n  border-bottom-color: transparent;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: none;\n  margin: 0; }\n\n@media screen and (max-width: 1024px) {\n  .pswp__preloader {\n    position: relative;\n    left: auto;\n    top: auto;\n    margin: 0;\n    float: right; } }\n\n@-webkit-keyframes clockwise {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@keyframes clockwise {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@-webkit-keyframes donut-rotate {\n  0% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); }\n  50% {\n    -webkit-transform: rotate(-140deg);\n            transform: rotate(-140deg); }\n  100% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); } }\n\n@keyframes donut-rotate {\n  0% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); }\n  50% {\n    -webkit-transform: rotate(-140deg);\n            transform: rotate(-140deg); }\n  100% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); } }\n\n/*\n\t\n\t6. Additional styles\n\n */\n/* root element of UI */\n.pswp__ui {\n  -webkit-font-smoothing: auto;\n  visibility: visible;\n  opacity: 1;\n  z-index: 1550; }\n\n/* top black bar with buttons and \"1 of X\" indicator */\n.pswp__top-bar {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 44px;\n  width: 100%; }\n\n.pswp__caption,\n.pswp__top-bar,\n.pswp--has_mouse .pswp__button--arrow--left,\n.pswp--has_mouse .pswp__button--arrow--right {\n  -webkit-backface-visibility: hidden;\n  will-change: opacity;\n  -webkit-transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n/* pswp--has_mouse class is added only when two subsequent mousemove events occur */\n.pswp--has_mouse .pswp__button--arrow--left,\n.pswp--has_mouse .pswp__button--arrow--right {\n  visibility: visible; }\n\n.pswp__top-bar,\n.pswp__caption {\n  background-color: rgba(0, 0, 0, 0.5); }\n\n/* pswp__ui--fit class is added when main image \"fits\" between top bar and bottom bar (caption) */\n.pswp__ui--fit .pswp__top-bar,\n.pswp__ui--fit .pswp__caption {\n  background-color: rgba(0, 0, 0, 0.3); }\n\n/* pswp__ui--idle class is added when mouse isn't moving for several seconds (JS option timeToIdle) */\n.pswp__ui--idle .pswp__top-bar {\n  opacity: 0; }\n\n.pswp__ui--idle .pswp__button--arrow--left,\n.pswp__ui--idle .pswp__button--arrow--right {\n  opacity: 0; }\n\n/*\n\tpswp__ui--hidden class is added when controls are hidden\n\te.g. when user taps to toggle visibility of controls\n*/\n.pswp__ui--hidden .pswp__top-bar,\n.pswp__ui--hidden .pswp__caption,\n.pswp__ui--hidden .pswp__button--arrow--left,\n.pswp__ui--hidden .pswp__button--arrow--right {\n  /* Force paint & create composition layer for controls. */\n  opacity: 0.001; }\n\n/* pswp__ui--one-slide class is added when there is just one item in gallery */\n.pswp__ui--one-slide .pswp__button--arrow--left,\n.pswp__ui--one-slide .pswp__button--arrow--right,\n.pswp__ui--one-slide .pswp__counter {\n  display: none; }\n\n.pswp__element--disabled {\n  display: none !important; }\n\n.pswp--minimal--dark .pswp__top-bar {\n  background: none; }\n","source":"photos/default-skin/default-skin.css","raw":"/*! PhotoSwipe Default UI CSS by Dmitry Semenov | photoswipe.com | MIT license */\n/*\n\n\tContents:\n\n\t1. Buttons\n\t2. Share modal and links\n\t3. Index indicator (\"1 of X\" counter)\n\t4. Caption\n\t5. Loading indicator\n\t6. Additional styles (root element, top bar, idle state, hidden state, etc.)\n\n*/\n/*\n\t\n\t1. Buttons\n\n */\n/* <button> css reset */\n.pswp__button {\n  width: 44px;\n  height: 44px;\n  position: relative;\n  background: none;\n  cursor: pointer;\n  overflow: visible;\n  -webkit-appearance: none;\n  display: block;\n  border: 0;\n  padding: 0;\n  margin: 0;\n  float: right;\n  opacity: 0.75;\n  -webkit-transition: opacity 0.2s;\n          transition: opacity 0.2s;\n  -webkit-box-shadow: none;\n          box-shadow: none; }\n  .pswp__button:focus, .pswp__button:hover {\n    opacity: 1; }\n  .pswp__button:active {\n    outline: none;\n    opacity: 0.9; }\n  .pswp__button::-moz-focus-inner {\n    padding: 0;\n    border: 0; }\n\n/* pswp__ui--over-close class it added when mouse is over element that should close gallery */\n.pswp__ui--over-close .pswp__button--close {\n  opacity: 1; }\n\n.pswp__button,\n.pswp__button--arrow--left:before,\n.pswp__button--arrow--right:before {\n  background: url(default-skin.png) 0 0 no-repeat;\n  background-size: 264px 88px;\n  width: 44px;\n  height: 44px; }\n\n@media (-webkit-min-device-pixel-ratio: 1.1), (-webkit-min-device-pixel-ratio: 1.09375), (min-resolution: 105dpi), (min-resolution: 1.1dppx) {\n  /* Serve SVG sprite if browser supports SVG and resolution is more than 105dpi */\n  .pswp--svg .pswp__button,\n  .pswp--svg .pswp__button--arrow--left:before,\n  .pswp--svg .pswp__button--arrow--right:before {\n    background-image: url(default-skin.svg); }\n  .pswp--svg .pswp__button--arrow--left,\n  .pswp--svg .pswp__button--arrow--right {\n    background: none; } }\n\n.pswp__button--close {\n  background-position: 0 -44px; }\n\n.pswp__button--share {\n  background-position: -44px -44px; }\n\n.pswp__button--fs {\n  display: none; }\n\n.pswp--supports-fs .pswp__button--fs {\n  display: block; }\n\n.pswp--fs .pswp__button--fs {\n  background-position: -44px 0; }\n\n.pswp__button--zoom {\n  display: none;\n  background-position: -88px 0; }\n\n.pswp--zoom-allowed .pswp__button--zoom {\n  display: block; }\n\n.pswp--zoomed-in .pswp__button--zoom {\n  background-position: -132px 0; }\n\n/* no arrows on touch screens */\n.pswp--touch .pswp__button--arrow--left,\n.pswp--touch .pswp__button--arrow--right {\n  visibility: hidden; }\n\n/*\n\tArrow buttons hit area\n\t(icon is added to :before pseudo-element)\n*/\n.pswp__button--arrow--left,\n.pswp__button--arrow--right {\n  background: none;\n  top: 50%;\n  margin-top: -50px;\n  width: 70px;\n  height: 100px;\n  position: absolute; }\n\n.pswp__button--arrow--left {\n  left: 0; }\n\n.pswp__button--arrow--right {\n  right: 0; }\n\n.pswp__button--arrow--left:before,\n.pswp__button--arrow--right:before {\n  content: '';\n  top: 35px;\n  background-color: rgba(0, 0, 0, 0.3);\n  height: 30px;\n  width: 32px;\n  position: absolute; }\n\n.pswp__button--arrow--left:before {\n  left: 6px;\n  background-position: -138px -44px; }\n\n.pswp__button--arrow--right:before {\n  right: 6px;\n  background-position: -94px -44px; }\n\n/*\n\n\t2. Share modal/popup and links\n\n */\n.pswp__counter,\n.pswp__share-modal {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n      user-select: none; }\n\n.pswp__share-modal {\n  display: block;\n  background: rgba(0, 0, 0, 0.5);\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  padding: 10px;\n  position: absolute;\n  z-index: 1600;\n  opacity: 0;\n  -webkit-transition: opacity 0.25s ease-out;\n          transition: opacity 0.25s ease-out;\n  -webkit-backface-visibility: hidden;\n  will-change: opacity; }\n\n.pswp__share-modal--hidden {\n  display: none; }\n\n.pswp__share-tooltip {\n  z-index: 1620;\n  position: absolute;\n  background: #FFF;\n  top: 56px;\n  border-radius: 2px;\n  display: block;\n  width: auto;\n  right: 44px;\n  -webkit-box-shadow: 0 2px 5px rgba(0, 0, 0, 0.25);\n          box-shadow: 0 2px 5px rgba(0, 0, 0, 0.25);\n  -webkit-transform: translateY(6px);\n      -ms-transform: translateY(6px);\n          transform: translateY(6px);\n  -webkit-transition: -webkit-transform 0.25s;\n          transition: transform 0.25s;\n  -webkit-backface-visibility: hidden;\n  will-change: transform; }\n  .pswp__share-tooltip a {\n    display: block;\n    padding: 8px 12px;\n    color: #000;\n    text-decoration: none;\n    font-size: 14px;\n    line-height: 18px; }\n    .pswp__share-tooltip a:hover {\n      text-decoration: none;\n      color: #000; }\n    .pswp__share-tooltip a:first-child {\n      /* round corners on the first/last list item */\n      border-radius: 2px 2px 0 0; }\n    .pswp__share-tooltip a:last-child {\n      border-radius: 0 0 2px 2px; }\n\n.pswp__share-modal--fade-in {\n  opacity: 1; }\n  .pswp__share-modal--fade-in .pswp__share-tooltip {\n    -webkit-transform: translateY(0);\n        -ms-transform: translateY(0);\n            transform: translateY(0); }\n\n/* increase size of share links on touch devices */\n.pswp--touch .pswp__share-tooltip a {\n  padding: 16px 12px; }\n\na.pswp__share--facebook:before {\n  content: '';\n  display: block;\n  width: 0;\n  height: 0;\n  position: absolute;\n  top: -12px;\n  right: 15px;\n  border: 6px solid transparent;\n  border-bottom-color: #FFF;\n  -webkit-pointer-events: none;\n  -moz-pointer-events: none;\n  pointer-events: none; }\n\na.pswp__share--facebook:hover {\n  background: #3E5C9A;\n  color: #FFF; }\n  a.pswp__share--facebook:hover:before {\n    border-bottom-color: #3E5C9A; }\n\na.pswp__share--twitter:hover {\n  background: #55ACEE;\n  color: #FFF; }\n\na.pswp__share--pinterest:hover {\n  background: #CCC;\n  color: #CE272D; }\n\na.pswp__share--download:hover {\n  background: #DDD; }\n\n/*\n\n\t3. Index indicator (\"1 of X\" counter)\n\n */\n.pswp__counter {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 44px;\n  font-size: 13px;\n  line-height: 44px;\n  color: #FFF;\n  opacity: 0.75;\n  padding: 0 10px; }\n\n/*\n\t\n\t4. Caption\n\n */\n.pswp__caption {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  min-height: 44px; }\n  .pswp__caption small {\n    font-size: 11px;\n    color: #BBB; }\n\n.pswp__caption__center {\n  text-align: left;\n  max-width: 420px;\n  margin: 0 auto;\n  font-size: 13px;\n  padding: 10px;\n  line-height: 20px;\n  color: #CCC; }\n\n.pswp__caption--empty {\n  display: none; }\n\n/* Fake caption element, used to calculate height of next/prev image */\n.pswp__caption--fake {\n  visibility: hidden; }\n\n/*\n\n\t5. Loading indicator (preloader)\n\n\tYou can play with it here - http://codepen.io/dimsemenov/pen/yyBWoR\n\n */\n.pswp__preloader {\n  width: 44px;\n  height: 44px;\n  position: absolute;\n  top: 0;\n  left: 50%;\n  margin-left: -22px;\n  opacity: 0;\n  -webkit-transition: opacity 0.25s ease-out;\n          transition: opacity 0.25s ease-out;\n  will-change: opacity;\n  direction: ltr; }\n\n.pswp__preloader__icn {\n  width: 20px;\n  height: 20px;\n  margin: 12px; }\n\n.pswp__preloader--active {\n  opacity: 1; }\n  .pswp__preloader--active .pswp__preloader__icn {\n    /* We use .gif in browsers that don't support CSS animation */\n    background: url(preloader.gif) 0 0 no-repeat; }\n\n.pswp--css_animation .pswp__preloader--active {\n  opacity: 1; }\n  .pswp--css_animation .pswp__preloader--active .pswp__preloader__icn {\n    -webkit-animation: clockwise 500ms linear infinite;\n            animation: clockwise 500ms linear infinite; }\n  .pswp--css_animation .pswp__preloader--active .pswp__preloader__donut {\n    -webkit-animation: donut-rotate 1000ms cubic-bezier(0.4, 0, 0.22, 1) infinite;\n            animation: donut-rotate 1000ms cubic-bezier(0.4, 0, 0.22, 1) infinite; }\n\n.pswp--css_animation .pswp__preloader__icn {\n  background: none;\n  opacity: 0.75;\n  width: 14px;\n  height: 14px;\n  position: absolute;\n  left: 15px;\n  top: 15px;\n  margin: 0; }\n\n.pswp--css_animation .pswp__preloader__cut {\n  /* \n\t\t\tThe idea of animating inner circle is based on Polymer (\"material\") loading indicator \n\t\t\t by Keanu Lee https://blog.keanulee.com/2014/10/20/the-tale-of-three-spinners.html\n\t\t*/\n  position: relative;\n  width: 7px;\n  height: 14px;\n  overflow: hidden; }\n\n.pswp--css_animation .pswp__preloader__donut {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  width: 14px;\n  height: 14px;\n  border: 2px solid #FFF;\n  border-radius: 50%;\n  border-left-color: transparent;\n  border-bottom-color: transparent;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: none;\n  margin: 0; }\n\n@media screen and (max-width: 1024px) {\n  .pswp__preloader {\n    position: relative;\n    left: auto;\n    top: auto;\n    margin: 0;\n    float: right; } }\n\n@-webkit-keyframes clockwise {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@keyframes clockwise {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@-webkit-keyframes donut-rotate {\n  0% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); }\n  50% {\n    -webkit-transform: rotate(-140deg);\n            transform: rotate(-140deg); }\n  100% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); } }\n\n@keyframes donut-rotate {\n  0% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); }\n  50% {\n    -webkit-transform: rotate(-140deg);\n            transform: rotate(-140deg); }\n  100% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); } }\n\n/*\n\t\n\t6. Additional styles\n\n */\n/* root element of UI */\n.pswp__ui {\n  -webkit-font-smoothing: auto;\n  visibility: visible;\n  opacity: 1;\n  z-index: 1550; }\n\n/* top black bar with buttons and \"1 of X\" indicator */\n.pswp__top-bar {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 44px;\n  width: 100%; }\n\n.pswp__caption,\n.pswp__top-bar,\n.pswp--has_mouse .pswp__button--arrow--left,\n.pswp--has_mouse .pswp__button--arrow--right {\n  -webkit-backface-visibility: hidden;\n  will-change: opacity;\n  -webkit-transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n/* pswp--has_mouse class is added only when two subsequent mousemove events occur */\n.pswp--has_mouse .pswp__button--arrow--left,\n.pswp--has_mouse .pswp__button--arrow--right {\n  visibility: visible; }\n\n.pswp__top-bar,\n.pswp__caption {\n  background-color: rgba(0, 0, 0, 0.5); }\n\n/* pswp__ui--fit class is added when main image \"fits\" between top bar and bottom bar (caption) */\n.pswp__ui--fit .pswp__top-bar,\n.pswp__ui--fit .pswp__caption {\n  background-color: rgba(0, 0, 0, 0.3); }\n\n/* pswp__ui--idle class is added when mouse isn't moving for several seconds (JS option timeToIdle) */\n.pswp__ui--idle .pswp__top-bar {\n  opacity: 0; }\n\n.pswp__ui--idle .pswp__button--arrow--left,\n.pswp__ui--idle .pswp__button--arrow--right {\n  opacity: 0; }\n\n/*\n\tpswp__ui--hidden class is added when controls are hidden\n\te.g. when user taps to toggle visibility of controls\n*/\n.pswp__ui--hidden .pswp__top-bar,\n.pswp__ui--hidden .pswp__caption,\n.pswp__ui--hidden .pswp__button--arrow--left,\n.pswp__ui--hidden .pswp__button--arrow--right {\n  /* Force paint & create composition layer for controls. */\n  opacity: 0.001; }\n\n/* pswp__ui--one-slide class is added when there is just one item in gallery */\n.pswp__ui--one-slide .pswp__button--arrow--left,\n.pswp__ui--one-slide .pswp__button--arrow--right,\n.pswp__ui--one-slide .pswp__counter {\n  display: none; }\n\n.pswp__element--disabled {\n  display: none !important; }\n\n.pswp--minimal--dark .pswp__top-bar {\n  background: none; }\n","date":"2018-05-02T05:55:01.752Z","updated":"2018-05-02T05:55:01.752Z","path":"photos/default-skin/default-skin.css","layout":"false","title":"","comments":1,"_id":"cjhio9nws007m6bfybdc35bfh","content":"/*! PhotoSwipe Default UI CSS by Dmitry Semenov | photoswipe.com | MIT license */\n/*\n\n\tContents:\n\n\t1. Buttons\n\t2. Share modal and links\n\t3. Index indicator (\"1 of X\" counter)\n\t4. Caption\n\t5. Loading indicator\n\t6. Additional styles (root element, top bar, idle state, hidden state, etc.)\n\n*/\n/*\n\t\n\t1. Buttons\n\n */\n/* <button> css reset */\n.pswp__button {\n  width: 44px;\n  height: 44px;\n  position: relative;\n  background: none;\n  cursor: pointer;\n  overflow: visible;\n  -webkit-appearance: none;\n  display: block;\n  border: 0;\n  padding: 0;\n  margin: 0;\n  float: right;\n  opacity: 0.75;\n  -webkit-transition: opacity 0.2s;\n          transition: opacity 0.2s;\n  -webkit-box-shadow: none;\n          box-shadow: none; }\n  .pswp__button:focus, .pswp__button:hover {\n    opacity: 1; }\n  .pswp__button:active {\n    outline: none;\n    opacity: 0.9; }\n  .pswp__button::-moz-focus-inner {\n    padding: 0;\n    border: 0; }\n\n/* pswp__ui--over-close class it added when mouse is over element that should close gallery */\n.pswp__ui--over-close .pswp__button--close {\n  opacity: 1; }\n\n.pswp__button,\n.pswp__button--arrow--left:before,\n.pswp__button--arrow--right:before {\n  background: url(default-skin.png) 0 0 no-repeat;\n  background-size: 264px 88px;\n  width: 44px;\n  height: 44px; }\n\n@media (-webkit-min-device-pixel-ratio: 1.1), (-webkit-min-device-pixel-ratio: 1.09375), (min-resolution: 105dpi), (min-resolution: 1.1dppx) {\n  /* Serve SVG sprite if browser supports SVG and resolution is more than 105dpi */\n  .pswp--svg .pswp__button,\n  .pswp--svg .pswp__button--arrow--left:before,\n  .pswp--svg .pswp__button--arrow--right:before {\n    background-image: url(default-skin.svg); }\n  .pswp--svg .pswp__button--arrow--left,\n  .pswp--svg .pswp__button--arrow--right {\n    background: none; } }\n\n.pswp__button--close {\n  background-position: 0 -44px; }\n\n.pswp__button--share {\n  background-position: -44px -44px; }\n\n.pswp__button--fs {\n  display: none; }\n\n.pswp--supports-fs .pswp__button--fs {\n  display: block; }\n\n.pswp--fs .pswp__button--fs {\n  background-position: -44px 0; }\n\n.pswp__button--zoom {\n  display: none;\n  background-position: -88px 0; }\n\n.pswp--zoom-allowed .pswp__button--zoom {\n  display: block; }\n\n.pswp--zoomed-in .pswp__button--zoom {\n  background-position: -132px 0; }\n\n/* no arrows on touch screens */\n.pswp--touch .pswp__button--arrow--left,\n.pswp--touch .pswp__button--arrow--right {\n  visibility: hidden; }\n\n/*\n\tArrow buttons hit area\n\t(icon is added to :before pseudo-element)\n*/\n.pswp__button--arrow--left,\n.pswp__button--arrow--right {\n  background: none;\n  top: 50%;\n  margin-top: -50px;\n  width: 70px;\n  height: 100px;\n  position: absolute; }\n\n.pswp__button--arrow--left {\n  left: 0; }\n\n.pswp__button--arrow--right {\n  right: 0; }\n\n.pswp__button--arrow--left:before,\n.pswp__button--arrow--right:before {\n  content: '';\n  top: 35px;\n  background-color: rgba(0, 0, 0, 0.3);\n  height: 30px;\n  width: 32px;\n  position: absolute; }\n\n.pswp__button--arrow--left:before {\n  left: 6px;\n  background-position: -138px -44px; }\n\n.pswp__button--arrow--right:before {\n  right: 6px;\n  background-position: -94px -44px; }\n\n/*\n\n\t2. Share modal/popup and links\n\n */\n.pswp__counter,\n.pswp__share-modal {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n      user-select: none; }\n\n.pswp__share-modal {\n  display: block;\n  background: rgba(0, 0, 0, 0.5);\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  padding: 10px;\n  position: absolute;\n  z-index: 1600;\n  opacity: 0;\n  -webkit-transition: opacity 0.25s ease-out;\n          transition: opacity 0.25s ease-out;\n  -webkit-backface-visibility: hidden;\n  will-change: opacity; }\n\n.pswp__share-modal--hidden {\n  display: none; }\n\n.pswp__share-tooltip {\n  z-index: 1620;\n  position: absolute;\n  background: #FFF;\n  top: 56px;\n  border-radius: 2px;\n  display: block;\n  width: auto;\n  right: 44px;\n  -webkit-box-shadow: 0 2px 5px rgba(0, 0, 0, 0.25);\n          box-shadow: 0 2px 5px rgba(0, 0, 0, 0.25);\n  -webkit-transform: translateY(6px);\n      -ms-transform: translateY(6px);\n          transform: translateY(6px);\n  -webkit-transition: -webkit-transform 0.25s;\n          transition: transform 0.25s;\n  -webkit-backface-visibility: hidden;\n  will-change: transform; }\n  .pswp__share-tooltip a {\n    display: block;\n    padding: 8px 12px;\n    color: #000;\n    text-decoration: none;\n    font-size: 14px;\n    line-height: 18px; }\n    .pswp__share-tooltip a:hover {\n      text-decoration: none;\n      color: #000; }\n    .pswp__share-tooltip a:first-child {\n      /* round corners on the first/last list item */\n      border-radius: 2px 2px 0 0; }\n    .pswp__share-tooltip a:last-child {\n      border-radius: 0 0 2px 2px; }\n\n.pswp__share-modal--fade-in {\n  opacity: 1; }\n  .pswp__share-modal--fade-in .pswp__share-tooltip {\n    -webkit-transform: translateY(0);\n        -ms-transform: translateY(0);\n            transform: translateY(0); }\n\n/* increase size of share links on touch devices */\n.pswp--touch .pswp__share-tooltip a {\n  padding: 16px 12px; }\n\na.pswp__share--facebook:before {\n  content: '';\n  display: block;\n  width: 0;\n  height: 0;\n  position: absolute;\n  top: -12px;\n  right: 15px;\n  border: 6px solid transparent;\n  border-bottom-color: #FFF;\n  -webkit-pointer-events: none;\n  -moz-pointer-events: none;\n  pointer-events: none; }\n\na.pswp__share--facebook:hover {\n  background: #3E5C9A;\n  color: #FFF; }\n  a.pswp__share--facebook:hover:before {\n    border-bottom-color: #3E5C9A; }\n\na.pswp__share--twitter:hover {\n  background: #55ACEE;\n  color: #FFF; }\n\na.pswp__share--pinterest:hover {\n  background: #CCC;\n  color: #CE272D; }\n\na.pswp__share--download:hover {\n  background: #DDD; }\n\n/*\n\n\t3. Index indicator (\"1 of X\" counter)\n\n */\n.pswp__counter {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 44px;\n  font-size: 13px;\n  line-height: 44px;\n  color: #FFF;\n  opacity: 0.75;\n  padding: 0 10px; }\n\n/*\n\t\n\t4. Caption\n\n */\n.pswp__caption {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  min-height: 44px; }\n  .pswp__caption small {\n    font-size: 11px;\n    color: #BBB; }\n\n.pswp__caption__center {\n  text-align: left;\n  max-width: 420px;\n  margin: 0 auto;\n  font-size: 13px;\n  padding: 10px;\n  line-height: 20px;\n  color: #CCC; }\n\n.pswp__caption--empty {\n  display: none; }\n\n/* Fake caption element, used to calculate height of next/prev image */\n.pswp__caption--fake {\n  visibility: hidden; }\n\n/*\n\n\t5. Loading indicator (preloader)\n\n\tYou can play with it here - http://codepen.io/dimsemenov/pen/yyBWoR\n\n */\n.pswp__preloader {\n  width: 44px;\n  height: 44px;\n  position: absolute;\n  top: 0;\n  left: 50%;\n  margin-left: -22px;\n  opacity: 0;\n  -webkit-transition: opacity 0.25s ease-out;\n          transition: opacity 0.25s ease-out;\n  will-change: opacity;\n  direction: ltr; }\n\n.pswp__preloader__icn {\n  width: 20px;\n  height: 20px;\n  margin: 12px; }\n\n.pswp__preloader--active {\n  opacity: 1; }\n  .pswp__preloader--active .pswp__preloader__icn {\n    /* We use .gif in browsers that don't support CSS animation */\n    background: url(preloader.gif) 0 0 no-repeat; }\n\n.pswp--css_animation .pswp__preloader--active {\n  opacity: 1; }\n  .pswp--css_animation .pswp__preloader--active .pswp__preloader__icn {\n    -webkit-animation: clockwise 500ms linear infinite;\n            animation: clockwise 500ms linear infinite; }\n  .pswp--css_animation .pswp__preloader--active .pswp__preloader__donut {\n    -webkit-animation: donut-rotate 1000ms cubic-bezier(0.4, 0, 0.22, 1) infinite;\n            animation: donut-rotate 1000ms cubic-bezier(0.4, 0, 0.22, 1) infinite; }\n\n.pswp--css_animation .pswp__preloader__icn {\n  background: none;\n  opacity: 0.75;\n  width: 14px;\n  height: 14px;\n  position: absolute;\n  left: 15px;\n  top: 15px;\n  margin: 0; }\n\n.pswp--css_animation .pswp__preloader__cut {\n  /* \n\t\t\tThe idea of animating inner circle is based on Polymer (\"material\") loading indicator \n\t\t\t by Keanu Lee https://blog.keanulee.com/2014/10/20/the-tale-of-three-spinners.html\n\t\t*/\n  position: relative;\n  width: 7px;\n  height: 14px;\n  overflow: hidden; }\n\n.pswp--css_animation .pswp__preloader__donut {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  width: 14px;\n  height: 14px;\n  border: 2px solid #FFF;\n  border-radius: 50%;\n  border-left-color: transparent;\n  border-bottom-color: transparent;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: none;\n  margin: 0; }\n\n@media screen and (max-width: 1024px) {\n  .pswp__preloader {\n    position: relative;\n    left: auto;\n    top: auto;\n    margin: 0;\n    float: right; } }\n\n@-webkit-keyframes clockwise {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@keyframes clockwise {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@-webkit-keyframes donut-rotate {\n  0% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); }\n  50% {\n    -webkit-transform: rotate(-140deg);\n            transform: rotate(-140deg); }\n  100% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); } }\n\n@keyframes donut-rotate {\n  0% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); }\n  50% {\n    -webkit-transform: rotate(-140deg);\n            transform: rotate(-140deg); }\n  100% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); } }\n\n/*\n\t\n\t6. Additional styles\n\n */\n/* root element of UI */\n.pswp__ui {\n  -webkit-font-smoothing: auto;\n  visibility: visible;\n  opacity: 1;\n  z-index: 1550; }\n\n/* top black bar with buttons and \"1 of X\" indicator */\n.pswp__top-bar {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 44px;\n  width: 100%; }\n\n.pswp__caption,\n.pswp__top-bar,\n.pswp--has_mouse .pswp__button--arrow--left,\n.pswp--has_mouse .pswp__button--arrow--right {\n  -webkit-backface-visibility: hidden;\n  will-change: opacity;\n  -webkit-transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n/* pswp--has_mouse class is added only when two subsequent mousemove events occur */\n.pswp--has_mouse .pswp__button--arrow--left,\n.pswp--has_mouse .pswp__button--arrow--right {\n  visibility: visible; }\n\n.pswp__top-bar,\n.pswp__caption {\n  background-color: rgba(0, 0, 0, 0.5); }\n\n/* pswp__ui--fit class is added when main image \"fits\" between top bar and bottom bar (caption) */\n.pswp__ui--fit .pswp__top-bar,\n.pswp__ui--fit .pswp__caption {\n  background-color: rgba(0, 0, 0, 0.3); }\n\n/* pswp__ui--idle class is added when mouse isn't moving for several seconds (JS option timeToIdle) */\n.pswp__ui--idle .pswp__top-bar {\n  opacity: 0; }\n\n.pswp__ui--idle .pswp__button--arrow--left,\n.pswp__ui--idle .pswp__button--arrow--right {\n  opacity: 0; }\n\n/*\n\tpswp__ui--hidden class is added when controls are hidden\n\te.g. when user taps to toggle visibility of controls\n*/\n.pswp__ui--hidden .pswp__top-bar,\n.pswp__ui--hidden .pswp__caption,\n.pswp__ui--hidden .pswp__button--arrow--left,\n.pswp__ui--hidden .pswp__button--arrow--right {\n  /* Force paint & create composition layer for controls. */\n  opacity: 0.001; }\n\n/* pswp__ui--one-slide class is added when there is just one item in gallery */\n.pswp__ui--one-slide .pswp__button--arrow--left,\n.pswp__ui--one-slide .pswp__button--arrow--right,\n.pswp__ui--one-slide .pswp__counter {\n  display: none; }\n\n.pswp__element--disabled {\n  display: none !important; }\n\n.pswp--minimal--dark .pswp__top-bar {\n  background: none; }\n</button>","site":{"data":{}},"excerpt":"","more":"/*! PhotoSwipe Default UI CSS by Dmitry Semenov | photoswipe.com | MIT license */\n/*\n\n\tContents:\n\n\t1. Buttons\n\t2. Share modal and links\n\t3. Index indicator (\"1 of X\" counter)\n\t4. Caption\n\t5. Loading indicator\n\t6. Additional styles (root element, top bar, idle state, hidden state, etc.)\n\n*/\n/*\n\t\n\t1. Buttons\n\n */\n/* <button> css reset */\n.pswp__button {\n  width: 44px;\n  height: 44px;\n  position: relative;\n  background: none;\n  cursor: pointer;\n  overflow: visible;\n  -webkit-appearance: none;\n  display: block;\n  border: 0;\n  padding: 0;\n  margin: 0;\n  float: right;\n  opacity: 0.75;\n  -webkit-transition: opacity 0.2s;\n          transition: opacity 0.2s;\n  -webkit-box-shadow: none;\n          box-shadow: none; }\n  .pswp__button:focus, .pswp__button:hover {\n    opacity: 1; }\n  .pswp__button:active {\n    outline: none;\n    opacity: 0.9; }\n  .pswp__button::-moz-focus-inner {\n    padding: 0;\n    border: 0; }\n\n/* pswp__ui--over-close class it added when mouse is over element that should close gallery */\n.pswp__ui--over-close .pswp__button--close {\n  opacity: 1; }\n\n.pswp__button,\n.pswp__button--arrow--left:before,\n.pswp__button--arrow--right:before {\n  background: url(default-skin.png) 0 0 no-repeat;\n  background-size: 264px 88px;\n  width: 44px;\n  height: 44px; }\n\n@media (-webkit-min-device-pixel-ratio: 1.1), (-webkit-min-device-pixel-ratio: 1.09375), (min-resolution: 105dpi), (min-resolution: 1.1dppx) {\n  /* Serve SVG sprite if browser supports SVG and resolution is more than 105dpi */\n  .pswp--svg .pswp__button,\n  .pswp--svg .pswp__button--arrow--left:before,\n  .pswp--svg .pswp__button--arrow--right:before {\n    background-image: url(default-skin.svg); }\n  .pswp--svg .pswp__button--arrow--left,\n  .pswp--svg .pswp__button--arrow--right {\n    background: none; } }\n\n.pswp__button--close {\n  background-position: 0 -44px; }\n\n.pswp__button--share {\n  background-position: -44px -44px; }\n\n.pswp__button--fs {\n  display: none; }\n\n.pswp--supports-fs .pswp__button--fs {\n  display: block; }\n\n.pswp--fs .pswp__button--fs {\n  background-position: -44px 0; }\n\n.pswp__button--zoom {\n  display: none;\n  background-position: -88px 0; }\n\n.pswp--zoom-allowed .pswp__button--zoom {\n  display: block; }\n\n.pswp--zoomed-in .pswp__button--zoom {\n  background-position: -132px 0; }\n\n/* no arrows on touch screens */\n.pswp--touch .pswp__button--arrow--left,\n.pswp--touch .pswp__button--arrow--right {\n  visibility: hidden; }\n\n/*\n\tArrow buttons hit area\n\t(icon is added to :before pseudo-element)\n*/\n.pswp__button--arrow--left,\n.pswp__button--arrow--right {\n  background: none;\n  top: 50%;\n  margin-top: -50px;\n  width: 70px;\n  height: 100px;\n  position: absolute; }\n\n.pswp__button--arrow--left {\n  left: 0; }\n\n.pswp__button--arrow--right {\n  right: 0; }\n\n.pswp__button--arrow--left:before,\n.pswp__button--arrow--right:before {\n  content: '';\n  top: 35px;\n  background-color: rgba(0, 0, 0, 0.3);\n  height: 30px;\n  width: 32px;\n  position: absolute; }\n\n.pswp__button--arrow--left:before {\n  left: 6px;\n  background-position: -138px -44px; }\n\n.pswp__button--arrow--right:before {\n  right: 6px;\n  background-position: -94px -44px; }\n\n/*\n\n\t2. Share modal/popup and links\n\n */\n.pswp__counter,\n.pswp__share-modal {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n      user-select: none; }\n\n.pswp__share-modal {\n  display: block;\n  background: rgba(0, 0, 0, 0.5);\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  padding: 10px;\n  position: absolute;\n  z-index: 1600;\n  opacity: 0;\n  -webkit-transition: opacity 0.25s ease-out;\n          transition: opacity 0.25s ease-out;\n  -webkit-backface-visibility: hidden;\n  will-change: opacity; }\n\n.pswp__share-modal--hidden {\n  display: none; }\n\n.pswp__share-tooltip {\n  z-index: 1620;\n  position: absolute;\n  background: #FFF;\n  top: 56px;\n  border-radius: 2px;\n  display: block;\n  width: auto;\n  right: 44px;\n  -webkit-box-shadow: 0 2px 5px rgba(0, 0, 0, 0.25);\n          box-shadow: 0 2px 5px rgba(0, 0, 0, 0.25);\n  -webkit-transform: translateY(6px);\n      -ms-transform: translateY(6px);\n          transform: translateY(6px);\n  -webkit-transition: -webkit-transform 0.25s;\n          transition: transform 0.25s;\n  -webkit-backface-visibility: hidden;\n  will-change: transform; }\n  .pswp__share-tooltip a {\n    display: block;\n    padding: 8px 12px;\n    color: #000;\n    text-decoration: none;\n    font-size: 14px;\n    line-height: 18px; }\n    .pswp__share-tooltip a:hover {\n      text-decoration: none;\n      color: #000; }\n    .pswp__share-tooltip a:first-child {\n      /* round corners on the first/last list item */\n      border-radius: 2px 2px 0 0; }\n    .pswp__share-tooltip a:last-child {\n      border-radius: 0 0 2px 2px; }\n\n.pswp__share-modal--fade-in {\n  opacity: 1; }\n  .pswp__share-modal--fade-in .pswp__share-tooltip {\n    -webkit-transform: translateY(0);\n        -ms-transform: translateY(0);\n            transform: translateY(0); }\n\n/* increase size of share links on touch devices */\n.pswp--touch .pswp__share-tooltip a {\n  padding: 16px 12px; }\n\na.pswp__share--facebook:before {\n  content: '';\n  display: block;\n  width: 0;\n  height: 0;\n  position: absolute;\n  top: -12px;\n  right: 15px;\n  border: 6px solid transparent;\n  border-bottom-color: #FFF;\n  -webkit-pointer-events: none;\n  -moz-pointer-events: none;\n  pointer-events: none; }\n\na.pswp__share--facebook:hover {\n  background: #3E5C9A;\n  color: #FFF; }\n  a.pswp__share--facebook:hover:before {\n    border-bottom-color: #3E5C9A; }\n\na.pswp__share--twitter:hover {\n  background: #55ACEE;\n  color: #FFF; }\n\na.pswp__share--pinterest:hover {\n  background: #CCC;\n  color: #CE272D; }\n\na.pswp__share--download:hover {\n  background: #DDD; }\n\n/*\n\n\t3. Index indicator (\"1 of X\" counter)\n\n */\n.pswp__counter {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 44px;\n  font-size: 13px;\n  line-height: 44px;\n  color: #FFF;\n  opacity: 0.75;\n  padding: 0 10px; }\n\n/*\n\t\n\t4. Caption\n\n */\n.pswp__caption {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  min-height: 44px; }\n  .pswp__caption small {\n    font-size: 11px;\n    color: #BBB; }\n\n.pswp__caption__center {\n  text-align: left;\n  max-width: 420px;\n  margin: 0 auto;\n  font-size: 13px;\n  padding: 10px;\n  line-height: 20px;\n  color: #CCC; }\n\n.pswp__caption--empty {\n  display: none; }\n\n/* Fake caption element, used to calculate height of next/prev image */\n.pswp__caption--fake {\n  visibility: hidden; }\n\n/*\n\n\t5. Loading indicator (preloader)\n\n\tYou can play with it here - http://codepen.io/dimsemenov/pen/yyBWoR\n\n */\n.pswp__preloader {\n  width: 44px;\n  height: 44px;\n  position: absolute;\n  top: 0;\n  left: 50%;\n  margin-left: -22px;\n  opacity: 0;\n  -webkit-transition: opacity 0.25s ease-out;\n          transition: opacity 0.25s ease-out;\n  will-change: opacity;\n  direction: ltr; }\n\n.pswp__preloader__icn {\n  width: 20px;\n  height: 20px;\n  margin: 12px; }\n\n.pswp__preloader--active {\n  opacity: 1; }\n  .pswp__preloader--active .pswp__preloader__icn {\n    /* We use .gif in browsers that don't support CSS animation */\n    background: url(preloader.gif) 0 0 no-repeat; }\n\n.pswp--css_animation .pswp__preloader--active {\n  opacity: 1; }\n  .pswp--css_animation .pswp__preloader--active .pswp__preloader__icn {\n    -webkit-animation: clockwise 500ms linear infinite;\n            animation: clockwise 500ms linear infinite; }\n  .pswp--css_animation .pswp__preloader--active .pswp__preloader__donut {\n    -webkit-animation: donut-rotate 1000ms cubic-bezier(0.4, 0, 0.22, 1) infinite;\n            animation: donut-rotate 1000ms cubic-bezier(0.4, 0, 0.22, 1) infinite; }\n\n.pswp--css_animation .pswp__preloader__icn {\n  background: none;\n  opacity: 0.75;\n  width: 14px;\n  height: 14px;\n  position: absolute;\n  left: 15px;\n  top: 15px;\n  margin: 0; }\n\n.pswp--css_animation .pswp__preloader__cut {\n  /* \n\t\t\tThe idea of animating inner circle is based on Polymer (\"material\") loading indicator \n\t\t\t by Keanu Lee https://blog.keanulee.com/2014/10/20/the-tale-of-three-spinners.html\n\t\t*/\n  position: relative;\n  width: 7px;\n  height: 14px;\n  overflow: hidden; }\n\n.pswp--css_animation .pswp__preloader__donut {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  width: 14px;\n  height: 14px;\n  border: 2px solid #FFF;\n  border-radius: 50%;\n  border-left-color: transparent;\n  border-bottom-color: transparent;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: none;\n  margin: 0; }\n\n@media screen and (max-width: 1024px) {\n  .pswp__preloader {\n    position: relative;\n    left: auto;\n    top: auto;\n    margin: 0;\n    float: right; } }\n\n@-webkit-keyframes clockwise {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@keyframes clockwise {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@-webkit-keyframes donut-rotate {\n  0% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); }\n  50% {\n    -webkit-transform: rotate(-140deg);\n            transform: rotate(-140deg); }\n  100% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); } }\n\n@keyframes donut-rotate {\n  0% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); }\n  50% {\n    -webkit-transform: rotate(-140deg);\n            transform: rotate(-140deg); }\n  100% {\n    -webkit-transform: rotate(0);\n            transform: rotate(0); } }\n\n/*\n\t\n\t6. Additional styles\n\n */\n/* root element of UI */\n.pswp__ui {\n  -webkit-font-smoothing: auto;\n  visibility: visible;\n  opacity: 1;\n  z-index: 1550; }\n\n/* top black bar with buttons and \"1 of X\" indicator */\n.pswp__top-bar {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 44px;\n  width: 100%; }\n\n.pswp__caption,\n.pswp__top-bar,\n.pswp--has_mouse .pswp__button--arrow--left,\n.pswp--has_mouse .pswp__button--arrow--right {\n  -webkit-backface-visibility: hidden;\n  will-change: opacity;\n  -webkit-transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n/* pswp--has_mouse class is added only when two subsequent mousemove events occur */\n.pswp--has_mouse .pswp__button--arrow--left,\n.pswp--has_mouse .pswp__button--arrow--right {\n  visibility: visible; }\n\n.pswp__top-bar,\n.pswp__caption {\n  background-color: rgba(0, 0, 0, 0.5); }\n\n/* pswp__ui--fit class is added when main image \"fits\" between top bar and bottom bar (caption) */\n.pswp__ui--fit .pswp__top-bar,\n.pswp__ui--fit .pswp__caption {\n  background-color: rgba(0, 0, 0, 0.3); }\n\n/* pswp__ui--idle class is added when mouse isn't moving for several seconds (JS option timeToIdle) */\n.pswp__ui--idle .pswp__top-bar {\n  opacity: 0; }\n\n.pswp__ui--idle .pswp__button--arrow--left,\n.pswp__ui--idle .pswp__button--arrow--right {\n  opacity: 0; }\n\n/*\n\tpswp__ui--hidden class is added when controls are hidden\n\te.g. when user taps to toggle visibility of controls\n*/\n.pswp__ui--hidden .pswp__top-bar,\n.pswp__ui--hidden .pswp__caption,\n.pswp__ui--hidden .pswp__button--arrow--left,\n.pswp__ui--hidden .pswp__button--arrow--right {\n  /* Force paint & create composition layer for controls. */\n  opacity: 0.001; }\n\n/* pswp__ui--one-slide class is added when there is just one item in gallery */\n.pswp__ui--one-slide .pswp__button--arrow--left,\n.pswp__ui--one-slide .pswp__button--arrow--right,\n.pswp__ui--one-slide .pswp__counter {\n  display: none; }\n\n.pswp__element--disabled {\n  display: none !important; }\n\n.pswp--minimal--dark .pswp__top-bar {\n  background: none; }\n</button>"}],"Post":[{"title":"Android Toast 类分装","date":"2016-06-01T09:25:44.000Z","photos":["/imgs/bg2.jpg"],"_content":"<blockquote class=\"blockquote-center\"><h2>每天积累一点</h2></br>总有刁民想害朕</blockquote>\n\nAndroid Toast的用法\n=======\n### 由于最近开发需要用到大量Toast.所以做了个分装\n<!-- more -->\nToastUtils.java\n-----------\n<pre>\n<code>\n/**\n * toast弹出窗类，项目的toast弹出框必须从这里开始\n * <br>不允许自行实例化\n * @author TD\n *\n */\n@SuppressLint(\"ShowToast\")\npublic final class ToastUtils {\n\tstatic Toast mToast = null;\n\tprivate ToastUtils(){}\n\t/**\n\t * 长时间气泡弹出\n\t * @param message\n\t */\n\tpublic static void toastLong(String message){\n\t    if(!TextUtils.isEmpty(message)){\n        \t    getToast();\n        \t    mToast.setText(message);\n        \t    mToast.setDuration(Toast.LENGTH_LONG);\n        \t    mToast.show();\n\t    }\n\t}\n\t\n\t/**\n\t * 长时间气泡弹出\n\t * @param resId\n\t */\n\tpublic static void toastLong(int resId){\n\t\tgetToast();\n\t\tmToast.setText(resId);\n\t\tmToast.setDuration(Toast.LENGTH_LONG);\n\t\tmToast.show();\n\t}\n\t\n\t/**\n\t * 改变位置，长时间显示气泡\n\t * @param message\n\t * @param gravity\n\t * @param xOffset\n\t * @param yOffset\n\t */\n\tpublic static void toastLong(String message,int gravity,int xOffset,int yOffset){\n\t\tgetToast();\n\t\tmToast.setText(message);\n\t\tmToast.setDuration(Toast.LENGTH_LONG);\n\t\tmToast.setGravity(gravity, xOffset, yOffset);\n\t\tmToast.show();\n\t}\n\t\n\t/**\n\t * 自定义view长时间显示气泡\n\t * @param message\n\t * @param view\n\t */\n\tpublic static void toastLong(View view){\n\t\tgetToast();\n\t\tmToast.setView(view);\n\t\tmToast.setDuration(Toast.LENGTH_LONG);\n\t\tmToast.show();\n\t}\n\t/**\n\t * 改变位置，自定义View长时间显示气泡\n\t * @param message\n\t * @param view\n\t * @param gravity\n\t * @param xOffset\n\t * @param yOffset\n\t */\n\tpublic static void toastLong(View view,int gravity,int xOffset,int yOffset){\n\t\tgetToast();\n\t\tmToast.setView(view);\n\t\tmToast.setDuration(Toast.LENGTH_LONG);\n\t\tmToast.setGravity(gravity, xOffset, yOffset);\n\t\tmToast.show();\n\t}\n\t\n\t/**\n\t * 短时间弹出气泡\n\t * @param message\n\t */\n\tpublic static void toastShort(String message){\n\t    if(!TextUtils.isEmpty(message)){\n\t            getToast();\n\t            mToast.setText(message);\n\t            mToast.setDuration(Toast.LENGTH_SHORT);\n\t            mToast.show();\n\t    }\n\t  \n\t}\n\t\n\t/**\n\t * 短时间弹出气泡\n\t * @param resId\n\t */\n\tpublic static void toastShort(int resId){\n\t\tgetToast();\n\t\tmToast.setText(resId);\n\t\tmToast.setDuration(Toast.LENGTH_SHORT);\n\t\tmToast.show();\n\t}\n\n\t/**\n\t * 改变位置，短时间显示气泡\n\t * @param message\n\t * @param gravity\n\t * @param xOffset\n\t * @param yOffset\n\t */\n\tpublic static void toastShort(String message,int gravity,int xOffset,int yOffset){\n\t\tgetToast();\n\t\tmToast.setText(message);\n\t\tmToast.setDuration(Toast.LENGTH_SHORT);\n\t\tmToast.setGravity(gravity, xOffset, yOffset);\n\t\tmToast.show();\n\t}\n\t\n\t/**\n\t * 自定义view短时间显示气泡\n\t * @param message\n\t * @param view\n\t */\n\tpublic static void toastShort(View view){\n\t\tgetToast();\n\t\tmToast.setView(view);\n\t\tmToast.setDuration(Toast.LENGTH_SHORT);\n\t\tmToast.show();\n\t}\n\t\n\t/**\n\t * 改变位置，自定义View短时间显示气泡\n\t * @param message\n\t * @param view\n\t * @param gravity\n\t * @param xOffset\n\t * @param yOffset\n\t */\n\tpublic static void toastShort(View view,int gravity,int xOffset,int yOffset){\n\t\tgetToast();\n\t\tmToast.setView(view);\n\t\tmToast.setDuration(Toast.LENGTH_SHORT);\n\t\tmToast.setGravity(gravity, xOffset, yOffset);\n\t\tmToast.show();\n\t}\n\t\n\t/**\n\t * 获得一个气泡的实例\n\t * @return\n\t */\n\tpublic static Toast getToast(){\n\t\tif(null != mToast){\n\t\t\tmToast.cancel();\n\t\t}\n\t\tmToast = null;\n\t\tmToast = Toast.makeText(IApplication.mContactsApp, \"\", Toast.LENGTH_SHORT);\n\t\treturn mToast;\n\t}\n\t\n}\n</code>\n</pre>\n\n","source":"_posts/Android-Toast-类分装.md","raw":"---\ntitle: Android Toast 类分装\ndate: 2016-06-01 17:25:44\ntags:\n- hexo\n- node.js\ncategories: \n- 技术\n- 日志\n- Android\nphotos: \n- /imgs/bg2.jpg\n\n---\n<blockquote class=\"blockquote-center\"><h2>每天积累一点</h2></br>总有刁民想害朕</blockquote>\n\nAndroid Toast的用法\n=======\n### 由于最近开发需要用到大量Toast.所以做了个分装\n<!-- more -->\nToastUtils.java\n-----------\n<pre>\n<code>\n/**\n * toast弹出窗类，项目的toast弹出框必须从这里开始\n * <br>不允许自行实例化\n * @author TD\n *\n */\n@SuppressLint(\"ShowToast\")\npublic final class ToastUtils {\n\tstatic Toast mToast = null;\n\tprivate ToastUtils(){}\n\t/**\n\t * 长时间气泡弹出\n\t * @param message\n\t */\n\tpublic static void toastLong(String message){\n\t    if(!TextUtils.isEmpty(message)){\n        \t    getToast();\n        \t    mToast.setText(message);\n        \t    mToast.setDuration(Toast.LENGTH_LONG);\n        \t    mToast.show();\n\t    }\n\t}\n\t\n\t/**\n\t * 长时间气泡弹出\n\t * @param resId\n\t */\n\tpublic static void toastLong(int resId){\n\t\tgetToast();\n\t\tmToast.setText(resId);\n\t\tmToast.setDuration(Toast.LENGTH_LONG);\n\t\tmToast.show();\n\t}\n\t\n\t/**\n\t * 改变位置，长时间显示气泡\n\t * @param message\n\t * @param gravity\n\t * @param xOffset\n\t * @param yOffset\n\t */\n\tpublic static void toastLong(String message,int gravity,int xOffset,int yOffset){\n\t\tgetToast();\n\t\tmToast.setText(message);\n\t\tmToast.setDuration(Toast.LENGTH_LONG);\n\t\tmToast.setGravity(gravity, xOffset, yOffset);\n\t\tmToast.show();\n\t}\n\t\n\t/**\n\t * 自定义view长时间显示气泡\n\t * @param message\n\t * @param view\n\t */\n\tpublic static void toastLong(View view){\n\t\tgetToast();\n\t\tmToast.setView(view);\n\t\tmToast.setDuration(Toast.LENGTH_LONG);\n\t\tmToast.show();\n\t}\n\t/**\n\t * 改变位置，自定义View长时间显示气泡\n\t * @param message\n\t * @param view\n\t * @param gravity\n\t * @param xOffset\n\t * @param yOffset\n\t */\n\tpublic static void toastLong(View view,int gravity,int xOffset,int yOffset){\n\t\tgetToast();\n\t\tmToast.setView(view);\n\t\tmToast.setDuration(Toast.LENGTH_LONG);\n\t\tmToast.setGravity(gravity, xOffset, yOffset);\n\t\tmToast.show();\n\t}\n\t\n\t/**\n\t * 短时间弹出气泡\n\t * @param message\n\t */\n\tpublic static void toastShort(String message){\n\t    if(!TextUtils.isEmpty(message)){\n\t            getToast();\n\t            mToast.setText(message);\n\t            mToast.setDuration(Toast.LENGTH_SHORT);\n\t            mToast.show();\n\t    }\n\t  \n\t}\n\t\n\t/**\n\t * 短时间弹出气泡\n\t * @param resId\n\t */\n\tpublic static void toastShort(int resId){\n\t\tgetToast();\n\t\tmToast.setText(resId);\n\t\tmToast.setDuration(Toast.LENGTH_SHORT);\n\t\tmToast.show();\n\t}\n\n\t/**\n\t * 改变位置，短时间显示气泡\n\t * @param message\n\t * @param gravity\n\t * @param xOffset\n\t * @param yOffset\n\t */\n\tpublic static void toastShort(String message,int gravity,int xOffset,int yOffset){\n\t\tgetToast();\n\t\tmToast.setText(message);\n\t\tmToast.setDuration(Toast.LENGTH_SHORT);\n\t\tmToast.setGravity(gravity, xOffset, yOffset);\n\t\tmToast.show();\n\t}\n\t\n\t/**\n\t * 自定义view短时间显示气泡\n\t * @param message\n\t * @param view\n\t */\n\tpublic static void toastShort(View view){\n\t\tgetToast();\n\t\tmToast.setView(view);\n\t\tmToast.setDuration(Toast.LENGTH_SHORT);\n\t\tmToast.show();\n\t}\n\t\n\t/**\n\t * 改变位置，自定义View短时间显示气泡\n\t * @param message\n\t * @param view\n\t * @param gravity\n\t * @param xOffset\n\t * @param yOffset\n\t */\n\tpublic static void toastShort(View view,int gravity,int xOffset,int yOffset){\n\t\tgetToast();\n\t\tmToast.setView(view);\n\t\tmToast.setDuration(Toast.LENGTH_SHORT);\n\t\tmToast.setGravity(gravity, xOffset, yOffset);\n\t\tmToast.show();\n\t}\n\t\n\t/**\n\t * 获得一个气泡的实例\n\t * @return\n\t */\n\tpublic static Toast getToast(){\n\t\tif(null != mToast){\n\t\t\tmToast.cancel();\n\t\t}\n\t\tmToast = null;\n\t\tmToast = Toast.makeText(IApplication.mContactsApp, \"\", Toast.LENGTH_SHORT);\n\t\treturn mToast;\n\t}\n\t\n}\n</code>\n</pre>\n\n","slug":"Android-Toast-类分装","published":1,"updated":"2018-05-02T05:55:01.744Z","comments":1,"layout":"post","link":"","_id":"cjhio9nnp00006bfyg2m5pnqx","content":"<blockquote class=\"blockquote-center\"><h2>每天积累一点</h2><br>总有刁民想害朕</blockquote>\n\n<h1 id=\"Android-Toast的用法\"><a href=\"#Android-Toast的用法\" class=\"headerlink\" title=\"Android Toast的用法\"></a>Android Toast的用法</h1><h3 id=\"由于最近开发需要用到大量Toast-所以做了个分装\"><a href=\"#由于最近开发需要用到大量Toast-所以做了个分装\" class=\"headerlink\" title=\"由于最近开发需要用到大量Toast.所以做了个分装\"></a>由于最近开发需要用到大量Toast.所以做了个分装</h3><a id=\"more\"></a>\n<h2 id=\"ToastUtils-java\"><a href=\"#ToastUtils-java\" class=\"headerlink\" title=\"ToastUtils.java\"></a>ToastUtils.java</h2><pre>\n<code>\n/**\n * toast弹出窗类，项目的toast弹出框必须从这里开始\n * <br>不允许自行实例化\n * @author TD\n *\n */\n@SuppressLint(\"ShowToast\")\npublic final class ToastUtils {\n    static Toast mToast = null;\n    private ToastUtils(){}\n    /**\n     * 长时间气泡弹出\n     * @param message\n     */\n    public static void toastLong(String message){\n        if(!TextUtils.isEmpty(message)){\n                getToast();\n                mToast.setText(message);\n                mToast.setDuration(Toast.LENGTH_LONG);\n                mToast.show();\n        }\n    }\n\n    /**\n     * 长时间气泡弹出\n     * @param resId\n     */\n    public static void toastLong(int resId){\n        getToast();\n        mToast.setText(resId);\n        mToast.setDuration(Toast.LENGTH_LONG);\n        mToast.show();\n    }\n\n    /**\n     * 改变位置，长时间显示气泡\n     * @param message\n     * @param gravity\n     * @param xOffset\n     * @param yOffset\n     */\n    public static void toastLong(String message,int gravity,int xOffset,int yOffset){\n        getToast();\n        mToast.setText(message);\n        mToast.setDuration(Toast.LENGTH_LONG);\n        mToast.setGravity(gravity, xOffset, yOffset);\n        mToast.show();\n    }\n\n    /**\n     * 自定义view长时间显示气泡\n     * @param message\n     * @param view\n     */\n    public static void toastLong(View view){\n        getToast();\n        mToast.setView(view);\n        mToast.setDuration(Toast.LENGTH_LONG);\n        mToast.show();\n    }\n    /**\n     * 改变位置，自定义View长时间显示气泡\n     * @param message\n     * @param view\n     * @param gravity\n     * @param xOffset\n     * @param yOffset\n     */\n    public static void toastLong(View view,int gravity,int xOffset,int yOffset){\n        getToast();\n        mToast.setView(view);\n        mToast.setDuration(Toast.LENGTH_LONG);\n        mToast.setGravity(gravity, xOffset, yOffset);\n        mToast.show();\n    }\n\n    /**\n     * 短时间弹出气泡\n     * @param message\n     */\n    public static void toastShort(String message){\n        if(!TextUtils.isEmpty(message)){\n                getToast();\n                mToast.setText(message);\n                mToast.setDuration(Toast.LENGTH_SHORT);\n                mToast.show();\n        }\n\n    }\n\n    /**\n     * 短时间弹出气泡\n     * @param resId\n     */\n    public static void toastShort(int resId){\n        getToast();\n        mToast.setText(resId);\n        mToast.setDuration(Toast.LENGTH_SHORT);\n        mToast.show();\n    }\n\n    /**\n     * 改变位置，短时间显示气泡\n     * @param message\n     * @param gravity\n     * @param xOffset\n     * @param yOffset\n     */\n    public static void toastShort(String message,int gravity,int xOffset,int yOffset){\n        getToast();\n        mToast.setText(message);\n        mToast.setDuration(Toast.LENGTH_SHORT);\n        mToast.setGravity(gravity, xOffset, yOffset);\n        mToast.show();\n    }\n\n    /**\n     * 自定义view短时间显示气泡\n     * @param message\n     * @param view\n     */\n    public static void toastShort(View view){\n        getToast();\n        mToast.setView(view);\n        mToast.setDuration(Toast.LENGTH_SHORT);\n        mToast.show();\n    }\n\n    /**\n     * 改变位置，自定义View短时间显示气泡\n     * @param message\n     * @param view\n     * @param gravity\n     * @param xOffset\n     * @param yOffset\n     */\n    public static void toastShort(View view,int gravity,int xOffset,int yOffset){\n        getToast();\n        mToast.setView(view);\n        mToast.setDuration(Toast.LENGTH_SHORT);\n        mToast.setGravity(gravity, xOffset, yOffset);\n        mToast.show();\n    }\n\n    /**\n     * 获得一个气泡的实例\n     * @return\n     */\n    public static Toast getToast(){\n        if(null != mToast){\n            mToast.cancel();\n        }\n        mToast = null;\n        mToast = Toast.makeText(IApplication.mContactsApp, \"\", Toast.LENGTH_SHORT);\n        return mToast;\n    }\n\n}\n</code>\n</pre>\n\n","site":{"data":{}},"excerpt":"<blockquote class=\"blockquote-center\"><h2>每天积累一点</h2><br>总有刁民想害朕</blockquote>\n\n<h1 id=\"Android-Toast的用法\"><a href=\"#Android-Toast的用法\" class=\"headerlink\" title=\"Android Toast的用法\"></a>Android Toast的用法</h1><h3 id=\"由于最近开发需要用到大量Toast-所以做了个分装\"><a href=\"#由于最近开发需要用到大量Toast-所以做了个分装\" class=\"headerlink\" title=\"由于最近开发需要用到大量Toast.所以做了个分装\"></a>由于最近开发需要用到大量Toast.所以做了个分装</h3>","more":"<h2 id=\"ToastUtils-java\"><a href=\"#ToastUtils-java\" class=\"headerlink\" title=\"ToastUtils.java\"></a>ToastUtils.java</h2><pre>\n<code>\n/**\n * toast弹出窗类，项目的toast弹出框必须从这里开始\n * <br>不允许自行实例化\n * @author TD\n *\n */\n@SuppressLint(\"ShowToast\")\npublic final class ToastUtils {\n    static Toast mToast = null;\n    private ToastUtils(){}\n    /**\n     * 长时间气泡弹出\n     * @param message\n     */\n    public static void toastLong(String message){\n        if(!TextUtils.isEmpty(message)){\n                getToast();\n                mToast.setText(message);\n                mToast.setDuration(Toast.LENGTH_LONG);\n                mToast.show();\n        }\n    }\n\n    /**\n     * 长时间气泡弹出\n     * @param resId\n     */\n    public static void toastLong(int resId){\n        getToast();\n        mToast.setText(resId);\n        mToast.setDuration(Toast.LENGTH_LONG);\n        mToast.show();\n    }\n\n    /**\n     * 改变位置，长时间显示气泡\n     * @param message\n     * @param gravity\n     * @param xOffset\n     * @param yOffset\n     */\n    public static void toastLong(String message,int gravity,int xOffset,int yOffset){\n        getToast();\n        mToast.setText(message);\n        mToast.setDuration(Toast.LENGTH_LONG);\n        mToast.setGravity(gravity, xOffset, yOffset);\n        mToast.show();\n    }\n\n    /**\n     * 自定义view长时间显示气泡\n     * @param message\n     * @param view\n     */\n    public static void toastLong(View view){\n        getToast();\n        mToast.setView(view);\n        mToast.setDuration(Toast.LENGTH_LONG);\n        mToast.show();\n    }\n    /**\n     * 改变位置，自定义View长时间显示气泡\n     * @param message\n     * @param view\n     * @param gravity\n     * @param xOffset\n     * @param yOffset\n     */\n    public static void toastLong(View view,int gravity,int xOffset,int yOffset){\n        getToast();\n        mToast.setView(view);\n        mToast.setDuration(Toast.LENGTH_LONG);\n        mToast.setGravity(gravity, xOffset, yOffset);\n        mToast.show();\n    }\n\n    /**\n     * 短时间弹出气泡\n     * @param message\n     */\n    public static void toastShort(String message){\n        if(!TextUtils.isEmpty(message)){\n                getToast();\n                mToast.setText(message);\n                mToast.setDuration(Toast.LENGTH_SHORT);\n                mToast.show();\n        }\n\n    }\n\n    /**\n     * 短时间弹出气泡\n     * @param resId\n     */\n    public static void toastShort(int resId){\n        getToast();\n        mToast.setText(resId);\n        mToast.setDuration(Toast.LENGTH_SHORT);\n        mToast.show();\n    }\n\n    /**\n     * 改变位置，短时间显示气泡\n     * @param message\n     * @param gravity\n     * @param xOffset\n     * @param yOffset\n     */\n    public static void toastShort(String message,int gravity,int xOffset,int yOffset){\n        getToast();\n        mToast.setText(message);\n        mToast.setDuration(Toast.LENGTH_SHORT);\n        mToast.setGravity(gravity, xOffset, yOffset);\n        mToast.show();\n    }\n\n    /**\n     * 自定义view短时间显示气泡\n     * @param message\n     * @param view\n     */\n    public static void toastShort(View view){\n        getToast();\n        mToast.setView(view);\n        mToast.setDuration(Toast.LENGTH_SHORT);\n        mToast.show();\n    }\n\n    /**\n     * 改变位置，自定义View短时间显示气泡\n     * @param message\n     * @param view\n     * @param gravity\n     * @param xOffset\n     * @param yOffset\n     */\n    public static void toastShort(View view,int gravity,int xOffset,int yOffset){\n        getToast();\n        mToast.setView(view);\n        mToast.setDuration(Toast.LENGTH_SHORT);\n        mToast.setGravity(gravity, xOffset, yOffset);\n        mToast.show();\n    }\n\n    /**\n     * 获得一个气泡的实例\n     * @return\n     */\n    public static Toast getToast(){\n        if(null != mToast){\n            mToast.cancel();\n        }\n        mToast = null;\n        mToast = Toast.makeText(IApplication.mContactsApp, \"\", Toast.LENGTH_SHORT);\n        return mToast;\n    }\n\n}\n</code>\n</pre>"},{"title":"Android 开发 自定义跑马灯 TextView","date":"2017-11-14T06:09:16.000Z","photos":["/imgs/bg2.jpg"],"_content":"在项目开发中,有次需要用到跑马灯,使用了系统自带的跑马灯,发现会有点问题.然后就考虑重写了一个跑马灯 textview.\n<!-- more -->\n主要思路是 自定义一个画笔工具,自己画出 textview\n\n```\npublic class MarqueeTextView extends View {\n\n    private static String TAG = MarqueeTextView.class.getSimpleName();\n\n    private String mContent;\n\n    private ValueAnimator mAnimator;\n\n    private Paint mPaint;\n    private int mOffset;\n    private int mBaseLine;\n    private Rect mTargetRect;\n    private int mTextWidth = 0;\n\n    public MarqueeTextView(Context context) {\n        super(context);\n        init();\n    }\n\n    public MarqueeTextView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        init();\n    }\n\n    public MarqueeTextView(Context context, AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n        init();\n    }\n\n    private void init() {\n        mPaint = new Paint();\n        mPaint.setTextSize(getContext().getResources().getDimension(R.dimen.sp_15));\n        mPaint.setColor(Color.RED);\n        mPaint.setTextAlign(Paint.Align.LEFT);\n        mPaint.setAntiAlias(true);\n\n    }\n\n    @Override\n    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n        if (mContent == null) {\n            super.onMeasure(widthMeasureSpec,heightMeasureSpec);\n            return;\n        }\n\n\n        Paint.FontMetricsInt fontMetrics = mPaint.getFontMetricsInt();\n        int height = fontMetrics.bottom - fontMetrics.top + getPaddingBottom() + getPaddingTop();\n        setMeasuredDimension(widthMeasureSpec, MeasureSpec.makeMeasureSpec(height, MeasureSpec.EXACTLY));\n\n        int top = getPaddingTop();\n        int bottom = top + fontMetrics.bottom - fontMetrics.top;\n        int left = getPaddingLeft() + mOffset;\n        int right = left + mTextWidth;\n        if (mTargetRect == null) {\n            mTargetRect = new Rect();\n        }\n        mTargetRect.set(left, top, right, bottom);\n        mBaseLine = (mTargetRect.bottom + mTargetRect.top - fontMetrics.bottom - fontMetrics.top) / 2;\n        mAnimator.cancel();\n        if (mTextWidth > getMeasuredWidth()) {\n            mAnimator.start();\n        }\n\n    }\n\n    @Override\n    protected void onWindowVisibilityChanged(int visibility) {\n        super.onWindowVisibilityChanged(visibility);\n        if(visibility == View.VISIBLE){\n            start();\n        }else{\n            cancel();\n        }\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n        super.onDraw(canvas);\n\n        if (mContent == null || mTargetRect == null) {\n            return;\n        }\n\n        mTargetRect.left = getPaddingLeft() + mOffset;\n        mTargetRect.right = mTargetRect.left + mTextWidth;\n        canvas.drawText(mContent, mTargetRect.left, mBaseLine, mPaint);\n    }\n\n    public void setText(String text) {\n        mContent = text;\n        mTextWidth = (int) (mPaint.measureText(mContent, 0, mContent.length())+1);\n        if(null == mAnimator){\n            mAnimator = ValueAnimator.ofFloat(0, mTextWidth);\n            mAnimator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {\n                @Override\n                public void onAnimationUpdate(ValueAnimator valueAnimator) {\n                    mOffset -= 2;\n                    if (mOffset < -mTextWidth) {\n                        mOffset = getWidth();\n                    }\n                    invalidate();\n                }\n            });\n            mAnimator.setRepeatCount(ValueAnimator.INFINITE);\n            mAnimator.setRepeatMode(ValueAnimator.REVERSE);\n            //5.为ValueAnimator设置目标对象并开始执行动画\n            mAnimator.setTarget(this);\n            mAnimator.setDuration((long) (mTextWidth));\n\n        }\n\n    }\n\n    public void start(){\n        if(null != mAnimator && mTextWidth > getMeasuredWidth()){\n            mAnimator.start();\n        }\n    }\n\n    public void cancel(){\n        if(null != mAnimator && mTextWidth > getMeasuredWidth()){\n            mAnimator.cancel();\n        }\n    }\n}\n\n```\n","source":"_posts/Android-开发-自定义跑马灯-TextView.md","raw":"---\ntitle: Android 开发 自定义跑马灯 TextView\ndate: 2017-11-14 14:09:16\ntags:\n- android\n- 跑马灯\n- 自定义textview\ncategories: \n- 技术\n- 日志\n- Android\nphotos: \n- /imgs/bg2.jpg\n---\n在项目开发中,有次需要用到跑马灯,使用了系统自带的跑马灯,发现会有点问题.然后就考虑重写了一个跑马灯 textview.\n<!-- more -->\n主要思路是 自定义一个画笔工具,自己画出 textview\n\n```\npublic class MarqueeTextView extends View {\n\n    private static String TAG = MarqueeTextView.class.getSimpleName();\n\n    private String mContent;\n\n    private ValueAnimator mAnimator;\n\n    private Paint mPaint;\n    private int mOffset;\n    private int mBaseLine;\n    private Rect mTargetRect;\n    private int mTextWidth = 0;\n\n    public MarqueeTextView(Context context) {\n        super(context);\n        init();\n    }\n\n    public MarqueeTextView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        init();\n    }\n\n    public MarqueeTextView(Context context, AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n        init();\n    }\n\n    private void init() {\n        mPaint = new Paint();\n        mPaint.setTextSize(getContext().getResources().getDimension(R.dimen.sp_15));\n        mPaint.setColor(Color.RED);\n        mPaint.setTextAlign(Paint.Align.LEFT);\n        mPaint.setAntiAlias(true);\n\n    }\n\n    @Override\n    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n        if (mContent == null) {\n            super.onMeasure(widthMeasureSpec,heightMeasureSpec);\n            return;\n        }\n\n\n        Paint.FontMetricsInt fontMetrics = mPaint.getFontMetricsInt();\n        int height = fontMetrics.bottom - fontMetrics.top + getPaddingBottom() + getPaddingTop();\n        setMeasuredDimension(widthMeasureSpec, MeasureSpec.makeMeasureSpec(height, MeasureSpec.EXACTLY));\n\n        int top = getPaddingTop();\n        int bottom = top + fontMetrics.bottom - fontMetrics.top;\n        int left = getPaddingLeft() + mOffset;\n        int right = left + mTextWidth;\n        if (mTargetRect == null) {\n            mTargetRect = new Rect();\n        }\n        mTargetRect.set(left, top, right, bottom);\n        mBaseLine = (mTargetRect.bottom + mTargetRect.top - fontMetrics.bottom - fontMetrics.top) / 2;\n        mAnimator.cancel();\n        if (mTextWidth > getMeasuredWidth()) {\n            mAnimator.start();\n        }\n\n    }\n\n    @Override\n    protected void onWindowVisibilityChanged(int visibility) {\n        super.onWindowVisibilityChanged(visibility);\n        if(visibility == View.VISIBLE){\n            start();\n        }else{\n            cancel();\n        }\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n        super.onDraw(canvas);\n\n        if (mContent == null || mTargetRect == null) {\n            return;\n        }\n\n        mTargetRect.left = getPaddingLeft() + mOffset;\n        mTargetRect.right = mTargetRect.left + mTextWidth;\n        canvas.drawText(mContent, mTargetRect.left, mBaseLine, mPaint);\n    }\n\n    public void setText(String text) {\n        mContent = text;\n        mTextWidth = (int) (mPaint.measureText(mContent, 0, mContent.length())+1);\n        if(null == mAnimator){\n            mAnimator = ValueAnimator.ofFloat(0, mTextWidth);\n            mAnimator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {\n                @Override\n                public void onAnimationUpdate(ValueAnimator valueAnimator) {\n                    mOffset -= 2;\n                    if (mOffset < -mTextWidth) {\n                        mOffset = getWidth();\n                    }\n                    invalidate();\n                }\n            });\n            mAnimator.setRepeatCount(ValueAnimator.INFINITE);\n            mAnimator.setRepeatMode(ValueAnimator.REVERSE);\n            //5.为ValueAnimator设置目标对象并开始执行动画\n            mAnimator.setTarget(this);\n            mAnimator.setDuration((long) (mTextWidth));\n\n        }\n\n    }\n\n    public void start(){\n        if(null != mAnimator && mTextWidth > getMeasuredWidth()){\n            mAnimator.start();\n        }\n    }\n\n    public void cancel(){\n        if(null != mAnimator && mTextWidth > getMeasuredWidth()){\n            mAnimator.cancel();\n        }\n    }\n}\n\n```\n","slug":"Android-开发-自定义跑马灯-TextView","published":1,"updated":"2018-05-02T05:55:01.745Z","comments":1,"layout":"post","link":"","_id":"cjhio9nnt00026bfy3r0ujp4f","content":"<p>在项目开发中,有次需要用到跑马灯,使用了系统自带的跑马灯,发现会有点问题.然后就考虑重写了一个跑马灯 textview.<br><a id=\"more\"></a><br>主要思路是 自定义一个画笔工具,自己画出 textview</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MarqueeTextView</span> <span class=\"keyword\">extends</span> <span class=\"title\">View</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> String TAG = MarqueeTextView.class.getSimpleName();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String mContent;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> ValueAnimator mAnimator;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> Paint mPaint;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> mOffset;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> mBaseLine;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Rect mTargetRect;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> mTextWidth = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">MarqueeTextView</span><span class=\"params\">(Context context)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>(context);</span><br><span class=\"line\">        init();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">MarqueeTextView</span><span class=\"params\">(Context context, AttributeSet attrs)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>(context, attrs);</span><br><span class=\"line\">        init();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">MarqueeTextView</span><span class=\"params\">(Context context, AttributeSet attrs, <span class=\"keyword\">int</span> defStyleAttr)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>(context, attrs, defStyleAttr);</span><br><span class=\"line\">        init();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">init</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        mPaint = <span class=\"keyword\">new</span> Paint();</span><br><span class=\"line\">        mPaint.setTextSize(getContext().getResources().getDimension(R.dimen.sp_15));</span><br><span class=\"line\">        mPaint.setColor(Color.RED);</span><br><span class=\"line\">        mPaint.setTextAlign(Paint.Align.LEFT);</span><br><span class=\"line\">        mPaint.setAntiAlias(<span class=\"keyword\">true</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onMeasure</span><span class=\"params\">(<span class=\"keyword\">int</span> widthMeasureSpec, <span class=\"keyword\">int</span> heightMeasureSpec)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (mContent == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">super</span>.onMeasure(widthMeasureSpec,heightMeasureSpec);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        Paint.FontMetricsInt fontMetrics = mPaint.getFontMetricsInt();</span><br><span class=\"line\">        <span class=\"keyword\">int</span> height = fontMetrics.bottom - fontMetrics.top + getPaddingBottom() + getPaddingTop();</span><br><span class=\"line\">        setMeasuredDimension(widthMeasureSpec, MeasureSpec.makeMeasureSpec(height, MeasureSpec.EXACTLY));</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">int</span> top = getPaddingTop();</span><br><span class=\"line\">        <span class=\"keyword\">int</span> bottom = top + fontMetrics.bottom - fontMetrics.top;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> left = getPaddingLeft() + mOffset;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> right = left + mTextWidth;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (mTargetRect == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            mTargetRect = <span class=\"keyword\">new</span> Rect();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        mTargetRect.set(left, top, right, bottom);</span><br><span class=\"line\">        mBaseLine = (mTargetRect.bottom + mTargetRect.top - fontMetrics.bottom - fontMetrics.top) / <span class=\"number\">2</span>;</span><br><span class=\"line\">        mAnimator.cancel();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (mTextWidth &gt; getMeasuredWidth()) &#123;</span><br><span class=\"line\">            mAnimator.start();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onWindowVisibilityChanged</span><span class=\"params\">(<span class=\"keyword\">int</span> visibility)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onWindowVisibilityChanged(visibility);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(visibility == View.VISIBLE)&#123;</span><br><span class=\"line\">            start();</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            cancel();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onDraw</span><span class=\"params\">(Canvas canvas)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onDraw(canvas);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (mContent == <span class=\"keyword\">null</span> || mTargetRect == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        mTargetRect.left = getPaddingLeft() + mOffset;</span><br><span class=\"line\">        mTargetRect.right = mTargetRect.left + mTextWidth;</span><br><span class=\"line\">        canvas.drawText(mContent, mTargetRect.left, mBaseLine, mPaint);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setText</span><span class=\"params\">(String text)</span> </span>&#123;</span><br><span class=\"line\">        mContent = text;</span><br><span class=\"line\">        mTextWidth = (<span class=\"keyword\">int</span>) (mPaint.measureText(mContent, <span class=\"number\">0</span>, mContent.length())+<span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(<span class=\"keyword\">null</span> == mAnimator)&#123;</span><br><span class=\"line\">            mAnimator = ValueAnimator.ofFloat(<span class=\"number\">0</span>, mTextWidth);</span><br><span class=\"line\">            mAnimator.addUpdateListener(<span class=\"keyword\">new</span> ValueAnimator.AnimatorUpdateListener() &#123;</span><br><span class=\"line\">                <span class=\"meta\">@Override</span></span><br><span class=\"line\">                <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onAnimationUpdate</span><span class=\"params\">(ValueAnimator valueAnimator)</span> </span>&#123;</span><br><span class=\"line\">                    mOffset -= <span class=\"number\">2</span>;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (mOffset &lt; -mTextWidth) &#123;</span><br><span class=\"line\">                        mOffset = getWidth();</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    invalidate();</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            mAnimator.setRepeatCount(ValueAnimator.INFINITE);</span><br><span class=\"line\">            mAnimator.setRepeatMode(ValueAnimator.REVERSE);</span><br><span class=\"line\">            <span class=\"comment\">//5.为ValueAnimator设置目标对象并开始执行动画</span></span><br><span class=\"line\">            mAnimator.setTarget(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">            mAnimator.setDuration((<span class=\"keyword\">long</span>) (mTextWidth));</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">start</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(<span class=\"keyword\">null</span> != mAnimator &amp;&amp; mTextWidth &gt; getMeasuredWidth())&#123;</span><br><span class=\"line\">            mAnimator.start();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">cancel</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(<span class=\"keyword\">null</span> != mAnimator &amp;&amp; mTextWidth &gt; getMeasuredWidth())&#123;</span><br><span class=\"line\">            mAnimator.cancel();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<p>在项目开发中,有次需要用到跑马灯,使用了系统自带的跑马灯,发现会有点问题.然后就考虑重写了一个跑马灯 textview.<br>","more":"<br>主要思路是 自定义一个画笔工具,自己画出 textview</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MarqueeTextView</span> <span class=\"keyword\">extends</span> <span class=\"title\">View</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> String TAG = MarqueeTextView.class.getSimpleName();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String mContent;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> ValueAnimator mAnimator;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> Paint mPaint;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> mOffset;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> mBaseLine;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Rect mTargetRect;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> mTextWidth = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">MarqueeTextView</span><span class=\"params\">(Context context)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>(context);</span><br><span class=\"line\">        init();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">MarqueeTextView</span><span class=\"params\">(Context context, AttributeSet attrs)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>(context, attrs);</span><br><span class=\"line\">        init();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">MarqueeTextView</span><span class=\"params\">(Context context, AttributeSet attrs, <span class=\"keyword\">int</span> defStyleAttr)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>(context, attrs, defStyleAttr);</span><br><span class=\"line\">        init();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">init</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        mPaint = <span class=\"keyword\">new</span> Paint();</span><br><span class=\"line\">        mPaint.setTextSize(getContext().getResources().getDimension(R.dimen.sp_15));</span><br><span class=\"line\">        mPaint.setColor(Color.RED);</span><br><span class=\"line\">        mPaint.setTextAlign(Paint.Align.LEFT);</span><br><span class=\"line\">        mPaint.setAntiAlias(<span class=\"keyword\">true</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onMeasure</span><span class=\"params\">(<span class=\"keyword\">int</span> widthMeasureSpec, <span class=\"keyword\">int</span> heightMeasureSpec)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (mContent == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">super</span>.onMeasure(widthMeasureSpec,heightMeasureSpec);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        Paint.FontMetricsInt fontMetrics = mPaint.getFontMetricsInt();</span><br><span class=\"line\">        <span class=\"keyword\">int</span> height = fontMetrics.bottom - fontMetrics.top + getPaddingBottom() + getPaddingTop();</span><br><span class=\"line\">        setMeasuredDimension(widthMeasureSpec, MeasureSpec.makeMeasureSpec(height, MeasureSpec.EXACTLY));</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">int</span> top = getPaddingTop();</span><br><span class=\"line\">        <span class=\"keyword\">int</span> bottom = top + fontMetrics.bottom - fontMetrics.top;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> left = getPaddingLeft() + mOffset;</span><br><span class=\"line\">        <span class=\"keyword\">int</span> right = left + mTextWidth;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (mTargetRect == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            mTargetRect = <span class=\"keyword\">new</span> Rect();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        mTargetRect.set(left, top, right, bottom);</span><br><span class=\"line\">        mBaseLine = (mTargetRect.bottom + mTargetRect.top - fontMetrics.bottom - fontMetrics.top) / <span class=\"number\">2</span>;</span><br><span class=\"line\">        mAnimator.cancel();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (mTextWidth &gt; getMeasuredWidth()) &#123;</span><br><span class=\"line\">            mAnimator.start();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onWindowVisibilityChanged</span><span class=\"params\">(<span class=\"keyword\">int</span> visibility)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onWindowVisibilityChanged(visibility);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(visibility == View.VISIBLE)&#123;</span><br><span class=\"line\">            start();</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            cancel();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> <span class=\"title\">onDraw</span><span class=\"params\">(Canvas canvas)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>.onDraw(canvas);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (mContent == <span class=\"keyword\">null</span> || mTargetRect == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        mTargetRect.left = getPaddingLeft() + mOffset;</span><br><span class=\"line\">        mTargetRect.right = mTargetRect.left + mTextWidth;</span><br><span class=\"line\">        canvas.drawText(mContent, mTargetRect.left, mBaseLine, mPaint);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setText</span><span class=\"params\">(String text)</span> </span>&#123;</span><br><span class=\"line\">        mContent = text;</span><br><span class=\"line\">        mTextWidth = (<span class=\"keyword\">int</span>) (mPaint.measureText(mContent, <span class=\"number\">0</span>, mContent.length())+<span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(<span class=\"keyword\">null</span> == mAnimator)&#123;</span><br><span class=\"line\">            mAnimator = ValueAnimator.ofFloat(<span class=\"number\">0</span>, mTextWidth);</span><br><span class=\"line\">            mAnimator.addUpdateListener(<span class=\"keyword\">new</span> ValueAnimator.AnimatorUpdateListener() &#123;</span><br><span class=\"line\">                <span class=\"meta\">@Override</span></span><br><span class=\"line\">                <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onAnimationUpdate</span><span class=\"params\">(ValueAnimator valueAnimator)</span> </span>&#123;</span><br><span class=\"line\">                    mOffset -= <span class=\"number\">2</span>;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> (mOffset &lt; -mTextWidth) &#123;</span><br><span class=\"line\">                        mOffset = getWidth();</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    invalidate();</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">            mAnimator.setRepeatCount(ValueAnimator.INFINITE);</span><br><span class=\"line\">            mAnimator.setRepeatMode(ValueAnimator.REVERSE);</span><br><span class=\"line\">            <span class=\"comment\">//5.为ValueAnimator设置目标对象并开始执行动画</span></span><br><span class=\"line\">            mAnimator.setTarget(<span class=\"keyword\">this</span>);</span><br><span class=\"line\">            mAnimator.setDuration((<span class=\"keyword\">long</span>) (mTextWidth));</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">start</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(<span class=\"keyword\">null</span> != mAnimator &amp;&amp; mTextWidth &gt; getMeasuredWidth())&#123;</span><br><span class=\"line\">            mAnimator.start();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">cancel</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(<span class=\"keyword\">null</span> != mAnimator &amp;&amp; mTextWidth &gt; getMeasuredWidth())&#123;</span><br><span class=\"line\">            mAnimator.cancel();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"Android 获取当前网络连接类型","date":"2017-09-22T01:49:14.000Z","photos":["/imgs/bg2.jpg"],"_content":"android 开发项目中,有时候需要风控为了尽量手机信息,需要传递当前的网络连接类型,就整理了一下 android 中怎样获取网络连接类型\n<!--more-->\n用到的类\n----------\n- `ConnectivityManager`主要管理和网络连接相关的操作 \n- `相关的TelephonyManager`则管理和手机、运营商等的相关信息；WifiManager则管理和wifi相关的信息。\n- `NetworkInfo`类包含了对wifi和mobile两种网络模式连接的详细描述,通过其getState()方法获取的State\n\n添加权限\n----------\n想访问网络状态，首先得添加权限`<uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/>`  \n\n获取系统的网络服务\n----------\n首先要获取到系统的网络服务\n```\nConnectivityManager connManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n```\n如果 connManager 为空,则是无网络.\n\n获取网络类型\n----------\n获取当前网络类型，如果为空，返回无网络\n```\nNetworkInfo activeNetInfo = connManager.getActiveNetworkInfo();\n```\n判断 wifi\n----------\n判断是不是连接的是不是wifi\n```\n NetworkInfo wifiInfo = connManager.getNetworkInfo(ConnectivityManager.TYPE_WIFI);\n        if (null != wifiInfo) {\n            NetworkInfo.State state = wifiInfo.getState();\n            if (null != state)\n                if (state == NetworkInfo.State.CONNECTED || state == NetworkInfo.State.CONNECTING) {\n                    return NETWORN_WIFI;\n                }\n        }\n```\n判断是不是 2g 3g 4g 等\n----------\n如果不是wifi，则判断当前连接的是运营商的哪种网络2g、3g、4g等\n```\n NetworkInfo networkInfo = connManager.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);\n        if (null != networkInfo) {\n            NetworkInfo.State state = networkInfo.getState();\n            String strSubTypeName = networkInfo.getSubtypeName();\n            if (null != state)\n                if (state == NetworkInfo.State.CONNECTED || state == NetworkInfo.State.CONNECTING) {\n                    switch (activeNetInfo.getSubtype()) {\n                        //如果是2g类型\n                        case TelephonyManager.NETWORK_TYPE_GPRS: // 联通2g\n                        case TelephonyManager.NETWORK_TYPE_CDMA: // 电信2g\n                        case TelephonyManager.NETWORK_TYPE_EDGE: // 移动2g\n                        case TelephonyManager.NETWORK_TYPE_1xRTT:\n                        case TelephonyManager.NETWORK_TYPE_IDEN:\n                            return NETWORN_2G;\n                        //如果是3g类型\n                        case TelephonyManager.NETWORK_TYPE_EVDO_A: // 电信3g\n                        case TelephonyManager.NETWORK_TYPE_UMTS:\n                        case TelephonyManager.NETWORK_TYPE_EVDO_0:\n                        case TelephonyManager.NETWORK_TYPE_HSDPA:\n                        case TelephonyManager.NETWORK_TYPE_HSUPA:\n                        case TelephonyManager.NETWORK_TYPE_HSPA:\n                        case TelephonyManager.NETWORK_TYPE_EVDO_B:\n                        case TelephonyManager.NETWORK_TYPE_EHRPD:\n                        case TelephonyManager.NETWORK_TYPE_HSPAP:\n                            return NETWORN_3G;\n                        //如果是4g类型\n                        case TelephonyManager.NETWORK_TYPE_LTE:\n                            return NETWORN_4G;\n                        default:\n                        //中国移动 联通 电信 三种3G制式\n                            if (strSubTypeName.equalsIgnoreCase(\"TD-SCDMA\") || strSubTypeName.equalsIgnoreCase(\"WCDMA\") || strSubTypeName.equalsIgnoreCase(\"CDMA2000\")) {\n                                return NETWORN_3G;\n                            } else {\n                                return NETWORN_MOBILE;\n                            }\n                    }\n                }\n        }\n```\n由此就可以判断出 当前的网络连接类型了.\n完整代码下载路径  <a href=\"https://github.com/lovexinforever/blog_back_up/blob/master/AppInfoUtils.java\" >appinfoutils.java</a>","source":"_posts/Android-获取当前网络连接类型.md","raw":"---\ntitle: Android 获取当前网络连接类型\ndate: 2017-09-22 09:49:14\ntags:\n- wifi\n- android\n- 安卓\n- 网络\ncategories: \n- 技术\n- 日志\n- Android\nphotos: \n- /imgs/bg2.jpg\n---\nandroid 开发项目中,有时候需要风控为了尽量手机信息,需要传递当前的网络连接类型,就整理了一下 android 中怎样获取网络连接类型\n<!--more-->\n用到的类\n----------\n- `ConnectivityManager`主要管理和网络连接相关的操作 \n- `相关的TelephonyManager`则管理和手机、运营商等的相关信息；WifiManager则管理和wifi相关的信息。\n- `NetworkInfo`类包含了对wifi和mobile两种网络模式连接的详细描述,通过其getState()方法获取的State\n\n添加权限\n----------\n想访问网络状态，首先得添加权限`<uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/>`  \n\n获取系统的网络服务\n----------\n首先要获取到系统的网络服务\n```\nConnectivityManager connManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n```\n如果 connManager 为空,则是无网络.\n\n获取网络类型\n----------\n获取当前网络类型，如果为空，返回无网络\n```\nNetworkInfo activeNetInfo = connManager.getActiveNetworkInfo();\n```\n判断 wifi\n----------\n判断是不是连接的是不是wifi\n```\n NetworkInfo wifiInfo = connManager.getNetworkInfo(ConnectivityManager.TYPE_WIFI);\n        if (null != wifiInfo) {\n            NetworkInfo.State state = wifiInfo.getState();\n            if (null != state)\n                if (state == NetworkInfo.State.CONNECTED || state == NetworkInfo.State.CONNECTING) {\n                    return NETWORN_WIFI;\n                }\n        }\n```\n判断是不是 2g 3g 4g 等\n----------\n如果不是wifi，则判断当前连接的是运营商的哪种网络2g、3g、4g等\n```\n NetworkInfo networkInfo = connManager.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);\n        if (null != networkInfo) {\n            NetworkInfo.State state = networkInfo.getState();\n            String strSubTypeName = networkInfo.getSubtypeName();\n            if (null != state)\n                if (state == NetworkInfo.State.CONNECTED || state == NetworkInfo.State.CONNECTING) {\n                    switch (activeNetInfo.getSubtype()) {\n                        //如果是2g类型\n                        case TelephonyManager.NETWORK_TYPE_GPRS: // 联通2g\n                        case TelephonyManager.NETWORK_TYPE_CDMA: // 电信2g\n                        case TelephonyManager.NETWORK_TYPE_EDGE: // 移动2g\n                        case TelephonyManager.NETWORK_TYPE_1xRTT:\n                        case TelephonyManager.NETWORK_TYPE_IDEN:\n                            return NETWORN_2G;\n                        //如果是3g类型\n                        case TelephonyManager.NETWORK_TYPE_EVDO_A: // 电信3g\n                        case TelephonyManager.NETWORK_TYPE_UMTS:\n                        case TelephonyManager.NETWORK_TYPE_EVDO_0:\n                        case TelephonyManager.NETWORK_TYPE_HSDPA:\n                        case TelephonyManager.NETWORK_TYPE_HSUPA:\n                        case TelephonyManager.NETWORK_TYPE_HSPA:\n                        case TelephonyManager.NETWORK_TYPE_EVDO_B:\n                        case TelephonyManager.NETWORK_TYPE_EHRPD:\n                        case TelephonyManager.NETWORK_TYPE_HSPAP:\n                            return NETWORN_3G;\n                        //如果是4g类型\n                        case TelephonyManager.NETWORK_TYPE_LTE:\n                            return NETWORN_4G;\n                        default:\n                        //中国移动 联通 电信 三种3G制式\n                            if (strSubTypeName.equalsIgnoreCase(\"TD-SCDMA\") || strSubTypeName.equalsIgnoreCase(\"WCDMA\") || strSubTypeName.equalsIgnoreCase(\"CDMA2000\")) {\n                                return NETWORN_3G;\n                            } else {\n                                return NETWORN_MOBILE;\n                            }\n                    }\n                }\n        }\n```\n由此就可以判断出 当前的网络连接类型了.\n完整代码下载路径  <a href=\"https://github.com/lovexinforever/blog_back_up/blob/master/AppInfoUtils.java\" >appinfoutils.java</a>","slug":"Android-获取当前网络连接类型","published":1,"updated":"2018-05-02T05:55:01.745Z","comments":1,"layout":"post","link":"","_id":"cjhio9nny00066bfy2ajw8ksx","content":"<p>android 开发项目中,有时候需要风控为了尽量手机信息,需要传递当前的网络连接类型,就整理了一下 android 中怎样获取网络连接类型<br><a id=\"more\"></a></p>\n<h2 id=\"用到的类\"><a href=\"#用到的类\" class=\"headerlink\" title=\"用到的类\"></a>用到的类</h2><ul>\n<li><code>ConnectivityManager</code>主要管理和网络连接相关的操作 </li>\n<li><code>相关的TelephonyManager</code>则管理和手机、运营商等的相关信息；WifiManager则管理和wifi相关的信息。</li>\n<li><code>NetworkInfo</code>类包含了对wifi和mobile两种网络模式连接的详细描述,通过其getState()方法获取的State</li>\n</ul>\n<h2 id=\"添加权限\"><a href=\"#添加权限\" class=\"headerlink\" title=\"添加权限\"></a>添加权限</h2><p>想访问网络状态，首先得添加权限<code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;</code>  </p>\n<h2 id=\"获取系统的网络服务\"><a href=\"#获取系统的网络服务\" class=\"headerlink\" title=\"获取系统的网络服务\"></a>获取系统的网络服务</h2><p>首先要获取到系统的网络服务<br><figure class=\"highlight mipsasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ConnectivityManager connManager = (ConnectivityManager) <span class=\"built_in\">context</span>.getSystemService(<span class=\"built_in\">Context</span>.CONNECTIVITY_SERVICE)<span class=\"comment\">;</span></span><br></pre></td></tr></table></figure></p>\n<p>如果 connManager 为空,则是无网络.</p>\n<h2 id=\"获取网络类型\"><a href=\"#获取网络类型\" class=\"headerlink\" title=\"获取网络类型\"></a>获取网络类型</h2><p>获取当前网络类型，如果为空，返回无网络<br><figure class=\"highlight ebnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">NetworkInfo activeNetInfo</span> = connManager.getActiveNetworkInfo();</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"判断-wifi\"><a href=\"#判断-wifi\" class=\"headerlink\" title=\"判断 wifi\"></a>判断 wifi</h2><p>判断是不是连接的是不是wifi<br><figure class=\"highlight pf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">NetworkInfo wifiInfo = connManager.getNetworkInfo(ConnectivityManager.TYPE_WIFI);</span><br><span class=\"line\">       if (null != wifiInfo) &#123;</span><br><span class=\"line\">           NetworkInfo.State <span class=\"keyword\">state</span> = wifiInfo.getState();</span><br><span class=\"line\">           if (null != <span class=\"keyword\">state</span>)</span><br><span class=\"line\">               if (<span class=\"keyword\">state</span> == NetworkInfo.State.CONNECTED || <span class=\"keyword\">state</span> == NetworkInfo.State.CONNECTING) &#123;</span><br><span class=\"line\">                   return NETWORN_WIFI;</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">       &#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"判断是不是-2g-3g-4g-等\"><a href=\"#判断是不是-2g-3g-4g-等\" class=\"headerlink\" title=\"判断是不是 2g 3g 4g 等\"></a>判断是不是 2g 3g 4g 等</h2><p>如果不是wifi，则判断当前连接的是运营商的哪种网络2g、3g、4g等<br><figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">NetworkInfo networkInfo = connManager.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);</span><br><span class=\"line\">       <span class=\"keyword\">if</span> (<span class=\"literal\">null</span> != networkInfo) &#123;</span><br><span class=\"line\">           NetworkInfo.State state = networkInfo.getState();</span><br><span class=\"line\">           String strSubTypeName = networkInfo.getSubtypeName();</span><br><span class=\"line\">           <span class=\"keyword\">if</span> (<span class=\"literal\">null</span> != state)</span><br><span class=\"line\">               <span class=\"keyword\">if</span> (state == NetworkInfo.State.CONNECTED || state == NetworkInfo.State.CONNECTING) &#123;</span><br><span class=\"line\">                   <span class=\"keyword\">switch</span> (activeNetInfo.getSubtype()) &#123;</span><br><span class=\"line\">                       <span class=\"comment\">//如果是2g类型</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_GPRS:</span> <span class=\"comment\">// 联通2g</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_CDMA:</span> <span class=\"comment\">// 电信2g</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_EDGE:</span> <span class=\"comment\">// 移动2g</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_1xRTT:</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_IDEN:</span></span><br><span class=\"line\">                           <span class=\"keyword\">return</span> NETWORN_2G;</span><br><span class=\"line\">                       <span class=\"comment\">//如果是3g类型</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_EVDO_A:</span> <span class=\"comment\">// 电信3g</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_UMTS:</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_EVDO_0:</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_HSDPA:</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_HSUPA:</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_HSPA:</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_EVDO_B:</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_EHRPD:</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_HSPAP:</span></span><br><span class=\"line\">                           <span class=\"keyword\">return</span> NETWORN_3G;</span><br><span class=\"line\">                       <span class=\"comment\">//如果是4g类型</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_LTE:</span></span><br><span class=\"line\">                           <span class=\"keyword\">return</span> NETWORN_4G;</span><br><span class=\"line\"><span class=\"symbol\">                       default:</span></span><br><span class=\"line\">                       <span class=\"comment\">//中国移动 联通 电信 三种3G制式</span></span><br><span class=\"line\">                           <span class=\"keyword\">if</span> (strSubTypeName.equalsIgnoreCase(<span class=\"string\">\"TD-SCDMA\"</span>) || strSubTypeName.equalsIgnoreCase(<span class=\"string\">\"WCDMA\"</span>) || strSubTypeName.equalsIgnoreCase(<span class=\"string\">\"CDMA2000\"</span>)) &#123;</span><br><span class=\"line\">                               <span class=\"keyword\">return</span> NETWORN_3G;</span><br><span class=\"line\">                           &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                               <span class=\"keyword\">return</span> NETWORN_MOBILE;</span><br><span class=\"line\">                           &#125;</span><br><span class=\"line\">                   &#125;</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">       &#125;</span><br></pre></td></tr></table></figure></p>\n<p>由此就可以判断出 当前的网络连接类型了.<br>完整代码下载路径  <a href=\"https://github.com/lovexinforever/blog_back_up/blob/master/AppInfoUtils.java\" target=\"_blank\" rel=\"noopener\">appinfoutils.java</a></p>\n","site":{"data":{}},"excerpt":"<p>android 开发项目中,有时候需要风控为了尽量手机信息,需要传递当前的网络连接类型,就整理了一下 android 中怎样获取网络连接类型<br>","more":"</p>\n<h2 id=\"用到的类\"><a href=\"#用到的类\" class=\"headerlink\" title=\"用到的类\"></a>用到的类</h2><ul>\n<li><code>ConnectivityManager</code>主要管理和网络连接相关的操作 </li>\n<li><code>相关的TelephonyManager</code>则管理和手机、运营商等的相关信息；WifiManager则管理和wifi相关的信息。</li>\n<li><code>NetworkInfo</code>类包含了对wifi和mobile两种网络模式连接的详细描述,通过其getState()方法获取的State</li>\n</ul>\n<h2 id=\"添加权限\"><a href=\"#添加权限\" class=\"headerlink\" title=\"添加权限\"></a>添加权限</h2><p>想访问网络状态，首先得添加权限<code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;</code>  </p>\n<h2 id=\"获取系统的网络服务\"><a href=\"#获取系统的网络服务\" class=\"headerlink\" title=\"获取系统的网络服务\"></a>获取系统的网络服务</h2><p>首先要获取到系统的网络服务<br><figure class=\"highlight mipsasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ConnectivityManager connManager = (ConnectivityManager) <span class=\"built_in\">context</span>.getSystemService(<span class=\"built_in\">Context</span>.CONNECTIVITY_SERVICE)<span class=\"comment\">;</span></span><br></pre></td></tr></table></figure></p>\n<p>如果 connManager 为空,则是无网络.</p>\n<h2 id=\"获取网络类型\"><a href=\"#获取网络类型\" class=\"headerlink\" title=\"获取网络类型\"></a>获取网络类型</h2><p>获取当前网络类型，如果为空，返回无网络<br><figure class=\"highlight ebnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">NetworkInfo activeNetInfo</span> = connManager.getActiveNetworkInfo();</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"判断-wifi\"><a href=\"#判断-wifi\" class=\"headerlink\" title=\"判断 wifi\"></a>判断 wifi</h2><p>判断是不是连接的是不是wifi<br><figure class=\"highlight pf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">NetworkInfo wifiInfo = connManager.getNetworkInfo(ConnectivityManager.TYPE_WIFI);</span><br><span class=\"line\">       if (null != wifiInfo) &#123;</span><br><span class=\"line\">           NetworkInfo.State <span class=\"keyword\">state</span> = wifiInfo.getState();</span><br><span class=\"line\">           if (null != <span class=\"keyword\">state</span>)</span><br><span class=\"line\">               if (<span class=\"keyword\">state</span> == NetworkInfo.State.CONNECTED || <span class=\"keyword\">state</span> == NetworkInfo.State.CONNECTING) &#123;</span><br><span class=\"line\">                   return NETWORN_WIFI;</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">       &#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"判断是不是-2g-3g-4g-等\"><a href=\"#判断是不是-2g-3g-4g-等\" class=\"headerlink\" title=\"判断是不是 2g 3g 4g 等\"></a>判断是不是 2g 3g 4g 等</h2><p>如果不是wifi，则判断当前连接的是运营商的哪种网络2g、3g、4g等<br><figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">NetworkInfo networkInfo = connManager.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);</span><br><span class=\"line\">       <span class=\"keyword\">if</span> (<span class=\"literal\">null</span> != networkInfo) &#123;</span><br><span class=\"line\">           NetworkInfo.State state = networkInfo.getState();</span><br><span class=\"line\">           String strSubTypeName = networkInfo.getSubtypeName();</span><br><span class=\"line\">           <span class=\"keyword\">if</span> (<span class=\"literal\">null</span> != state)</span><br><span class=\"line\">               <span class=\"keyword\">if</span> (state == NetworkInfo.State.CONNECTED || state == NetworkInfo.State.CONNECTING) &#123;</span><br><span class=\"line\">                   <span class=\"keyword\">switch</span> (activeNetInfo.getSubtype()) &#123;</span><br><span class=\"line\">                       <span class=\"comment\">//如果是2g类型</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_GPRS:</span> <span class=\"comment\">// 联通2g</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_CDMA:</span> <span class=\"comment\">// 电信2g</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_EDGE:</span> <span class=\"comment\">// 移动2g</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_1xRTT:</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_IDEN:</span></span><br><span class=\"line\">                           <span class=\"keyword\">return</span> NETWORN_2G;</span><br><span class=\"line\">                       <span class=\"comment\">//如果是3g类型</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_EVDO_A:</span> <span class=\"comment\">// 电信3g</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_UMTS:</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_EVDO_0:</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_HSDPA:</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_HSUPA:</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_HSPA:</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_EVDO_B:</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_EHRPD:</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_HSPAP:</span></span><br><span class=\"line\">                           <span class=\"keyword\">return</span> NETWORN_3G;</span><br><span class=\"line\">                       <span class=\"comment\">//如果是4g类型</span></span><br><span class=\"line\">                       <span class=\"keyword\">case</span> TelephonyManager.<span class=\"string\">NETWORK_TYPE_LTE:</span></span><br><span class=\"line\">                           <span class=\"keyword\">return</span> NETWORN_4G;</span><br><span class=\"line\"><span class=\"symbol\">                       default:</span></span><br><span class=\"line\">                       <span class=\"comment\">//中国移动 联通 电信 三种3G制式</span></span><br><span class=\"line\">                           <span class=\"keyword\">if</span> (strSubTypeName.equalsIgnoreCase(<span class=\"string\">\"TD-SCDMA\"</span>) || strSubTypeName.equalsIgnoreCase(<span class=\"string\">\"WCDMA\"</span>) || strSubTypeName.equalsIgnoreCase(<span class=\"string\">\"CDMA2000\"</span>)) &#123;</span><br><span class=\"line\">                               <span class=\"keyword\">return</span> NETWORN_3G;</span><br><span class=\"line\">                           &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                               <span class=\"keyword\">return</span> NETWORN_MOBILE;</span><br><span class=\"line\">                           &#125;</span><br><span class=\"line\">                   &#125;</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">       &#125;</span><br></pre></td></tr></table></figure></p>\n<p>由此就可以判断出 当前的网络连接类型了.<br>完整代码下载路径  <a href=\"https://github.com/lovexinforever/blog_back_up/blob/master/AppInfoUtils.java\" target=\"_blank\" rel=\"noopener\">appinfoutils.java</a></p>"},{"title":"CSS实现单行、多行文本溢出显示省略号（…）","date":"2017-09-14T09:00:00.000Z","_content":"如果实现单行文本的溢出显示省略号同学们应该都知道用text-overflow:ellipsis属性来，当然还需要加宽度width属来兼容部分浏览。\n<!--more-->\n单行显示\n----------\n### 实现方法\n```\n .singer {\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n        }\n```\n### 效果如图\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170914-170831@2x.png\" />\n\n但是这个属性只支持单行文本的溢出显示省略号，如果我们要实现多行文本溢出显示省略号呢。\n\n多行显示\n----------\n### 实现方法\n```\n .multiline {\n            margin-top: 20px;\n            display: -webkit-box;\n            -webkit-box-orient: vertical;\n            -webkit-line-clamp: 3;\n            overflow: hidden;\n            width: 300px;\n        }\n```\n### 效果如图\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170914-171043@2x.png\" />\n\n\n<a href=\"https://github.com/lovexinforever/blog_demo/tree/master/css%E4%B8%80%E8%A1%8C%E6%88%96%E5%A4%9A%E8%A1%8C%E6%98%BE%E7%A4%BA\">代码下载</a>\n","source":"_posts/CSS实现单行多行文本溢出显示省略号(...).md","raw":"---\ntitle: CSS实现单行、多行文本溢出显示省略号（…）\ndate: 2017-09-14 17:00:00\ntags:\n- CSS3\n- CSS\n- HTML5\n- 单行显示\ncategories:\n- 技术\n- HTML5\n- CSS3\n---\n如果实现单行文本的溢出显示省略号同学们应该都知道用text-overflow:ellipsis属性来，当然还需要加宽度width属来兼容部分浏览。\n<!--more-->\n单行显示\n----------\n### 实现方法\n```\n .singer {\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n        }\n```\n### 效果如图\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170914-170831@2x.png\" />\n\n但是这个属性只支持单行文本的溢出显示省略号，如果我们要实现多行文本溢出显示省略号呢。\n\n多行显示\n----------\n### 实现方法\n```\n .multiline {\n            margin-top: 20px;\n            display: -webkit-box;\n            -webkit-box-orient: vertical;\n            -webkit-line-clamp: 3;\n            overflow: hidden;\n            width: 300px;\n        }\n```\n### 效果如图\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170914-171043@2x.png\" />\n\n\n<a href=\"https://github.com/lovexinforever/blog_demo/tree/master/css%E4%B8%80%E8%A1%8C%E6%88%96%E5%A4%9A%E8%A1%8C%E6%98%BE%E7%A4%BA\">代码下载</a>\n","slug":"CSS实现单行多行文本溢出显示省略号(...)","published":1,"updated":"2018-05-02T05:55:01.745Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhio9nnz00086bfyi07p4v4i","content":"<p>如果实现单行文本的溢出显示省略号同学们应该都知道用text-overflow:ellipsis属性来，当然还需要加宽度width属来兼容部分浏览。<br><a id=\"more\"></a></p>\n<h2 id=\"单行显示\"><a href=\"#单行显示\" class=\"headerlink\" title=\"单行显示\"></a>单行显示</h2><h3 id=\"实现方法\"><a href=\"#实现方法\" class=\"headerlink\" title=\"实现方法\"></a>实现方法</h3><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.singer</span> &#123;</span><br><span class=\"line\">           <span class=\"attribute\">overflow</span>: hidden;</span><br><span class=\"line\">           <span class=\"attribute\">text-overflow</span>: ellipsis;</span><br><span class=\"line\">           <span class=\"attribute\">white-space</span>: nowrap;</span><br><span class=\"line\">       &#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"效果如图\"><a href=\"#效果如图\" class=\"headerlink\" title=\"效果如图\"></a>效果如图</h3><p><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170914-170831@2x.png\"></p>\n<p>但是这个属性只支持单行文本的溢出显示省略号，如果我们要实现多行文本溢出显示省略号呢。</p>\n<h2 id=\"多行显示\"><a href=\"#多行显示\" class=\"headerlink\" title=\"多行显示\"></a>多行显示</h2><h3 id=\"实现方法-1\"><a href=\"#实现方法-1\" class=\"headerlink\" title=\"实现方法\"></a>实现方法</h3><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.multiline</span> &#123;</span><br><span class=\"line\">           <span class=\"attribute\">margin-top</span>: <span class=\"number\">20px</span>;</span><br><span class=\"line\">           <span class=\"attribute\">display</span>: -webkit-box;</span><br><span class=\"line\">           <span class=\"attribute\">-webkit-box-orient</span>: vertical;</span><br><span class=\"line\">           <span class=\"attribute\">-webkit-line-clamp</span>: <span class=\"number\">3</span>;</span><br><span class=\"line\">           <span class=\"attribute\">overflow</span>: hidden;</span><br><span class=\"line\">           <span class=\"attribute\">width</span>: <span class=\"number\">300px</span>;</span><br><span class=\"line\">       &#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"效果如图-1\"><a href=\"#效果如图-1\" class=\"headerlink\" title=\"效果如图\"></a>效果如图</h3><p><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170914-171043@2x.png\"></p>\n<p><a href=\"https://github.com/lovexinforever/blog_demo/tree/master/css%E4%B8%80%E8%A1%8C%E6%88%96%E5%A4%9A%E8%A1%8C%E6%98%BE%E7%A4%BA\" target=\"_blank\" rel=\"noopener\">代码下载</a></p>\n","site":{"data":{}},"excerpt":"<p>如果实现单行文本的溢出显示省略号同学们应该都知道用text-overflow:ellipsis属性来，当然还需要加宽度width属来兼容部分浏览。<br>","more":"</p>\n<h2 id=\"单行显示\"><a href=\"#单行显示\" class=\"headerlink\" title=\"单行显示\"></a>单行显示</h2><h3 id=\"实现方法\"><a href=\"#实现方法\" class=\"headerlink\" title=\"实现方法\"></a>实现方法</h3><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.singer</span> &#123;</span><br><span class=\"line\">           <span class=\"attribute\">overflow</span>: hidden;</span><br><span class=\"line\">           <span class=\"attribute\">text-overflow</span>: ellipsis;</span><br><span class=\"line\">           <span class=\"attribute\">white-space</span>: nowrap;</span><br><span class=\"line\">       &#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"效果如图\"><a href=\"#效果如图\" class=\"headerlink\" title=\"效果如图\"></a>效果如图</h3><p><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170914-170831@2x.png\"></p>\n<p>但是这个属性只支持单行文本的溢出显示省略号，如果我们要实现多行文本溢出显示省略号呢。</p>\n<h2 id=\"多行显示\"><a href=\"#多行显示\" class=\"headerlink\" title=\"多行显示\"></a>多行显示</h2><h3 id=\"实现方法-1\"><a href=\"#实现方法-1\" class=\"headerlink\" title=\"实现方法\"></a>实现方法</h3><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.multiline</span> &#123;</span><br><span class=\"line\">           <span class=\"attribute\">margin-top</span>: <span class=\"number\">20px</span>;</span><br><span class=\"line\">           <span class=\"attribute\">display</span>: -webkit-box;</span><br><span class=\"line\">           <span class=\"attribute\">-webkit-box-orient</span>: vertical;</span><br><span class=\"line\">           <span class=\"attribute\">-webkit-line-clamp</span>: <span class=\"number\">3</span>;</span><br><span class=\"line\">           <span class=\"attribute\">overflow</span>: hidden;</span><br><span class=\"line\">           <span class=\"attribute\">width</span>: <span class=\"number\">300px</span>;</span><br><span class=\"line\">       &#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"效果如图-1\"><a href=\"#效果如图-1\" class=\"headerlink\" title=\"效果如图\"></a>效果如图</h3><p><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170914-171043@2x.png\"></p>\n<p><a href=\"https://github.com/lovexinforever/blog_demo/tree/master/css%E4%B8%80%E8%A1%8C%E6%88%96%E5%A4%9A%E8%A1%8C%E6%98%BE%E7%A4%BA\" target=\"_blank\" rel=\"noopener\">代码下载</a></p>"},{"title":"Geektool 使用 python + beautiful 实现抓取天气图标","date":"2018-04-20T07:36:36.000Z","essential":true,"_content":"<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/WechatIMG1.jpeg\"/>\n上篇文章 <a href=\"https://lovexinforever.github.io/2018/04/19/Geektool-%E4%BD%BF%E7%94%A8-python-%E6%8A%93%E5%8F%96%E5%A4%A9%E6%B0%94%E6%98%BE%E7%A4%BA/\">Geektool 使用 python+beautifulsoup 抓取天气显示</a> 讲解了怎样爬取天气网站的天气.但是界面上显示宗师感觉不好看,想显示天气的图标,翻看了几个天气网站,并没有我满意的天气图标.于是就打算自己去做一个了.\n<!--more-->\n\n开发思路\n----------\n首先上篇文章已经爬取到天气状态如晴朗,局部多云等. 由于也是刚刚弄,并不知道天气状态到底对应几个.<s>目前也只是遇到三种</s>,后面遇到的话再加下逻辑.然后根据天气状态下载对应的天气图标到计算机本地目录,最后用 geektool 显示本地图片.\n\n更新一下天气状态脚本\n\n脚本\n----------\n```\n#!/usr/bin/env python\n#-*- coding: UTF-8 -*-  \nimport sys\nreload(sys)\nsys.setdefaultencoding('utf-8')\nimport urllib\nimport os\nfrom bs4 import BeautifulSoup\nimport re\nif __name__ == '__main__':\n\tresp=urllib.urlopen('https://weather.com/zh-CN/weather/today/l/5ef652409badc75c97292b401c6db8e8e55a3157f300dc0997bea96343e4a20a')\n\tsoup=BeautifulSoup(resp,'html.parser')\n\ttagToday=soup.find('div',attrs={'class':'today_nowcard-phrase'})\n\turl=''\n\tif \"晴朗\" == tagToday.get_text():\n\t\turl='https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/20101027235021742.png'\n\telif \"局部多云\" == tagToday.get_text():\n\t\turl='https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/20101027235020501.png'\n\telif \"大部多云\" == tagToday.get_text():\n\t\turl='https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/20101027235019364.png'\n\telif \"小雨\" == tagToday.get_text():\n\t\turl='https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/20101027235021677.png'\n\telif \"多云\" == tagToday.get_text():\n\t\turl=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/20101027235021422.png\"\n\telif \"雨\" == tagToday.get_text():\n\t\turl=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/20101027235021502.png\"\n\telse:\n\t\turl='https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/20101027235020136.png'\n\turllib.urlretrieve(url, '/tmp/weather.png')\n\tprint(tagToday.get_text())\n```\n<s>url 对应相应状态的 天气图标地址.目前我只遇到过这三种,后面遇到其他的再添加对应的状态.</s>\n更新一下天气状态.\n\n\n相应的天气图标可以在我的 github 上面下载. <a href=\"https://github.com/lovexinforever/blog_back_up/tree/master/blog_photos\">天气图标</a>","source":"_posts/Geektool-使用-python-beautiful-实现抓取天气图标.md","raw":"---\ntitle: Geektool 使用 python + beautiful 实现抓取天气图标\ndate: 2018-04-20 15:36:36\ntags:\n- python\n- geektool\n- 天气\n- beautifulsoup\ncategories:\n- 技术\n- Python\nessential: true\n---\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/WechatIMG1.jpeg\"/>\n上篇文章 <a href=\"https://lovexinforever.github.io/2018/04/19/Geektool-%E4%BD%BF%E7%94%A8-python-%E6%8A%93%E5%8F%96%E5%A4%A9%E6%B0%94%E6%98%BE%E7%A4%BA/\">Geektool 使用 python+beautifulsoup 抓取天气显示</a> 讲解了怎样爬取天气网站的天气.但是界面上显示宗师感觉不好看,想显示天气的图标,翻看了几个天气网站,并没有我满意的天气图标.于是就打算自己去做一个了.\n<!--more-->\n\n开发思路\n----------\n首先上篇文章已经爬取到天气状态如晴朗,局部多云等. 由于也是刚刚弄,并不知道天气状态到底对应几个.<s>目前也只是遇到三种</s>,后面遇到的话再加下逻辑.然后根据天气状态下载对应的天气图标到计算机本地目录,最后用 geektool 显示本地图片.\n\n更新一下天气状态脚本\n\n脚本\n----------\n```\n#!/usr/bin/env python\n#-*- coding: UTF-8 -*-  \nimport sys\nreload(sys)\nsys.setdefaultencoding('utf-8')\nimport urllib\nimport os\nfrom bs4 import BeautifulSoup\nimport re\nif __name__ == '__main__':\n\tresp=urllib.urlopen('https://weather.com/zh-CN/weather/today/l/5ef652409badc75c97292b401c6db8e8e55a3157f300dc0997bea96343e4a20a')\n\tsoup=BeautifulSoup(resp,'html.parser')\n\ttagToday=soup.find('div',attrs={'class':'today_nowcard-phrase'})\n\turl=''\n\tif \"晴朗\" == tagToday.get_text():\n\t\turl='https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/20101027235021742.png'\n\telif \"局部多云\" == tagToday.get_text():\n\t\turl='https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/20101027235020501.png'\n\telif \"大部多云\" == tagToday.get_text():\n\t\turl='https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/20101027235019364.png'\n\telif \"小雨\" == tagToday.get_text():\n\t\turl='https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/20101027235021677.png'\n\telif \"多云\" == tagToday.get_text():\n\t\turl=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/20101027235021422.png\"\n\telif \"雨\" == tagToday.get_text():\n\t\turl=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/20101027235021502.png\"\n\telse:\n\t\turl='https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/20101027235020136.png'\n\turllib.urlretrieve(url, '/tmp/weather.png')\n\tprint(tagToday.get_text())\n```\n<s>url 对应相应状态的 天气图标地址.目前我只遇到过这三种,后面遇到其他的再添加对应的状态.</s>\n更新一下天气状态.\n\n\n相应的天气图标可以在我的 github 上面下载. <a href=\"https://github.com/lovexinforever/blog_back_up/tree/master/blog_photos\">天气图标</a>","slug":"Geektool-使用-python-beautiful-实现抓取天气图标","published":1,"updated":"2018-05-08T05:05:12.254Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhio9no100096bfy9hztnf9p","content":"<p><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/WechatIMG1.jpeg\"><br>上篇文章 <a href=\"https://lovexinforever.github.io/2018/04/19/Geektool-%E4%BD%BF%E7%94%A8-python-%E6%8A%93%E5%8F%96%E5%A4%A9%E6%B0%94%E6%98%BE%E7%A4%BA/\">Geektool 使用 python+beautifulsoup 抓取天气显示</a> 讲解了怎样爬取天气网站的天气.但是界面上显示宗师感觉不好看,想显示天气的图标,翻看了几个天气网站,并没有我满意的天气图标.于是就打算自己去做一个了.<br><a id=\"more\"></a></p>\n<h2 id=\"开发思路\"><a href=\"#开发思路\" class=\"headerlink\" title=\"开发思路\"></a>开发思路</h2><p>首先上篇文章已经爬取到天气状态如晴朗,局部多云等. 由于也是刚刚弄,并不知道天气状态到底对应几个.<s>目前也只是遇到三种</s>,后面遇到的话再加下逻辑.然后根据天气状态下载对应的天气图标到计算机本地目录,最后用 geektool 显示本地图片.</p>\n<p>更新一下天气状态脚本</p>\n<h2 id=\"脚本\"><a href=\"#脚本\" class=\"headerlink\" title=\"脚本\"></a>脚本</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/env python</span></span><br><span class=\"line\"><span class=\"comment\">#-*- coding: UTF-8 -*-  </span></span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\">reload(sys)</span><br><span class=\"line\">sys.setdefaultencoding(<span class=\"string\">'utf-8'</span>)</span><br><span class=\"line\"><span class=\"keyword\">import</span> urllib</span><br><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\"><span class=\"keyword\">from</span> bs4 <span class=\"keyword\">import</span> BeautifulSoup</span><br><span class=\"line\"><span class=\"keyword\">import</span> re</span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">'__main__'</span>:</span><br><span class=\"line\">\tresp=urllib.urlopen(<span class=\"string\">'https://weather.com/zh-CN/weather/today/l/5ef652409badc75c97292b401c6db8e8e55a3157f300dc0997bea96343e4a20a'</span>)</span><br><span class=\"line\">\tsoup=BeautifulSoup(resp,<span class=\"string\">'html.parser'</span>)</span><br><span class=\"line\">\ttagToday=soup.find(<span class=\"string\">'div'</span>,attrs=&#123;<span class=\"string\">'class'</span>:<span class=\"string\">'today_nowcard-phrase'</span>&#125;)</span><br><span class=\"line\">\turl=<span class=\"string\">''</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> <span class=\"string\">\"晴朗\"</span> == tagToday.get_text():</span><br><span class=\"line\">\t\turl=<span class=\"string\">'https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/20101027235021742.png'</span></span><br><span class=\"line\">\t<span class=\"keyword\">elif</span> <span class=\"string\">\"局部多云\"</span> == tagToday.get_text():</span><br><span class=\"line\">\t\turl=<span class=\"string\">'https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/20101027235020501.png'</span></span><br><span class=\"line\">\t<span class=\"keyword\">elif</span> <span class=\"string\">\"大部多云\"</span> == tagToday.get_text():</span><br><span class=\"line\">\t\turl=<span class=\"string\">'https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/20101027235019364.png'</span></span><br><span class=\"line\">\t<span class=\"keyword\">elif</span> <span class=\"string\">\"小雨\"</span> == tagToday.get_text():</span><br><span class=\"line\">\t\turl=<span class=\"string\">'https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/20101027235021677.png'</span></span><br><span class=\"line\">\t<span class=\"keyword\">elif</span> <span class=\"string\">\"多云\"</span> == tagToday.get_text():</span><br><span class=\"line\">\t\turl=<span class=\"string\">\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/20101027235021422.png\"</span></span><br><span class=\"line\">\t<span class=\"keyword\">elif</span> <span class=\"string\">\"雨\"</span> == tagToday.get_text():</span><br><span class=\"line\">\t\turl=<span class=\"string\">\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/20101027235021502.png\"</span></span><br><span class=\"line\">\t<span class=\"keyword\">else</span>:</span><br><span class=\"line\">\t\turl=<span class=\"string\">'https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/20101027235020136.png'</span></span><br><span class=\"line\">\turllib.urlretrieve(url, <span class=\"string\">'/tmp/weather.png'</span>)</span><br><span class=\"line\">\tprint(tagToday.get_text())</span><br></pre></td></tr></table></figure>\n<p><s>url 对应相应状态的 天气图标地址.目前我只遇到过这三种,后面遇到其他的再添加对应的状态.</s><br>更新一下天气状态.</p>\n<p>相应的天气图标可以在我的 github 上面下载. <a href=\"https://github.com/lovexinforever/blog_back_up/tree/master/blog_photos\" target=\"_blank\" rel=\"noopener\">天气图标</a></p>\n","site":{"data":{}},"excerpt":"<p><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/WechatIMG1.jpeg\"><br>上篇文章 <a href=\"https://lovexinforever.github.io/2018/04/19/Geektool-%E4%BD%BF%E7%94%A8-python-%E6%8A%93%E5%8F%96%E5%A4%A9%E6%B0%94%E6%98%BE%E7%A4%BA/\">Geektool 使用 python+beautifulsoup 抓取天气显示</a> 讲解了怎样爬取天气网站的天气.但是界面上显示宗师感觉不好看,想显示天气的图标,翻看了几个天气网站,并没有我满意的天气图标.于是就打算自己去做一个了.<br>","more":"</p>\n<h2 id=\"开发思路\"><a href=\"#开发思路\" class=\"headerlink\" title=\"开发思路\"></a>开发思路</h2><p>首先上篇文章已经爬取到天气状态如晴朗,局部多云等. 由于也是刚刚弄,并不知道天气状态到底对应几个.<s>目前也只是遇到三种</s>,后面遇到的话再加下逻辑.然后根据天气状态下载对应的天气图标到计算机本地目录,最后用 geektool 显示本地图片.</p>\n<p>更新一下天气状态脚本</p>\n<h2 id=\"脚本\"><a href=\"#脚本\" class=\"headerlink\" title=\"脚本\"></a>脚本</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/env python</span></span><br><span class=\"line\"><span class=\"comment\">#-*- coding: UTF-8 -*-  </span></span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\">reload(sys)</span><br><span class=\"line\">sys.setdefaultencoding(<span class=\"string\">'utf-8'</span>)</span><br><span class=\"line\"><span class=\"keyword\">import</span> urllib</span><br><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\"><span class=\"keyword\">from</span> bs4 <span class=\"keyword\">import</span> BeautifulSoup</span><br><span class=\"line\"><span class=\"keyword\">import</span> re</span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">'__main__'</span>:</span><br><span class=\"line\">\tresp=urllib.urlopen(<span class=\"string\">'https://weather.com/zh-CN/weather/today/l/5ef652409badc75c97292b401c6db8e8e55a3157f300dc0997bea96343e4a20a'</span>)</span><br><span class=\"line\">\tsoup=BeautifulSoup(resp,<span class=\"string\">'html.parser'</span>)</span><br><span class=\"line\">\ttagToday=soup.find(<span class=\"string\">'div'</span>,attrs=&#123;<span class=\"string\">'class'</span>:<span class=\"string\">'today_nowcard-phrase'</span>&#125;)</span><br><span class=\"line\">\turl=<span class=\"string\">''</span></span><br><span class=\"line\">\t<span class=\"keyword\">if</span> <span class=\"string\">\"晴朗\"</span> == tagToday.get_text():</span><br><span class=\"line\">\t\turl=<span class=\"string\">'https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/20101027235021742.png'</span></span><br><span class=\"line\">\t<span class=\"keyword\">elif</span> <span class=\"string\">\"局部多云\"</span> == tagToday.get_text():</span><br><span class=\"line\">\t\turl=<span class=\"string\">'https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/20101027235020501.png'</span></span><br><span class=\"line\">\t<span class=\"keyword\">elif</span> <span class=\"string\">\"大部多云\"</span> == tagToday.get_text():</span><br><span class=\"line\">\t\turl=<span class=\"string\">'https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/20101027235019364.png'</span></span><br><span class=\"line\">\t<span class=\"keyword\">elif</span> <span class=\"string\">\"小雨\"</span> == tagToday.get_text():</span><br><span class=\"line\">\t\turl=<span class=\"string\">'https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/20101027235021677.png'</span></span><br><span class=\"line\">\t<span class=\"keyword\">elif</span> <span class=\"string\">\"多云\"</span> == tagToday.get_text():</span><br><span class=\"line\">\t\turl=<span class=\"string\">\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/20101027235021422.png\"</span></span><br><span class=\"line\">\t<span class=\"keyword\">elif</span> <span class=\"string\">\"雨\"</span> == tagToday.get_text():</span><br><span class=\"line\">\t\turl=<span class=\"string\">\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/20101027235021502.png\"</span></span><br><span class=\"line\">\t<span class=\"keyword\">else</span>:</span><br><span class=\"line\">\t\turl=<span class=\"string\">'https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/20101027235020136.png'</span></span><br><span class=\"line\">\turllib.urlretrieve(url, <span class=\"string\">'/tmp/weather.png'</span>)</span><br><span class=\"line\">\tprint(tagToday.get_text())</span><br></pre></td></tr></table></figure>\n<p><s>url 对应相应状态的 天气图标地址.目前我只遇到过这三种,后面遇到其他的再添加对应的状态.</s><br>更新一下天气状态.</p>\n<p>相应的天气图标可以在我的 github 上面下载. <a href=\"https://github.com/lovexinforever/blog_back_up/tree/master/blog_photos\" target=\"_blank\" rel=\"noopener\">天气图标</a></p>"},{"title":"Geektool 使用 python+beautifulsoup 抓取天气显示","date":"2018-04-19T11:14:32.000Z","essential":true,"_content":"<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/photos/2018-4-19_%E6%B1%BD%E8%BD%A6.jpeg\" />\n闲来无事,就想着捣鼓捣鼓电脑,想在电脑桌面实时显示天气状况.就用 geektool + python + beautifulsoup 写了一个抓取天气网站的脚本来显示.\n<!--more-->\n\n效果\n----------\n先看实现出来的效果\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/QQ20180420-091325%402x.png\" class=\"full-image\">\n\n实现思路\n----------\n用 python 去爬取天气网站的内容,解析抓取到的内容,提取今日的温度信息和天气天气,然后显示在 geektool 上面\n\n天气网站\n----------\n我这边选用的是 <a href=\"https://weather.com/\">weather channel</a>\n在网站里面把地址切换到你想抓取的地区.\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/QQ20180420-095735%402x.png\" class=\"full-image\">\n如图,可以看到实时温度现在\n```\n<div class=\"today_nowcard-temp\"><span class=\"\">25<sup>°</sup></span></div>\n```\n所以我们只要抓取 class为 `today_nowcard-temp`的标签,获取标签下面的文本内容 就是我们想要的温度信息.\n同理天气状况  只要抓取\n```\n<div class=\"today_nowcard-phrase\">晴朗</div>\n```\n的内容\n\n准备开发\n----------\n使用  `beautifulsoup` 去抓取页面内容.所以我们需要安装.由于 geektool 使用python 的版本是 2.7.10的.所以我们要在 python2.7里面安装 beautifulsoup.\n安装命令\n```\npython -m pip install beautifulsoup4\n```\n然后查看有没有安装成功\n```\npython -m pip list\n```\n如果有显示 beautifulsoup4的包就是安装成功了.如果没有的话就没有安装成功.\n\n如果你那么不幸运没有安装成功.就只能去 <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/download/4.0/\"> beautifulsoup download</a> 去下载源码.\n然后切换到beautifulsoup的setup.py 的命令目录\n执行\n```\npython setup.py build\npython setup.py install\n```\n执行成功后\n在查看安装的包,就看到安装成功了.\n\n执行脚本\n----------\n```\n#!/usr/bin/env python\n#-*- coding: UTF-8 -*-  \nimport sys\nreload(sys)\nsys.setdefaultencoding('utf-8')\nimport urllib\nimport os\nfrom bs4 import BeautifulSoup\nimport re\nif __name__ == '__main__':\n\tresp=urllib.urlopen('https://weather.com/zh-CN/weather/today/l/5ef652409badc75c97292b401c6db8e8e55a3157f300dc0997bea96343e4a20a')\n\tsoup=BeautifulSoup(resp,'html.parser')\n\ttagToday=soup.find('div',attrs={'class':'today_nowcard-temp'})\n\tprint(tagToday.span.get_text())\n```\n可以看到 geektool 输出温度信息了,然后在 geektool 里面修改样式就好了\n天气信息同理\n\n","source":"_posts/Geektool-使用-python-抓取天气显示.md","raw":"---\ntitle: Geektool 使用 python+beautifulsoup 抓取天气显示\ndate: 2018-04-19 19:14:32\ntags:\n- python\n- geektool\n- 天气\n- beautifulsoup\ncategories:\n- 技术\n- Python\nessential: true\n---\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/photos/2018-4-19_%E6%B1%BD%E8%BD%A6.jpeg\" />\n闲来无事,就想着捣鼓捣鼓电脑,想在电脑桌面实时显示天气状况.就用 geektool + python + beautifulsoup 写了一个抓取天气网站的脚本来显示.\n<!--more-->\n\n效果\n----------\n先看实现出来的效果\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/QQ20180420-091325%402x.png\" class=\"full-image\">\n\n实现思路\n----------\n用 python 去爬取天气网站的内容,解析抓取到的内容,提取今日的温度信息和天气天气,然后显示在 geektool 上面\n\n天气网站\n----------\n我这边选用的是 <a href=\"https://weather.com/\">weather channel</a>\n在网站里面把地址切换到你想抓取的地区.\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/QQ20180420-095735%402x.png\" class=\"full-image\">\n如图,可以看到实时温度现在\n```\n<div class=\"today_nowcard-temp\"><span class=\"\">25<sup>°</sup></span></div>\n```\n所以我们只要抓取 class为 `today_nowcard-temp`的标签,获取标签下面的文本内容 就是我们想要的温度信息.\n同理天气状况  只要抓取\n```\n<div class=\"today_nowcard-phrase\">晴朗</div>\n```\n的内容\n\n准备开发\n----------\n使用  `beautifulsoup` 去抓取页面内容.所以我们需要安装.由于 geektool 使用python 的版本是 2.7.10的.所以我们要在 python2.7里面安装 beautifulsoup.\n安装命令\n```\npython -m pip install beautifulsoup4\n```\n然后查看有没有安装成功\n```\npython -m pip list\n```\n如果有显示 beautifulsoup4的包就是安装成功了.如果没有的话就没有安装成功.\n\n如果你那么不幸运没有安装成功.就只能去 <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/download/4.0/\"> beautifulsoup download</a> 去下载源码.\n然后切换到beautifulsoup的setup.py 的命令目录\n执行\n```\npython setup.py build\npython setup.py install\n```\n执行成功后\n在查看安装的包,就看到安装成功了.\n\n执行脚本\n----------\n```\n#!/usr/bin/env python\n#-*- coding: UTF-8 -*-  \nimport sys\nreload(sys)\nsys.setdefaultencoding('utf-8')\nimport urllib\nimport os\nfrom bs4 import BeautifulSoup\nimport re\nif __name__ == '__main__':\n\tresp=urllib.urlopen('https://weather.com/zh-CN/weather/today/l/5ef652409badc75c97292b401c6db8e8e55a3157f300dc0997bea96343e4a20a')\n\tsoup=BeautifulSoup(resp,'html.parser')\n\ttagToday=soup.find('div',attrs={'class':'today_nowcard-temp'})\n\tprint(tagToday.span.get_text())\n```\n可以看到 geektool 输出温度信息了,然后在 geektool 里面修改样式就好了\n天气信息同理\n\n","slug":"Geektool-使用-python-抓取天气显示","published":1,"updated":"2018-05-08T05:05:06.450Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhio9no4000c6bfyxxr9rdr3","content":"<p><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/photos/2018-4-19_%E6%B1%BD%E8%BD%A6.jpeg\"><br>闲来无事,就想着捣鼓捣鼓电脑,想在电脑桌面实时显示天气状况.就用 geektool + python + beautifulsoup 写了一个抓取天气网站的脚本来显示.<br><a id=\"more\"></a></p>\n<h2 id=\"效果\"><a href=\"#效果\" class=\"headerlink\" title=\"效果\"></a>效果</h2><p>先看实现出来的效果<br><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/QQ20180420-091325%402x.png\" class=\"full-image\"></p>\n<h2 id=\"实现思路\"><a href=\"#实现思路\" class=\"headerlink\" title=\"实现思路\"></a>实现思路</h2><p>用 python 去爬取天气网站的内容,解析抓取到的内容,提取今日的温度信息和天气天气,然后显示在 geektool 上面</p>\n<h2 id=\"天气网站\"><a href=\"#天气网站\" class=\"headerlink\" title=\"天气网站\"></a>天气网站</h2><p>我这边选用的是 <a href=\"https://weather.com/\" target=\"_blank\" rel=\"noopener\">weather channel</a><br>在网站里面把地址切换到你想抓取的地区.<br><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/QQ20180420-095735%402x.png\" class=\"full-image\"><br>如图,可以看到实时温度现在<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"today_nowcard-temp\"</span>&gt;<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"\"</span>&gt;</span>25<span class=\"tag\">&lt;<span class=\"name\">sup</span>&gt;</span>°<span class=\"tag\">&lt;/<span class=\"name\">sup</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>\n<p>所以我们只要抓取 class为 <code>today_nowcard-temp</code>的标签,获取标签下面的文本内容 就是我们想要的温度信息.<br>同理天气状况  只要抓取<br><figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;<span class=\"keyword\">div</span> <span class=\"built_in\">class</span>=<span class=\"string\">\"today_nowcard-phrase\"</span>&gt;晴朗&lt;/<span class=\"keyword\">div</span>&gt;</span><br></pre></td></tr></table></figure></p>\n<p>的内容</p>\n<h2 id=\"准备开发\"><a href=\"#准备开发\" class=\"headerlink\" title=\"准备开发\"></a>准备开发</h2><p>使用  <code>beautifulsoup</code> 去抓取页面内容.所以我们需要安装.由于 geektool 使用python 的版本是 2.7.10的.所以我们要在 python2.7里面安装 beautifulsoup.<br>安装命令<br><figure class=\"highlight cmake\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python -m pip <span class=\"keyword\">install</span> beautifulsoup4</span><br></pre></td></tr></table></figure></p>\n<p>然后查看有没有安装成功<br><figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">python</span> -<span class=\"keyword\">m</span> pip <span class=\"keyword\">list</span></span><br></pre></td></tr></table></figure></p>\n<p>如果有显示 beautifulsoup4的包就是安装成功了.如果没有的话就没有安装成功.</p>\n<p>如果你那么不幸运没有安装成功.就只能去 <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/download/4.0/\" target=\"_blank\" rel=\"noopener\"> beautifulsoup download</a> 去下载源码.<br>然后切换到beautifulsoup的setup.py 的命令目录<br>执行<br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python setup<span class=\"selector-class\">.py</span> build</span><br><span class=\"line\">python setup<span class=\"selector-class\">.py</span> install</span><br></pre></td></tr></table></figure></p>\n<p>执行成功后<br>在查看安装的包,就看到安装成功了.</p>\n<h2 id=\"执行脚本\"><a href=\"#执行脚本\" class=\"headerlink\" title=\"执行脚本\"></a>执行脚本</h2><figure class=\"highlight xl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#!/usr/bin/env python</span><br><span class=\"line\">#-*- coding: UTF-<span class=\"number\">8</span> -*-  </span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\">reload(sys)</span><br><span class=\"line\">sys.setdefaultencoding(<span class=\"string\">'utf-8'</span>)</span><br><span class=\"line\"><span class=\"keyword\">import</span> urllib</span><br><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\">from bs4 <span class=\"keyword\">import</span> BeautifulSoup</span><br><span class=\"line\"><span class=\"keyword\">import</span> re</span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">'__main__'</span>:</span><br><span class=\"line\">\tresp=urllib.urlopen(<span class=\"string\">'https://weather.com/zh-CN/weather/today/l/5ef652409badc75c97292b401c6db8e8e55a3157f300dc0997bea96343e4a20a'</span>)</span><br><span class=\"line\">\tsoup=BeautifulSoup(resp,<span class=\"string\">'html.parser'</span>)</span><br><span class=\"line\">\ttagToday=soup.find(<span class=\"string\">'div'</span>,attrs=&#123;<span class=\"string\">'class'</span>:<span class=\"string\">'today_nowcard-temp'</span>&#125;)</span><br><span class=\"line\">\tprint(tagToday.span.get_text())</span><br></pre></td></tr></table></figure>\n<p>可以看到 geektool 输出温度信息了,然后在 geektool 里面修改样式就好了<br>天气信息同理</p>\n","site":{"data":{}},"excerpt":"<p><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/photos/2018-4-19_%E6%B1%BD%E8%BD%A6.jpeg\"><br>闲来无事,就想着捣鼓捣鼓电脑,想在电脑桌面实时显示天气状况.就用 geektool + python + beautifulsoup 写了一个抓取天气网站的脚本来显示.<br>","more":"</p>\n<h2 id=\"效果\"><a href=\"#效果\" class=\"headerlink\" title=\"效果\"></a>效果</h2><p>先看实现出来的效果<br><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/QQ20180420-091325%402x.png\" class=\"full-image\"></p>\n<h2 id=\"实现思路\"><a href=\"#实现思路\" class=\"headerlink\" title=\"实现思路\"></a>实现思路</h2><p>用 python 去爬取天气网站的内容,解析抓取到的内容,提取今日的温度信息和天气天气,然后显示在 geektool 上面</p>\n<h2 id=\"天气网站\"><a href=\"#天气网站\" class=\"headerlink\" title=\"天气网站\"></a>天气网站</h2><p>我这边选用的是 <a href=\"https://weather.com/\" target=\"_blank\" rel=\"noopener\">weather channel</a><br>在网站里面把地址切换到你想抓取的地区.<br><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/QQ20180420-095735%402x.png\" class=\"full-image\"><br>如图,可以看到实时温度现在<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"today_nowcard-temp\"</span>&gt;<span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"\"</span>&gt;</span>25<span class=\"tag\">&lt;<span class=\"name\">sup</span>&gt;</span>°<span class=\"tag\">&lt;/<span class=\"name\">sup</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>\n<p>所以我们只要抓取 class为 <code>today_nowcard-temp</code>的标签,获取标签下面的文本内容 就是我们想要的温度信息.<br>同理天气状况  只要抓取<br><figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;<span class=\"keyword\">div</span> <span class=\"built_in\">class</span>=<span class=\"string\">\"today_nowcard-phrase\"</span>&gt;晴朗&lt;/<span class=\"keyword\">div</span>&gt;</span><br></pre></td></tr></table></figure></p>\n<p>的内容</p>\n<h2 id=\"准备开发\"><a href=\"#准备开发\" class=\"headerlink\" title=\"准备开发\"></a>准备开发</h2><p>使用  <code>beautifulsoup</code> 去抓取页面内容.所以我们需要安装.由于 geektool 使用python 的版本是 2.7.10的.所以我们要在 python2.7里面安装 beautifulsoup.<br>安装命令<br><figure class=\"highlight cmake\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python -m pip <span class=\"keyword\">install</span> beautifulsoup4</span><br></pre></td></tr></table></figure></p>\n<p>然后查看有没有安装成功<br><figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">python</span> -<span class=\"keyword\">m</span> pip <span class=\"keyword\">list</span></span><br></pre></td></tr></table></figure></p>\n<p>如果有显示 beautifulsoup4的包就是安装成功了.如果没有的话就没有安装成功.</p>\n<p>如果你那么不幸运没有安装成功.就只能去 <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/download/4.0/\" target=\"_blank\" rel=\"noopener\"> beautifulsoup download</a> 去下载源码.<br>然后切换到beautifulsoup的setup.py 的命令目录<br>执行<br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python setup<span class=\"selector-class\">.py</span> build</span><br><span class=\"line\">python setup<span class=\"selector-class\">.py</span> install</span><br></pre></td></tr></table></figure></p>\n<p>执行成功后<br>在查看安装的包,就看到安装成功了.</p>\n<h2 id=\"执行脚本\"><a href=\"#执行脚本\" class=\"headerlink\" title=\"执行脚本\"></a>执行脚本</h2><figure class=\"highlight xl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#!/usr/bin/env python</span><br><span class=\"line\">#-*- coding: UTF-<span class=\"number\">8</span> -*-  </span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\">reload(sys)</span><br><span class=\"line\">sys.setdefaultencoding(<span class=\"string\">'utf-8'</span>)</span><br><span class=\"line\"><span class=\"keyword\">import</span> urllib</span><br><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\">from bs4 <span class=\"keyword\">import</span> BeautifulSoup</span><br><span class=\"line\"><span class=\"keyword\">import</span> re</span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">'__main__'</span>:</span><br><span class=\"line\">\tresp=urllib.urlopen(<span class=\"string\">'https://weather.com/zh-CN/weather/today/l/5ef652409badc75c97292b401c6db8e8e55a3157f300dc0997bea96343e4a20a'</span>)</span><br><span class=\"line\">\tsoup=BeautifulSoup(resp,<span class=\"string\">'html.parser'</span>)</span><br><span class=\"line\">\ttagToday=soup.find(<span class=\"string\">'div'</span>,attrs=&#123;<span class=\"string\">'class'</span>:<span class=\"string\">'today_nowcard-temp'</span>&#125;)</span><br><span class=\"line\">\tprint(tagToday.span.get_text())</span><br></pre></td></tr></table></figure>\n<p>可以看到 geektool 输出温度信息了,然后在 geektool 里面修改样式就好了<br>天气信息同理</p>"},{"title":"Hexo+NexT 博客搭建相册(一)","date":"2017-09-18T02:40:02.000Z","top":5,"essential":true,"_content":"<img src=\"http://pic.58pic.com/58pic/15/37/17/12n58PICyI3_1024.jpg\" />\n  用Hexo + NexT 搭建了博客之后,就想搭建一个相册.ps:真是瞎折腾!.自己上网查了些资料,摸索摸索,终于搭建好了.这里写个教程,由于东西比较多,教程分为两部分.\n<!--more-->\n\n实现想法\n-----------\n在 github 上面创建一个相册库,当有更新时,提交到 github 上面,同时在博客 resource 下面生成一个 data.json来生成所有相册文件的 json 文件,博客读取 data.json 来展示相册\n\n创建相册库\n-----------\n在 github 上面创建一个仓库,命名为 `blog_back_up` (仓库名字随便). 用 `git clone` 把仓库 clone 到本地来.\n> cd blog_back_up\n\n创建 `photos` 和 `min_photos` 两个目录,把要上传的相册图片 放到 photos 文件夹下面.\n> 相册图片命名方式 : `yyyy-MM-dd_des.jpg/png/jpef/gif`. eg: 2017-9-18_蝴蝶. jpg\n\n处理图片\n-----------\n图片的处理 我用 python 脚本来处理,这样每次只要执行脚本就可以了.\n- 裁剪图片\n```\ndef cut_photo():\n    \"\"\"裁剪算法\n    \n    ----------\n    调用Graphics类中的裁剪算法，将src_dir目录下的文件进行裁剪（裁剪成正方形）\n    \"\"\"\n    src_dir = \"photos/\"\n    if directory_exists(src_dir):\n        if not directory_exists(src_dir):\n            make_directory(src_dir)\n        # business logic\n        file_list = list_img_file(src_dir)\n        # print file_list\n        if file_list:\n            print_help()\n            for infile in file_list:\n                img = Image.open(src_dir+infile)\n                Graphics(infile=src_dir+infile, outfile=src_dir + infile).cut_by_ratio()            \n        else:\n            pass\n    else:\n        print(\"source directory not exist!\")     \n\n```\n\n- 压缩图片\n```\ndef compress_photo():\n    '''调用压缩图片的函数\n    '''\n    src_dir, des_dir = \"photos/\", \"min_photos/\"\n    \n    if directory_exists(src_dir):\n        if not directory_exists(src_dir):\n            make_directory(src_dir)\n        # business logic\n        file_list_src = list_img_file(src_dir)\n    if directory_exists(des_dir):\n        if not directory_exists(des_dir):\n            make_directory(des_dir)\n        file_list_des = list_img_file(des_dir)\n        # print file_list\n    '''如果已经压缩了，就不再压缩'''\n    for i in range(len(file_list_des)):\n        if file_list_des[i] in file_list_src:\n            file_list_src.remove(file_list_des[i])\n    compress('4', des_dir, src_dir, file_list_src)\n```\n\n- 根据图片信息生成 json\n```\ndef handle_photo():\n    '''根据图片的文件名处理成需要的json格式的数据\n    \n    -----------\n    最后将data.json文件存到博客的source/photos文件夹下\n    '''\n    src_dir, des_dir = \"photos/\", \"min_photos/\"\n    file_list = list_img_file(src_dir)\n    list_info = []\n    for i in range(len(file_list)):\n        filename = file_list[i]\n        date_str, info = filename.split(\"_\")\n        info, _ = info.split(\".\")\n        date = datetime.strptime(date_str, \"%Y-%m-%d\")\n        year_month = date_str[0:7]            \n        if i == 0:  # 处理第一个文件\n            new_dict = {\"date\": year_month, \"arr\":{'year': date.year,\n                                                                   'month': date.month,\n                                                                   'link': [filename],\n                                                                   'text': [info],\n                                                                   'type': ['image']\n                                                                   }\n                                        } \n            list_info.append(new_dict)\n        elif year_month != list_info[-1]['date']:  # 不是最后的一个日期，就新建一个dict\n            new_dict = {\"date\": year_month, \"arr\":{'year': date.year,\n                                                   'month': date.month,\n                                                   'link': [filename],\n                                                   'text': [info],\n                                                   'type': ['image']\n                                                   }\n                        }\n            list_info.append(new_dict)\n        else:  # 同一个日期\n            list_info[-1]['arr']['link'].append(filename)\n            list_info[-1]['arr']['text'].append(info)\n            list_info[-1]['arr']['type'].append('image')\n    list_info.reverse()  # 翻转\n    final_dict = {\"list\": list_info}\n    with open(\"../../blog/blog_src/source/photos/data.json\",\"w\") as fp:\n        json.dump(final_dict, fp)\n```\n\n其中 `../../blog/blog_src/source/photos/data.json` 是我博客地址,这里换成你的博客地址.\n完成的 python 下载地址 <a href=\"https://github.com/lovexinforever/blog_back_up/blob/master/tool.py\" target=\"\">tool.py</a>\n\n使用\n-----------\n`python3 tool.py`\n因为我用的是 python3 这里可以根据你的 python 版本来使用\n\nQA:\n-----------\n如果出现 `from PIL import Image` 这里报错.说明没有 PIL 这个库.\n执行 `python3 -m pip install Pillow`\n\n结束语\n-----------\n目前为止,相册库已经处理完毕,接下来会更新 hexo 怎么使用相册库. \n<a href=\"https://lovexinforever.github.io/2017/09/18/Hexo-NexT-博客搭建相册-二/\">Hexo+NexT 博客搭建相册(二)</a>\n\n","source":"_posts/Hexo-NexT-博客搭建相册-一.md","raw":"---\ntitle: Hexo+NexT 博客搭建相册(一)\ndate: 2017-09-18 10:40:02\ntags:\n- Hexo\n- NexT\n- 相册\n- Photo\ncategories:\n- 技术\n- Hexo\ntop: 5\nessential: true\n---\n<img src=\"http://pic.58pic.com/58pic/15/37/17/12n58PICyI3_1024.jpg\" />\n  用Hexo + NexT 搭建了博客之后,就想搭建一个相册.ps:真是瞎折腾!.自己上网查了些资料,摸索摸索,终于搭建好了.这里写个教程,由于东西比较多,教程分为两部分.\n<!--more-->\n\n实现想法\n-----------\n在 github 上面创建一个相册库,当有更新时,提交到 github 上面,同时在博客 resource 下面生成一个 data.json来生成所有相册文件的 json 文件,博客读取 data.json 来展示相册\n\n创建相册库\n-----------\n在 github 上面创建一个仓库,命名为 `blog_back_up` (仓库名字随便). 用 `git clone` 把仓库 clone 到本地来.\n> cd blog_back_up\n\n创建 `photos` 和 `min_photos` 两个目录,把要上传的相册图片 放到 photos 文件夹下面.\n> 相册图片命名方式 : `yyyy-MM-dd_des.jpg/png/jpef/gif`. eg: 2017-9-18_蝴蝶. jpg\n\n处理图片\n-----------\n图片的处理 我用 python 脚本来处理,这样每次只要执行脚本就可以了.\n- 裁剪图片\n```\ndef cut_photo():\n    \"\"\"裁剪算法\n    \n    ----------\n    调用Graphics类中的裁剪算法，将src_dir目录下的文件进行裁剪（裁剪成正方形）\n    \"\"\"\n    src_dir = \"photos/\"\n    if directory_exists(src_dir):\n        if not directory_exists(src_dir):\n            make_directory(src_dir)\n        # business logic\n        file_list = list_img_file(src_dir)\n        # print file_list\n        if file_list:\n            print_help()\n            for infile in file_list:\n                img = Image.open(src_dir+infile)\n                Graphics(infile=src_dir+infile, outfile=src_dir + infile).cut_by_ratio()            \n        else:\n            pass\n    else:\n        print(\"source directory not exist!\")     \n\n```\n\n- 压缩图片\n```\ndef compress_photo():\n    '''调用压缩图片的函数\n    '''\n    src_dir, des_dir = \"photos/\", \"min_photos/\"\n    \n    if directory_exists(src_dir):\n        if not directory_exists(src_dir):\n            make_directory(src_dir)\n        # business logic\n        file_list_src = list_img_file(src_dir)\n    if directory_exists(des_dir):\n        if not directory_exists(des_dir):\n            make_directory(des_dir)\n        file_list_des = list_img_file(des_dir)\n        # print file_list\n    '''如果已经压缩了，就不再压缩'''\n    for i in range(len(file_list_des)):\n        if file_list_des[i] in file_list_src:\n            file_list_src.remove(file_list_des[i])\n    compress('4', des_dir, src_dir, file_list_src)\n```\n\n- 根据图片信息生成 json\n```\ndef handle_photo():\n    '''根据图片的文件名处理成需要的json格式的数据\n    \n    -----------\n    最后将data.json文件存到博客的source/photos文件夹下\n    '''\n    src_dir, des_dir = \"photos/\", \"min_photos/\"\n    file_list = list_img_file(src_dir)\n    list_info = []\n    for i in range(len(file_list)):\n        filename = file_list[i]\n        date_str, info = filename.split(\"_\")\n        info, _ = info.split(\".\")\n        date = datetime.strptime(date_str, \"%Y-%m-%d\")\n        year_month = date_str[0:7]            \n        if i == 0:  # 处理第一个文件\n            new_dict = {\"date\": year_month, \"arr\":{'year': date.year,\n                                                                   'month': date.month,\n                                                                   'link': [filename],\n                                                                   'text': [info],\n                                                                   'type': ['image']\n                                                                   }\n                                        } \n            list_info.append(new_dict)\n        elif year_month != list_info[-1]['date']:  # 不是最后的一个日期，就新建一个dict\n            new_dict = {\"date\": year_month, \"arr\":{'year': date.year,\n                                                   'month': date.month,\n                                                   'link': [filename],\n                                                   'text': [info],\n                                                   'type': ['image']\n                                                   }\n                        }\n            list_info.append(new_dict)\n        else:  # 同一个日期\n            list_info[-1]['arr']['link'].append(filename)\n            list_info[-1]['arr']['text'].append(info)\n            list_info[-1]['arr']['type'].append('image')\n    list_info.reverse()  # 翻转\n    final_dict = {\"list\": list_info}\n    with open(\"../../blog/blog_src/source/photos/data.json\",\"w\") as fp:\n        json.dump(final_dict, fp)\n```\n\n其中 `../../blog/blog_src/source/photos/data.json` 是我博客地址,这里换成你的博客地址.\n完成的 python 下载地址 <a href=\"https://github.com/lovexinforever/blog_back_up/blob/master/tool.py\" target=\"\">tool.py</a>\n\n使用\n-----------\n`python3 tool.py`\n因为我用的是 python3 这里可以根据你的 python 版本来使用\n\nQA:\n-----------\n如果出现 `from PIL import Image` 这里报错.说明没有 PIL 这个库.\n执行 `python3 -m pip install Pillow`\n\n结束语\n-----------\n目前为止,相册库已经处理完毕,接下来会更新 hexo 怎么使用相册库. \n<a href=\"https://lovexinforever.github.io/2017/09/18/Hexo-NexT-博客搭建相册-二/\">Hexo+NexT 博客搭建相册(二)</a>\n\n","slug":"Hexo-NexT-博客搭建相册-一","published":1,"updated":"2018-05-02T05:55:01.746Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhio9no5000d6bfyknp555nv","content":"<p><img src=\"http://pic.58pic.com/58pic/15/37/17/12n58PICyI3_1024.jpg\"><br>  用Hexo + NexT 搭建了博客之后,就想搭建一个相册.ps:真是瞎折腾!.自己上网查了些资料,摸索摸索,终于搭建好了.这里写个教程,由于东西比较多,教程分为两部分.<br><a id=\"more\"></a></p>\n<h2 id=\"实现想法\"><a href=\"#实现想法\" class=\"headerlink\" title=\"实现想法\"></a>实现想法</h2><p>在 github 上面创建一个相册库,当有更新时,提交到 github 上面,同时在博客 resource 下面生成一个 data.json来生成所有相册文件的 json 文件,博客读取 data.json 来展示相册</p>\n<h2 id=\"创建相册库\"><a href=\"#创建相册库\" class=\"headerlink\" title=\"创建相册库\"></a>创建相册库</h2><p>在 github 上面创建一个仓库,命名为 <code>blog_back_up</code> (仓库名字随便). 用 <code>git clone</code> 把仓库 clone 到本地来.</p>\n<blockquote>\n<p>cd blog_back_up</p>\n</blockquote>\n<p>创建 <code>photos</code> 和 <code>min_photos</code> 两个目录,把要上传的相册图片 放到 photos 文件夹下面.</p>\n<blockquote>\n<p>相册图片命名方式 : <code>yyyy-MM-dd_des.jpg/png/jpef/gif</code>. eg: 2017-9-18_蝴蝶. jpg</p>\n</blockquote>\n<h2 id=\"处理图片\"><a href=\"#处理图片\" class=\"headerlink\" title=\"处理图片\"></a>处理图片</h2><p>图片的处理 我用 python 脚本来处理,这样每次只要执行脚本就可以了.</p>\n<ul>\n<li><p>裁剪图片</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">cut_photo</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    <span class=\"string\">\"\"\"裁剪算法</span></span><br><span class=\"line\"><span class=\"string\">    </span></span><br><span class=\"line\"><span class=\"string\">    ----------</span></span><br><span class=\"line\"><span class=\"string\">    调用Graphics类中的裁剪算法，将src_dir目录下的文件进行裁剪（裁剪成正方形）</span></span><br><span class=\"line\"><span class=\"string\">    \"\"\"</span></span><br><span class=\"line\">    src_dir = <span class=\"string\">\"photos/\"</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> directory_exists(src_dir):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> directory_exists(src_dir):</span><br><span class=\"line\">            make_directory(src_dir)</span><br><span class=\"line\">        <span class=\"comment\"># business logic</span></span><br><span class=\"line\">        file_list = list_img_file(src_dir)</span><br><span class=\"line\">        <span class=\"comment\"># print file_list</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> file_list:</span><br><span class=\"line\">            print_help()</span><br><span class=\"line\">            <span class=\"keyword\">for</span> infile <span class=\"keyword\">in</span> file_list:</span><br><span class=\"line\">                img = Image.open(src_dir+infile)</span><br><span class=\"line\">                Graphics(infile=src_dir+infile, outfile=src_dir + infile).cut_by_ratio()            </span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">pass</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        print(<span class=\"string\">\"source directory not exist!\"</span>)</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>压缩图片</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">compress_photo</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    <span class=\"string\">'''调用压缩图片的函数</span></span><br><span class=\"line\"><span class=\"string\">    '''</span></span><br><span class=\"line\">    src_dir, des_dir = <span class=\"string\">\"photos/\"</span>, <span class=\"string\">\"min_photos/\"</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">if</span> directory_exists(src_dir):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> directory_exists(src_dir):</span><br><span class=\"line\">            make_directory(src_dir)</span><br><span class=\"line\">        <span class=\"comment\"># business logic</span></span><br><span class=\"line\">        file_list_src = list_img_file(src_dir)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> directory_exists(des_dir):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> directory_exists(des_dir):</span><br><span class=\"line\">            make_directory(des_dir)</span><br><span class=\"line\">        file_list_des = list_img_file(des_dir)</span><br><span class=\"line\">        <span class=\"comment\"># print file_list</span></span><br><span class=\"line\">    <span class=\"string\">'''如果已经压缩了，就不再压缩'''</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(file_list_des)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> file_list_des[i] <span class=\"keyword\">in</span> file_list_src:</span><br><span class=\"line\">            file_list_src.remove(file_list_des[i])</span><br><span class=\"line\">    compress(<span class=\"string\">'4'</span>, des_dir, src_dir, file_list_src)</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>根据图片信息生成 json</p>\n<figure class=\"highlight tcl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def handle_photo():</span><br><span class=\"line\">    <span class=\"string\">''</span><span class=\"string\">'根据图片的文件名处理成需要的json格式的数据</span></span><br><span class=\"line\"><span class=\"string\">    </span></span><br><span class=\"line\"><span class=\"string\">    -----------</span></span><br><span class=\"line\"><span class=\"string\">    最后将data.json文件存到博客的source/photos文件夹下</span></span><br><span class=\"line\"><span class=\"string\">    '</span><span class=\"string\">''</span></span><br><span class=\"line\">    src_dir, des_dir = <span class=\"string\">\"photos/\"</span>, <span class=\"string\">\"min_photos/\"</span></span><br><span class=\"line\">    file_list = list_img_file(src_dir)</span><br><span class=\"line\">    list_info = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i in range(len(file_list)):</span><br><span class=\"line\">        <span class=\"keyword\">filename</span> = file_list[i]</span><br><span class=\"line\">        date_str, <span class=\"keyword\">info</span> = <span class=\"keyword\">filename</span>.<span class=\"keyword\">split</span>(<span class=\"string\">\"_\"</span>)</span><br><span class=\"line\">        <span class=\"keyword\">info</span>, _ = <span class=\"keyword\">info</span>.<span class=\"keyword\">split</span>(<span class=\"string\">\".\"</span>)</span><br><span class=\"line\">        date = datetime.strptime(date_str, <span class=\"string\">\"%Y-%m-%d\"</span>)</span><br><span class=\"line\">        year_month = date_str[<span class=\"number\">0</span>:<span class=\"number\">7</span>]            </span><br><span class=\"line\">        <span class=\"keyword\">if</span> i == <span class=\"number\">0</span>:  # 处理第一个文件</span><br><span class=\"line\">            new_dict = &#123;<span class=\"string\">\"date\"</span>: year_month, <span class=\"string\">\"arr\"</span>:&#123;<span class=\"string\">'year'</span>: date.year,</span><br><span class=\"line\">                                                                   <span class=\"string\">'month'</span>: date.month,</span><br><span class=\"line\">                                                                   <span class=\"string\">'link'</span>: [<span class=\"keyword\">filename</span>],</span><br><span class=\"line\">                                                                   <span class=\"string\">'text'</span>: [<span class=\"keyword\">info</span>],</span><br><span class=\"line\">                                                                   <span class=\"string\">'type'</span>: [<span class=\"string\">'image'</span>]</span><br><span class=\"line\">                                                                   &#125;</span><br><span class=\"line\">                                        &#125; </span><br><span class=\"line\">            list_info.<span class=\"keyword\">append</span>(new_dict)</span><br><span class=\"line\">        elif year_month != list_info[<span class=\"number\">-1</span>][<span class=\"string\">'date'</span>]:  # 不是最后的一个日期，就新建一个<span class=\"keyword\">dict</span></span><br><span class=\"line\">            new_dict = &#123;<span class=\"string\">\"date\"</span>: year_month, <span class=\"string\">\"arr\"</span>:&#123;<span class=\"string\">'year'</span>: date.year,</span><br><span class=\"line\">                                                   <span class=\"string\">'month'</span>: date.month,</span><br><span class=\"line\">                                                   <span class=\"string\">'link'</span>: [<span class=\"keyword\">filename</span>],</span><br><span class=\"line\">                                                   <span class=\"string\">'text'</span>: [<span class=\"keyword\">info</span>],</span><br><span class=\"line\">                                                   <span class=\"string\">'type'</span>: [<span class=\"string\">'image'</span>]</span><br><span class=\"line\">                                                   &#125;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">            list_info.<span class=\"keyword\">append</span>(new_dict)</span><br><span class=\"line\">        else:  # 同一个日期</span><br><span class=\"line\">            list_info[<span class=\"number\">-1</span>][<span class=\"string\">'arr'</span>][<span class=\"string\">'link'</span>].<span class=\"keyword\">append</span>(<span class=\"keyword\">filename</span>)</span><br><span class=\"line\">            list_info[<span class=\"number\">-1</span>][<span class=\"string\">'arr'</span>][<span class=\"string\">'text'</span>].<span class=\"keyword\">append</span>(<span class=\"keyword\">info</span>)</span><br><span class=\"line\">            list_info[<span class=\"number\">-1</span>][<span class=\"string\">'arr'</span>][<span class=\"string\">'type'</span>].<span class=\"keyword\">append</span>(<span class=\"string\">'image'</span>)</span><br><span class=\"line\">    list_info.reverse()  # 翻转</span><br><span class=\"line\">    final_dict = &#123;<span class=\"string\">\"list\"</span>: list_info&#125;</span><br><span class=\"line\">    with <span class=\"keyword\">open</span>(<span class=\"string\">\"../../blog/blog_src/source/photos/data.json\"</span>,<span class=\"string\">\"w\"</span>) as fp:</span><br><span class=\"line\">        json.dump(final_dict, fp)</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>其中 <code>../../blog/blog_src/source/photos/data.json</code> 是我博客地址,这里换成你的博客地址.<br>完成的 python 下载地址 <a href=\"https://github.com/lovexinforever/blog_back_up/blob/master/tool.py\" target=\"_blank\" rel=\"noopener\">tool.py</a></p>\n<h2 id=\"使用\"><a href=\"#使用\" class=\"headerlink\" title=\"使用\"></a>使用</h2><p><code>python3 tool.py</code><br>因为我用的是 python3 这里可以根据你的 python 版本来使用</p>\n<h2 id=\"QA\"><a href=\"#QA\" class=\"headerlink\" title=\"QA:\"></a>QA:</h2><p>如果出现 <code>from PIL import Image</code> 这里报错.说明没有 PIL 这个库.<br>执行 <code>python3 -m pip install Pillow</code></p>\n<h2 id=\"结束语\"><a href=\"#结束语\" class=\"headerlink\" title=\"结束语\"></a>结束语</h2><p>目前为止,相册库已经处理完毕,接下来会更新 hexo 怎么使用相册库.<br><a href=\"https://lovexinforever.github.io/2017/09/18/Hexo-NexT-博客搭建相册-二/\">Hexo+NexT 博客搭建相册(二)</a></p>\n","site":{"data":{}},"excerpt":"<p><img src=\"http://pic.58pic.com/58pic/15/37/17/12n58PICyI3_1024.jpg\"><br>  用Hexo + NexT 搭建了博客之后,就想搭建一个相册.ps:真是瞎折腾!.自己上网查了些资料,摸索摸索,终于搭建好了.这里写个教程,由于东西比较多,教程分为两部分.<br>","more":"</p>\n<h2 id=\"实现想法\"><a href=\"#实现想法\" class=\"headerlink\" title=\"实现想法\"></a>实现想法</h2><p>在 github 上面创建一个相册库,当有更新时,提交到 github 上面,同时在博客 resource 下面生成一个 data.json来生成所有相册文件的 json 文件,博客读取 data.json 来展示相册</p>\n<h2 id=\"创建相册库\"><a href=\"#创建相册库\" class=\"headerlink\" title=\"创建相册库\"></a>创建相册库</h2><p>在 github 上面创建一个仓库,命名为 <code>blog_back_up</code> (仓库名字随便). 用 <code>git clone</code> 把仓库 clone 到本地来.</p>\n<blockquote>\n<p>cd blog_back_up</p>\n</blockquote>\n<p>创建 <code>photos</code> 和 <code>min_photos</code> 两个目录,把要上传的相册图片 放到 photos 文件夹下面.</p>\n<blockquote>\n<p>相册图片命名方式 : <code>yyyy-MM-dd_des.jpg/png/jpef/gif</code>. eg: 2017-9-18_蝴蝶. jpg</p>\n</blockquote>\n<h2 id=\"处理图片\"><a href=\"#处理图片\" class=\"headerlink\" title=\"处理图片\"></a>处理图片</h2><p>图片的处理 我用 python 脚本来处理,这样每次只要执行脚本就可以了.</p>\n<ul>\n<li><p>裁剪图片</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">cut_photo</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    <span class=\"string\">\"\"\"裁剪算法</span></span><br><span class=\"line\"><span class=\"string\">    </span></span><br><span class=\"line\"><span class=\"string\">    ----------</span></span><br><span class=\"line\"><span class=\"string\">    调用Graphics类中的裁剪算法，将src_dir目录下的文件进行裁剪（裁剪成正方形）</span></span><br><span class=\"line\"><span class=\"string\">    \"\"\"</span></span><br><span class=\"line\">    src_dir = <span class=\"string\">\"photos/\"</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> directory_exists(src_dir):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> directory_exists(src_dir):</span><br><span class=\"line\">            make_directory(src_dir)</span><br><span class=\"line\">        <span class=\"comment\"># business logic</span></span><br><span class=\"line\">        file_list = list_img_file(src_dir)</span><br><span class=\"line\">        <span class=\"comment\"># print file_list</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> file_list:</span><br><span class=\"line\">            print_help()</span><br><span class=\"line\">            <span class=\"keyword\">for</span> infile <span class=\"keyword\">in</span> file_list:</span><br><span class=\"line\">                img = Image.open(src_dir+infile)</span><br><span class=\"line\">                Graphics(infile=src_dir+infile, outfile=src_dir + infile).cut_by_ratio()            </span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">pass</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        print(<span class=\"string\">\"source directory not exist!\"</span>)</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>压缩图片</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">compress_photo</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    <span class=\"string\">'''调用压缩图片的函数</span></span><br><span class=\"line\"><span class=\"string\">    '''</span></span><br><span class=\"line\">    src_dir, des_dir = <span class=\"string\">\"photos/\"</span>, <span class=\"string\">\"min_photos/\"</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">if</span> directory_exists(src_dir):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> directory_exists(src_dir):</span><br><span class=\"line\">            make_directory(src_dir)</span><br><span class=\"line\">        <span class=\"comment\"># business logic</span></span><br><span class=\"line\">        file_list_src = list_img_file(src_dir)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> directory_exists(des_dir):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> directory_exists(des_dir):</span><br><span class=\"line\">            make_directory(des_dir)</span><br><span class=\"line\">        file_list_des = list_img_file(des_dir)</span><br><span class=\"line\">        <span class=\"comment\"># print file_list</span></span><br><span class=\"line\">    <span class=\"string\">'''如果已经压缩了，就不再压缩'''</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(file_list_des)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> file_list_des[i] <span class=\"keyword\">in</span> file_list_src:</span><br><span class=\"line\">            file_list_src.remove(file_list_des[i])</span><br><span class=\"line\">    compress(<span class=\"string\">'4'</span>, des_dir, src_dir, file_list_src)</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>根据图片信息生成 json</p>\n<figure class=\"highlight tcl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def handle_photo():</span><br><span class=\"line\">    <span class=\"string\">''</span><span class=\"string\">'根据图片的文件名处理成需要的json格式的数据</span></span><br><span class=\"line\"><span class=\"string\">    </span></span><br><span class=\"line\"><span class=\"string\">    -----------</span></span><br><span class=\"line\"><span class=\"string\">    最后将data.json文件存到博客的source/photos文件夹下</span></span><br><span class=\"line\"><span class=\"string\">    '</span><span class=\"string\">''</span></span><br><span class=\"line\">    src_dir, des_dir = <span class=\"string\">\"photos/\"</span>, <span class=\"string\">\"min_photos/\"</span></span><br><span class=\"line\">    file_list = list_img_file(src_dir)</span><br><span class=\"line\">    list_info = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i in range(len(file_list)):</span><br><span class=\"line\">        <span class=\"keyword\">filename</span> = file_list[i]</span><br><span class=\"line\">        date_str, <span class=\"keyword\">info</span> = <span class=\"keyword\">filename</span>.<span class=\"keyword\">split</span>(<span class=\"string\">\"_\"</span>)</span><br><span class=\"line\">        <span class=\"keyword\">info</span>, _ = <span class=\"keyword\">info</span>.<span class=\"keyword\">split</span>(<span class=\"string\">\".\"</span>)</span><br><span class=\"line\">        date = datetime.strptime(date_str, <span class=\"string\">\"%Y-%m-%d\"</span>)</span><br><span class=\"line\">        year_month = date_str[<span class=\"number\">0</span>:<span class=\"number\">7</span>]            </span><br><span class=\"line\">        <span class=\"keyword\">if</span> i == <span class=\"number\">0</span>:  # 处理第一个文件</span><br><span class=\"line\">            new_dict = &#123;<span class=\"string\">\"date\"</span>: year_month, <span class=\"string\">\"arr\"</span>:&#123;<span class=\"string\">'year'</span>: date.year,</span><br><span class=\"line\">                                                                   <span class=\"string\">'month'</span>: date.month,</span><br><span class=\"line\">                                                                   <span class=\"string\">'link'</span>: [<span class=\"keyword\">filename</span>],</span><br><span class=\"line\">                                                                   <span class=\"string\">'text'</span>: [<span class=\"keyword\">info</span>],</span><br><span class=\"line\">                                                                   <span class=\"string\">'type'</span>: [<span class=\"string\">'image'</span>]</span><br><span class=\"line\">                                                                   &#125;</span><br><span class=\"line\">                                        &#125; </span><br><span class=\"line\">            list_info.<span class=\"keyword\">append</span>(new_dict)</span><br><span class=\"line\">        elif year_month != list_info[<span class=\"number\">-1</span>][<span class=\"string\">'date'</span>]:  # 不是最后的一个日期，就新建一个<span class=\"keyword\">dict</span></span><br><span class=\"line\">            new_dict = &#123;<span class=\"string\">\"date\"</span>: year_month, <span class=\"string\">\"arr\"</span>:&#123;<span class=\"string\">'year'</span>: date.year,</span><br><span class=\"line\">                                                   <span class=\"string\">'month'</span>: date.month,</span><br><span class=\"line\">                                                   <span class=\"string\">'link'</span>: [<span class=\"keyword\">filename</span>],</span><br><span class=\"line\">                                                   <span class=\"string\">'text'</span>: [<span class=\"keyword\">info</span>],</span><br><span class=\"line\">                                                   <span class=\"string\">'type'</span>: [<span class=\"string\">'image'</span>]</span><br><span class=\"line\">                                                   &#125;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">            list_info.<span class=\"keyword\">append</span>(new_dict)</span><br><span class=\"line\">        else:  # 同一个日期</span><br><span class=\"line\">            list_info[<span class=\"number\">-1</span>][<span class=\"string\">'arr'</span>][<span class=\"string\">'link'</span>].<span class=\"keyword\">append</span>(<span class=\"keyword\">filename</span>)</span><br><span class=\"line\">            list_info[<span class=\"number\">-1</span>][<span class=\"string\">'arr'</span>][<span class=\"string\">'text'</span>].<span class=\"keyword\">append</span>(<span class=\"keyword\">info</span>)</span><br><span class=\"line\">            list_info[<span class=\"number\">-1</span>][<span class=\"string\">'arr'</span>][<span class=\"string\">'type'</span>].<span class=\"keyword\">append</span>(<span class=\"string\">'image'</span>)</span><br><span class=\"line\">    list_info.reverse()  # 翻转</span><br><span class=\"line\">    final_dict = &#123;<span class=\"string\">\"list\"</span>: list_info&#125;</span><br><span class=\"line\">    with <span class=\"keyword\">open</span>(<span class=\"string\">\"../../blog/blog_src/source/photos/data.json\"</span>,<span class=\"string\">\"w\"</span>) as fp:</span><br><span class=\"line\">        json.dump(final_dict, fp)</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<p>其中 <code>../../blog/blog_src/source/photos/data.json</code> 是我博客地址,这里换成你的博客地址.<br>完成的 python 下载地址 <a href=\"https://github.com/lovexinforever/blog_back_up/blob/master/tool.py\" target=\"_blank\" rel=\"noopener\">tool.py</a></p>\n<h2 id=\"使用\"><a href=\"#使用\" class=\"headerlink\" title=\"使用\"></a>使用</h2><p><code>python3 tool.py</code><br>因为我用的是 python3 这里可以根据你的 python 版本来使用</p>\n<h2 id=\"QA\"><a href=\"#QA\" class=\"headerlink\" title=\"QA:\"></a>QA:</h2><p>如果出现 <code>from PIL import Image</code> 这里报错.说明没有 PIL 这个库.<br>执行 <code>python3 -m pip install Pillow</code></p>\n<h2 id=\"结束语\"><a href=\"#结束语\" class=\"headerlink\" title=\"结束语\"></a>结束语</h2><p>目前为止,相册库已经处理完毕,接下来会更新 hexo 怎么使用相册库.<br><a href=\"https://lovexinforever.github.io/2017/09/18/Hexo-NexT-博客搭建相册-二/\">Hexo+NexT 博客搭建相册(二)</a></p>"},{"title":"Hexo+NexT 博客搭建相册(二)","date":"2017-09-18T06:10:24.000Z","top":4,"essential":true,"_content":"<img src=\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1505726176244&di=4cfcaa9b699b336d366ff823c5625f32&imgtype=0&src=http%3A%2F%2Fimg10.3lian.com%2Fsc6%2Fshow%2F08%2F19%2F20110510230141386.jpg\" />\n\n上一篇文章 <a href=\"https://lovexinforever.github.io/2017/09/18/Hexo-NexT-%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E7%9B%B8%E5%86%8C-%E4%B8%80/\">Hexo+NexT 博客搭建相册(一)</a> 讲解了怎样用 github 来创建相册库.现在来讲解怎样在 hexo 中使用相册库.\n<!-- more-->\n准备工作\n----------\n按照 <a href=\"https://lovexinforever.github.io/2017/09/18/Hexo-NexT-%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E7%9B%B8%E5%86%8C-%E4%B8%80/\">Hexo+NexT 博客搭建相册(一)</a> 搭建好相册库.\n\n增加相册style\n----------\n在 next 主题下面增加 photo.swig 页面.\n路径如下\n> next/layout\n\n由于篇幅原因,大家可以在我的 github 上面下载 <a href=\"https://github.com/lovexinforever/blog_back_up/blob/master/photo.swig\">photo.swig</a>\n\n生成相册页面\n----------\n生成相册页面和生成分类和标签页面一样\n> hexo new page \"photos\"\n\n修改 photos 下的 index.md文件\n由于字数限制,代码不贴出来了,大家可以在我的 github 上面下载\n<a href=\"https://github.com/lovexinforever/blog_back_up/blob/master/index.md\">index.md</a>\n其中 `<a href=\"https://lovexinforever.github.io\" target=\"_blank\" class=\"open-ins\">图片正在加载中…</a>`中的 url 替换成你的博客网址.\n需要 三个 css 文件 和一个 js 文件.都在我的 github 上面 ,其中`photoswipe.css`和`default-skin.css`这 css 是查看图片插件的 css, 后面会说到,把这些 css 和 js 文件都在 photos 文件夹下面\n<a href=\"https://github.com/lovexinforever/blog_back_up/blob/master/ins.css\">ins.css</a>\n<a href=\"https://github.com/lovexinforever/blog_back_up/blob/master/photoswipe.css\">photoswipe.css</a>\n<a href=\"hhttps://github.com/lovexinforever/blog_back_up/tree/master/default-skin\">default-skin</a>\n<a href=\"https://github.com/lovexinforever/blog_back_up/blob/master/ins.js\">ins.js</a>\n需要修改 `ins.js` 的 120和121行的 url 为你 github 的图片的网址.\n\n查看相册插件 photoswipe\n----------\n上面 index.md 中加入了两个 css 文件,这是我们用 photoswipe 查看相册用到的.具体可以参考网址 <a href=\"http://photoswipe.com/\">photoswipe</a>\n这里我们已经把 css 文件加上了.之后我们要加上 js 文件 <a href=\"\">photoswipe.min.js</a> 和<a href=\"\">photoswipe-ui-default.min.js</a>\njs存放路径为\n> next/source/js/src\n\n引用 js 文件\n----------\n<s>在 `_layout.swig` 中插入</s>\n在`layout/_scripts/pages/post-details.swig` 中插入\n```\n<script src=\"{{ url_for(theme.js) }}/src/photoswipe.min.js?v={{ theme.version }}\"></script>\n<script src=\"{{ url_for(theme.js) }}/src/photoswipe-ui-default.min.js?v={{ theme.version }}\"></script>\n```\n放在 head 标签里面\n`_layout.swig` 路径为\n> next/layout\n\n到这里已经差不多完成了相册查看,还差最后一步,在 index.html 中加入 标签.\n\n在根目录加入标签\n----------\n在 _layout.swig 中 </body> 前插入\n```\n{% if page.type === \"photos\" %}\n<!-- Root element of PhotoSwipe. Must have class pswp. -->\n<div class=\"pswp\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\n    <div class=\"pswp__bg\"></div>\n    <div class=\"pswp__scroll-wrap\">\n        <div class=\"pswp__container\">\n            <div class=\"pswp__item\"></div>\n            <div class=\"pswp__item\"></div>\n            <div class=\"pswp__item\"></div>\n        </div>\n        <div class=\"pswp__ui pswp__ui--hidden\">\n            <div class=\"pswp__top-bar\">\n                <div class=\"pswp__counter\"></div>\n                <button class=\"pswp__button pswp__button--close\" title=\"Close (Esc)\"></button>\n                <button class=\"pswp__button pswp__button--share\" title=\"Share\"></button>\n                <button class=\"pswp__button pswp__button--fs\" title=\"Toggle fullscreen\"></button>\n                <button class=\"pswp__button pswp__button--zoom\" title=\"Zoom in/out\"></button>\n                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->\n                <!-- element will get class pswp__preloader--active when preloader is running -->\n                <div class=\"pswp__preloader\">\n                    <div class=\"pswp__preloader__icn\">\n                      <div class=\"pswp__preloader__cut\">\n                        <div class=\"pswp__preloader__donut\"></div>\n                      </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\">\n                <div class=\"pswp__share-tooltip\"></div> \n            </div>\n            <button class=\"pswp__button pswp__button--arrow--left\" title=\"Previous (arrow left)\">\n            </button>\n            <button class=\"pswp__button pswp__button--arrow--right\" title=\"Next (arrow right)\">\n            </button>\n            <div class=\"pswp__caption\">\n                <div class=\"pswp__caption__center\"></div>\n            </div>\n        </div>\n    </div>\n</div>\n{% endif %}\n```\n至此相册查看插件 photoswipe 已经配置完毕.\n\n整个流程使用\n----------\n- 在 blog_back_up 里面加入图片,图片路径在 photos 里面 图片命名方式 yyyy-MM-dd_des.jpg/jpeg/gif/png.\n- 执行 python3 tool.py\n- 切换到博客 resource 目录下\n- 在 photos 里面生成了 data.json 文件 提交到github 上面.\n- 输入网址查看照片.\n\n效果展示\n----------\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170918-162151@2x.png\" />\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170918-162204@2x.png\" />\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170918-162218@2x.png\" />\n\n","source":"_posts/Hexo-NexT-博客搭建相册-二.md","raw":"---\ntitle: Hexo+NexT 博客搭建相册(二)\ndate: 2017-09-18 14:10:24\ntags:\n- Hexo\n- NexT\n- 相册\n- Photo\ncategories:\n- 技术\n- Hexo\ntop: 4\nessential: true\n---\n<img src=\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1505726176244&di=4cfcaa9b699b336d366ff823c5625f32&imgtype=0&src=http%3A%2F%2Fimg10.3lian.com%2Fsc6%2Fshow%2F08%2F19%2F20110510230141386.jpg\" />\n\n上一篇文章 <a href=\"https://lovexinforever.github.io/2017/09/18/Hexo-NexT-%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E7%9B%B8%E5%86%8C-%E4%B8%80/\">Hexo+NexT 博客搭建相册(一)</a> 讲解了怎样用 github 来创建相册库.现在来讲解怎样在 hexo 中使用相册库.\n<!-- more-->\n准备工作\n----------\n按照 <a href=\"https://lovexinforever.github.io/2017/09/18/Hexo-NexT-%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E7%9B%B8%E5%86%8C-%E4%B8%80/\">Hexo+NexT 博客搭建相册(一)</a> 搭建好相册库.\n\n增加相册style\n----------\n在 next 主题下面增加 photo.swig 页面.\n路径如下\n> next/layout\n\n由于篇幅原因,大家可以在我的 github 上面下载 <a href=\"https://github.com/lovexinforever/blog_back_up/blob/master/photo.swig\">photo.swig</a>\n\n生成相册页面\n----------\n生成相册页面和生成分类和标签页面一样\n> hexo new page \"photos\"\n\n修改 photos 下的 index.md文件\n由于字数限制,代码不贴出来了,大家可以在我的 github 上面下载\n<a href=\"https://github.com/lovexinforever/blog_back_up/blob/master/index.md\">index.md</a>\n其中 `<a href=\"https://lovexinforever.github.io\" target=\"_blank\" class=\"open-ins\">图片正在加载中…</a>`中的 url 替换成你的博客网址.\n需要 三个 css 文件 和一个 js 文件.都在我的 github 上面 ,其中`photoswipe.css`和`default-skin.css`这 css 是查看图片插件的 css, 后面会说到,把这些 css 和 js 文件都在 photos 文件夹下面\n<a href=\"https://github.com/lovexinforever/blog_back_up/blob/master/ins.css\">ins.css</a>\n<a href=\"https://github.com/lovexinforever/blog_back_up/blob/master/photoswipe.css\">photoswipe.css</a>\n<a href=\"hhttps://github.com/lovexinforever/blog_back_up/tree/master/default-skin\">default-skin</a>\n<a href=\"https://github.com/lovexinforever/blog_back_up/blob/master/ins.js\">ins.js</a>\n需要修改 `ins.js` 的 120和121行的 url 为你 github 的图片的网址.\n\n查看相册插件 photoswipe\n----------\n上面 index.md 中加入了两个 css 文件,这是我们用 photoswipe 查看相册用到的.具体可以参考网址 <a href=\"http://photoswipe.com/\">photoswipe</a>\n这里我们已经把 css 文件加上了.之后我们要加上 js 文件 <a href=\"\">photoswipe.min.js</a> 和<a href=\"\">photoswipe-ui-default.min.js</a>\njs存放路径为\n> next/source/js/src\n\n引用 js 文件\n----------\n<s>在 `_layout.swig` 中插入</s>\n在`layout/_scripts/pages/post-details.swig` 中插入\n```\n<script src=\"{{ url_for(theme.js) }}/src/photoswipe.min.js?v={{ theme.version }}\"></script>\n<script src=\"{{ url_for(theme.js) }}/src/photoswipe-ui-default.min.js?v={{ theme.version }}\"></script>\n```\n放在 head 标签里面\n`_layout.swig` 路径为\n> next/layout\n\n到这里已经差不多完成了相册查看,还差最后一步,在 index.html 中加入 标签.\n\n在根目录加入标签\n----------\n在 _layout.swig 中 </body> 前插入\n```\n{% if page.type === \"photos\" %}\n<!-- Root element of PhotoSwipe. Must have class pswp. -->\n<div class=\"pswp\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\n    <div class=\"pswp__bg\"></div>\n    <div class=\"pswp__scroll-wrap\">\n        <div class=\"pswp__container\">\n            <div class=\"pswp__item\"></div>\n            <div class=\"pswp__item\"></div>\n            <div class=\"pswp__item\"></div>\n        </div>\n        <div class=\"pswp__ui pswp__ui--hidden\">\n            <div class=\"pswp__top-bar\">\n                <div class=\"pswp__counter\"></div>\n                <button class=\"pswp__button pswp__button--close\" title=\"Close (Esc)\"></button>\n                <button class=\"pswp__button pswp__button--share\" title=\"Share\"></button>\n                <button class=\"pswp__button pswp__button--fs\" title=\"Toggle fullscreen\"></button>\n                <button class=\"pswp__button pswp__button--zoom\" title=\"Zoom in/out\"></button>\n                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->\n                <!-- element will get class pswp__preloader--active when preloader is running -->\n                <div class=\"pswp__preloader\">\n                    <div class=\"pswp__preloader__icn\">\n                      <div class=\"pswp__preloader__cut\">\n                        <div class=\"pswp__preloader__donut\"></div>\n                      </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\">\n                <div class=\"pswp__share-tooltip\"></div> \n            </div>\n            <button class=\"pswp__button pswp__button--arrow--left\" title=\"Previous (arrow left)\">\n            </button>\n            <button class=\"pswp__button pswp__button--arrow--right\" title=\"Next (arrow right)\">\n            </button>\n            <div class=\"pswp__caption\">\n                <div class=\"pswp__caption__center\"></div>\n            </div>\n        </div>\n    </div>\n</div>\n{% endif %}\n```\n至此相册查看插件 photoswipe 已经配置完毕.\n\n整个流程使用\n----------\n- 在 blog_back_up 里面加入图片,图片路径在 photos 里面 图片命名方式 yyyy-MM-dd_des.jpg/jpeg/gif/png.\n- 执行 python3 tool.py\n- 切换到博客 resource 目录下\n- 在 photos 里面生成了 data.json 文件 提交到github 上面.\n- 输入网址查看照片.\n\n效果展示\n----------\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170918-162151@2x.png\" />\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170918-162204@2x.png\" />\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170918-162218@2x.png\" />\n\n","slug":"Hexo-NexT-博客搭建相册-二","published":1,"updated":"2018-05-02T05:55:01.746Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhio9no7000g6bfyz6zpip1b","content":"<p><img src=\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1505726176244&di=4cfcaa9b699b336d366ff823c5625f32&imgtype=0&src=http%3A%2F%2Fimg10.3lian.com%2Fsc6%2Fshow%2F08%2F19%2F20110510230141386.jpg\"></p>\n<p>上一篇文章 <a href=\"https://lovexinforever.github.io/2017/09/18/Hexo-NexT-%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E7%9B%B8%E5%86%8C-%E4%B8%80/\">Hexo+NexT 博客搭建相册(一)</a> 讲解了怎样用 github 来创建相册库.现在来讲解怎样在 hexo 中使用相册库.<br><a id=\"more\"></a></p>\n<h2 id=\"准备工作\"><a href=\"#准备工作\" class=\"headerlink\" title=\"准备工作\"></a>准备工作</h2><p>按照 <a href=\"https://lovexinforever.github.io/2017/09/18/Hexo-NexT-%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E7%9B%B8%E5%86%8C-%E4%B8%80/\">Hexo+NexT 博客搭建相册(一)</a> 搭建好相册库.</p>\n<h2 id=\"增加相册style\"><a href=\"#增加相册style\" class=\"headerlink\" title=\"增加相册style\"></a>增加相册style</h2><p>在 next 主题下面增加 photo.swig 页面.<br>路径如下</p>\n<blockquote>\n<p>next/layout</p>\n</blockquote>\n<p>由于篇幅原因,大家可以在我的 github 上面下载 <a href=\"https://github.com/lovexinforever/blog_back_up/blob/master/photo.swig\" target=\"_blank\" rel=\"noopener\">photo.swig</a></p>\n<h2 id=\"生成相册页面\"><a href=\"#生成相册页面\" class=\"headerlink\" title=\"生成相册页面\"></a>生成相册页面</h2><p>生成相册页面和生成分类和标签页面一样</p>\n<blockquote>\n<p>hexo new page “photos”</p>\n</blockquote>\n<p>修改 photos 下的 index.md文件<br>由于字数限制,代码不贴出来了,大家可以在我的 github 上面下载<br><a href=\"https://github.com/lovexinforever/blog_back_up/blob/master/index.md\" target=\"_blank\" rel=\"noopener\">index.md</a><br>其中 <code>&lt;a href=&quot;https://lovexinforever.github.io&quot; target=&quot;_blank&quot; class=&quot;open-ins&quot;&gt;图片正在加载中…&lt;/a&gt;</code>中的 url 替换成你的博客网址.<br>需要 三个 css 文件 和一个 js 文件.都在我的 github 上面 ,其中<code>photoswipe.css</code>和<code>default-skin.css</code>这 css 是查看图片插件的 css, 后面会说到,把这些 css 和 js 文件都在 photos 文件夹下面<br><a href=\"https://github.com/lovexinforever/blog_back_up/blob/master/ins.css\" target=\"_blank\" rel=\"noopener\">ins.css</a><br><a href=\"https://github.com/lovexinforever/blog_back_up/blob/master/photoswipe.css\" target=\"_blank\" rel=\"noopener\">photoswipe.css</a><br><a href=\"hhttps://github.com/lovexinforever/blog_back_up/tree/master/default-skin\" target=\"_blank\" rel=\"noopener\">default-skin</a><br><a href=\"https://github.com/lovexinforever/blog_back_up/blob/master/ins.js\" target=\"_blank\" rel=\"noopener\">ins.js</a><br>需要修改 <code>ins.js</code> 的 120和121行的 url 为你 github 的图片的网址.</p>\n<h2 id=\"查看相册插件-photoswipe\"><a href=\"#查看相册插件-photoswipe\" class=\"headerlink\" title=\"查看相册插件 photoswipe\"></a>查看相册插件 photoswipe</h2><p>上面 index.md 中加入了两个 css 文件,这是我们用 photoswipe 查看相册用到的.具体可以参考网址 <a href=\"http://photoswipe.com/\" target=\"_blank\" rel=\"noopener\">photoswipe</a><br>这里我们已经把 css 文件加上了.之后我们要加上 js 文件 <a href=\"\">photoswipe.min.js</a> 和<a href=\"\">photoswipe-ui-default.min.js</a><br>js存放路径为</p>\n<blockquote>\n<p>next/source/js/src</p>\n</blockquote>\n<h2 id=\"引用-js-文件\"><a href=\"#引用-js-文件\" class=\"headerlink\" title=\"引用 js 文件\"></a>引用 js 文件</h2><p><s>在 <code>_layout.swig</code> 中插入</s><br>在<code>layout/_scripts/pages/post-details.swig</code> 中插入<br><figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"</span></span></span><span class=\"template-variable\">&#123;&#123; url_for(theme.js) &#125;&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">/src/photoswipe.min.js?v=</span></span></span><span class=\"template-variable\">&#123;&#123; theme.version &#125;&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"</span></span></span><span class=\"template-variable\">&#123;&#123; url_for(theme.js) &#125;&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">/src/photoswipe-ui-default.min.js?v=</span></span></span><span class=\"template-variable\">&#123;&#123; theme.version &#125;&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>\n<p>放在 head 标签里面<br><code>_layout.swig</code> 路径为</p>\n<blockquote>\n<p>next/layout</p>\n</blockquote>\n<p>到这里已经差不多完成了相册查看,还差最后一步,在 index.html 中加入 标签.</p>\n<h2 id=\"在根目录加入标签\"><a href=\"#在根目录加入标签\" class=\"headerlink\" title=\"在根目录加入标签\"></a>在根目录加入标签</h2><p>在 _layout.swig 中  前插入<br><figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> page.type === \"photos\" %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"comment\">&lt;!-- Root element of PhotoSwipe. Must have class pswp. --&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp\"</span> <span class=\"attr\">tabindex</span>=<span class=\"string\">\"-1\"</span> <span class=\"attr\">role</span>=<span class=\"string\">\"dialog\"</span> <span class=\"attr\">aria-hidden</span>=<span class=\"string\">\"true\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__bg\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__scroll-wrap\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__container\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__item\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__item\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__item\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__ui pswp__ui--hidden\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__top-bar\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__counter\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__button pswp__button--close\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"Close (Esc)\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__button pswp__button--share\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"Share\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__button pswp__button--fs\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"Toggle fullscreen\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__button pswp__button--zoom\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"Zoom in/out\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"comment\">&lt;!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR --&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"comment\">&lt;!-- element will get class pswp__preloader--active when preloader is running --&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__preloader\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__preloader__icn\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__preloader__cut\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__preloader__donut\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__share-tooltip\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span> </span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__button pswp__button--arrow--left\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"Previous (arrow left)\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__button pswp__button--arrow--right\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"Next (arrow right)\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__caption\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__caption__center\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span><span class=\"xml\"></span></span><br></pre></td></tr></table></figure></p>\n<p>至此相册查看插件 photoswipe 已经配置完毕.</p>\n<h2 id=\"整个流程使用\"><a href=\"#整个流程使用\" class=\"headerlink\" title=\"整个流程使用\"></a>整个流程使用</h2><ul>\n<li>在 blog_back_up 里面加入图片,图片路径在 photos 里面 图片命名方式 yyyy-MM-dd_des.jpg/jpeg/gif/png.</li>\n<li>执行 python3 tool.py</li>\n<li>切换到博客 resource 目录下</li>\n<li>在 photos 里面生成了 data.json 文件 提交到github 上面.</li>\n<li>输入网址查看照片.</li>\n</ul>\n<h2 id=\"效果展示\"><a href=\"#效果展示\" class=\"headerlink\" title=\"效果展示\"></a>效果展示</h2><p><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170918-162151@2x.png\"><br><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170918-162204@2x.png\"><br><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170918-162218@2x.png\"></p>\n","site":{"data":{}},"excerpt":"<p><img src=\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1505726176244&di=4cfcaa9b699b336d366ff823c5625f32&imgtype=0&src=http%3A%2F%2Fimg10.3lian.com%2Fsc6%2Fshow%2F08%2F19%2F20110510230141386.jpg\"></p>\n<p>上一篇文章 <a href=\"https://lovexinforever.github.io/2017/09/18/Hexo-NexT-%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E7%9B%B8%E5%86%8C-%E4%B8%80/\">Hexo+NexT 博客搭建相册(一)</a> 讲解了怎样用 github 来创建相册库.现在来讲解怎样在 hexo 中使用相册库.<br>","more":"</p>\n<h2 id=\"准备工作\"><a href=\"#准备工作\" class=\"headerlink\" title=\"准备工作\"></a>准备工作</h2><p>按照 <a href=\"https://lovexinforever.github.io/2017/09/18/Hexo-NexT-%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E7%9B%B8%E5%86%8C-%E4%B8%80/\">Hexo+NexT 博客搭建相册(一)</a> 搭建好相册库.</p>\n<h2 id=\"增加相册style\"><a href=\"#增加相册style\" class=\"headerlink\" title=\"增加相册style\"></a>增加相册style</h2><p>在 next 主题下面增加 photo.swig 页面.<br>路径如下</p>\n<blockquote>\n<p>next/layout</p>\n</blockquote>\n<p>由于篇幅原因,大家可以在我的 github 上面下载 <a href=\"https://github.com/lovexinforever/blog_back_up/blob/master/photo.swig\" target=\"_blank\" rel=\"noopener\">photo.swig</a></p>\n<h2 id=\"生成相册页面\"><a href=\"#生成相册页面\" class=\"headerlink\" title=\"生成相册页面\"></a>生成相册页面</h2><p>生成相册页面和生成分类和标签页面一样</p>\n<blockquote>\n<p>hexo new page “photos”</p>\n</blockquote>\n<p>修改 photos 下的 index.md文件<br>由于字数限制,代码不贴出来了,大家可以在我的 github 上面下载<br><a href=\"https://github.com/lovexinforever/blog_back_up/blob/master/index.md\" target=\"_blank\" rel=\"noopener\">index.md</a><br>其中 <code>&lt;a href=&quot;https://lovexinforever.github.io&quot; target=&quot;_blank&quot; class=&quot;open-ins&quot;&gt;图片正在加载中…&lt;/a&gt;</code>中的 url 替换成你的博客网址.<br>需要 三个 css 文件 和一个 js 文件.都在我的 github 上面 ,其中<code>photoswipe.css</code>和<code>default-skin.css</code>这 css 是查看图片插件的 css, 后面会说到,把这些 css 和 js 文件都在 photos 文件夹下面<br><a href=\"https://github.com/lovexinforever/blog_back_up/blob/master/ins.css\" target=\"_blank\" rel=\"noopener\">ins.css</a><br><a href=\"https://github.com/lovexinforever/blog_back_up/blob/master/photoswipe.css\" target=\"_blank\" rel=\"noopener\">photoswipe.css</a><br><a href=\"hhttps://github.com/lovexinforever/blog_back_up/tree/master/default-skin\" target=\"_blank\" rel=\"noopener\">default-skin</a><br><a href=\"https://github.com/lovexinforever/blog_back_up/blob/master/ins.js\" target=\"_blank\" rel=\"noopener\">ins.js</a><br>需要修改 <code>ins.js</code> 的 120和121行的 url 为你 github 的图片的网址.</p>\n<h2 id=\"查看相册插件-photoswipe\"><a href=\"#查看相册插件-photoswipe\" class=\"headerlink\" title=\"查看相册插件 photoswipe\"></a>查看相册插件 photoswipe</h2><p>上面 index.md 中加入了两个 css 文件,这是我们用 photoswipe 查看相册用到的.具体可以参考网址 <a href=\"http://photoswipe.com/\" target=\"_blank\" rel=\"noopener\">photoswipe</a><br>这里我们已经把 css 文件加上了.之后我们要加上 js 文件 <a href=\"\">photoswipe.min.js</a> 和<a href=\"\">photoswipe-ui-default.min.js</a><br>js存放路径为</p>\n<blockquote>\n<p>next/source/js/src</p>\n</blockquote>\n<h2 id=\"引用-js-文件\"><a href=\"#引用-js-文件\" class=\"headerlink\" title=\"引用 js 文件\"></a>引用 js 文件</h2><p><s>在 <code>_layout.swig</code> 中插入</s><br>在<code>layout/_scripts/pages/post-details.swig</code> 中插入<br><figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"</span></span></span><span class=\"template-variable\">&#123;&#123; url_for(theme.js) &#125;&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">/src/photoswipe.min.js?v=</span></span></span><span class=\"template-variable\">&#123;&#123; theme.version &#125;&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"</span></span></span><span class=\"template-variable\">&#123;&#123; url_for(theme.js) &#125;&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">/src/photoswipe-ui-default.min.js?v=</span></span></span><span class=\"template-variable\">&#123;&#123; theme.version &#125;&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>\n<p>放在 head 标签里面<br><code>_layout.swig</code> 路径为</p>\n<blockquote>\n<p>next/layout</p>\n</blockquote>\n<p>到这里已经差不多完成了相册查看,还差最后一步,在 index.html 中加入 标签.</p>\n<h2 id=\"在根目录加入标签\"><a href=\"#在根目录加入标签\" class=\"headerlink\" title=\"在根目录加入标签\"></a>在根目录加入标签</h2><p>在 _layout.swig 中  前插入<br><figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> page.type === \"photos\" %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"comment\">&lt;!-- Root element of PhotoSwipe. Must have class pswp. --&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp\"</span> <span class=\"attr\">tabindex</span>=<span class=\"string\">\"-1\"</span> <span class=\"attr\">role</span>=<span class=\"string\">\"dialog\"</span> <span class=\"attr\">aria-hidden</span>=<span class=\"string\">\"true\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__bg\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__scroll-wrap\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__container\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__item\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__item\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__item\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__ui pswp__ui--hidden\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__top-bar\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__counter\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__button pswp__button--close\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"Close (Esc)\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__button pswp__button--share\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"Share\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__button pswp__button--fs\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"Toggle fullscreen\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__button pswp__button--zoom\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"Zoom in/out\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"comment\">&lt;!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR --&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"comment\">&lt;!-- element will get class pswp__preloader--active when preloader is running --&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__preloader\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__preloader__icn\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__preloader__cut\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__preloader__donut\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__share-tooltip\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span> </span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__button pswp__button--arrow--left\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"Previous (arrow left)\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__button pswp__button--arrow--right\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"Next (arrow right)\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__caption\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pswp__caption__center\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span><span class=\"xml\"></span></span><br></pre></td></tr></table></figure></p>\n<p>至此相册查看插件 photoswipe 已经配置完毕.</p>\n<h2 id=\"整个流程使用\"><a href=\"#整个流程使用\" class=\"headerlink\" title=\"整个流程使用\"></a>整个流程使用</h2><ul>\n<li>在 blog_back_up 里面加入图片,图片路径在 photos 里面 图片命名方式 yyyy-MM-dd_des.jpg/jpeg/gif/png.</li>\n<li>执行 python3 tool.py</li>\n<li>切换到博客 resource 目录下</li>\n<li>在 photos 里面生成了 data.json 文件 提交到github 上面.</li>\n<li>输入网址查看照片.</li>\n</ul>\n<h2 id=\"效果展示\"><a href=\"#效果展示\" class=\"headerlink\" title=\"效果展示\"></a>效果展示</h2><p><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170918-162151@2x.png\"><br><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170918-162204@2x.png\"><br><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170918-162218@2x.png\"></p>"},{"title":"Hexo+NexT 增加精品文章方法","date":"2017-09-19T09:09:10.000Z","essential":true,"_content":"\n捣鼓了一下 置顶方法,又想折腾精品文章.和置顶方法类似.\n<!--more-->\n精品 style\n----------\n首先增加精品的样式文件.\n在next 主题下面的 post.swig 找到如下代码.\n```\n{% if theme.post_wordcount.wordcount or theme.post_wordcount.min2read %}\n    <div class=\"post-wordcount\">\n        {% if theme.post_wordcount.wordcount %}\n        {% if not theme.post_wordcount.separated_meta %}\n            <span class=\"post-meta-divider\">|</span>\n        {% endif %}\n        <span class=\"post-meta-item-icon\">\n            <i class=\"fa fa-file-word-o\"></i>\n        </span>\n        {% if theme.post_wordcount.item_text %}\n            <span class=\"post-meta-item-text\">{{ __('post.wordcount') }}&#58;</span>\n        {% endif %}\n        <span title=\"{{ __('post.wordcount') }}\">\n            {{ wordcount(post.content) }}\n        </span>\n        {% endif %}\n\n        {% if theme.post_wordcount.wordcount and theme.post_wordcount.min2read %}\n        <span class=\"post-meta-divider\">|</span>\n        {% endif %}\n\n        {% if theme.post_wordcount.min2read %}\n        <span class=\"post-meta-item-icon\">\n            <i class=\"fa fa-clock-o\"></i>\n        </span>\n        {% if theme.post_wordcount.item_text %}\n            <span class=\"post-meta-item-text\">{{ __('post.min2read') }} &asymp;</span>\n        {% endif %}\n        <span title=\"{{ __('post.min2read') }}\">\n            {{ min2read(post.content) }}\n        </span>\n        {% endif %}\n    </div>\n    {% endif %}\n```\n在后面添加以下代码\n\n```\n{% if post.top %}\n    <span class=\"post-meta-item-icon\">\n            <i class=\"fa fa-thumb-tack zhidingtop\">置顶</i>\n        </span>\n    \n    {% endif %}\n    {% if post.top&&post.essential %}\n    <span class=\"post-meta-divider\">|</span>\n    {% endif %}\n    {% if post.essential%}\n    <span class=\"post-meta-item-icon\">\n            <i class=\"fa fa-newspaper-o jingping\">精品</i>\n    </span>\n    \n{% endif %}\n```\n\n增加 `jingping` css 样式\n----------\n```\n.jingping{\n  background : #00a8c3;\n  padding:2px 4px 2px 4px;\n  color: #fff;\n}\n```\n\n到此就完成了精品的设置.只要在文章的 md 文件中 加入如下代码\n```\nessential: true\n```\n就能看到设置的精品文章了\n\n效果\n----------\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170919-171922@2x.png\" />","source":"_posts/Hexo-NexT-增加精品文章方法.md","raw":"---\ntitle: Hexo+NexT 增加精品文章方法\ndate: 2017-09-19 17:09:10\ntags:\n- Hexo\n- NexT\n- 相册\n- Photo\ncategories:\n- 技术\n- Hexo\nessential: true\n---\n\n捣鼓了一下 置顶方法,又想折腾精品文章.和置顶方法类似.\n<!--more-->\n精品 style\n----------\n首先增加精品的样式文件.\n在next 主题下面的 post.swig 找到如下代码.\n```\n{% if theme.post_wordcount.wordcount or theme.post_wordcount.min2read %}\n    <div class=\"post-wordcount\">\n        {% if theme.post_wordcount.wordcount %}\n        {% if not theme.post_wordcount.separated_meta %}\n            <span class=\"post-meta-divider\">|</span>\n        {% endif %}\n        <span class=\"post-meta-item-icon\">\n            <i class=\"fa fa-file-word-o\"></i>\n        </span>\n        {% if theme.post_wordcount.item_text %}\n            <span class=\"post-meta-item-text\">{{ __('post.wordcount') }}&#58;</span>\n        {% endif %}\n        <span title=\"{{ __('post.wordcount') }}\">\n            {{ wordcount(post.content) }}\n        </span>\n        {% endif %}\n\n        {% if theme.post_wordcount.wordcount and theme.post_wordcount.min2read %}\n        <span class=\"post-meta-divider\">|</span>\n        {% endif %}\n\n        {% if theme.post_wordcount.min2read %}\n        <span class=\"post-meta-item-icon\">\n            <i class=\"fa fa-clock-o\"></i>\n        </span>\n        {% if theme.post_wordcount.item_text %}\n            <span class=\"post-meta-item-text\">{{ __('post.min2read') }} &asymp;</span>\n        {% endif %}\n        <span title=\"{{ __('post.min2read') }}\">\n            {{ min2read(post.content) }}\n        </span>\n        {% endif %}\n    </div>\n    {% endif %}\n```\n在后面添加以下代码\n\n```\n{% if post.top %}\n    <span class=\"post-meta-item-icon\">\n            <i class=\"fa fa-thumb-tack zhidingtop\">置顶</i>\n        </span>\n    \n    {% endif %}\n    {% if post.top&&post.essential %}\n    <span class=\"post-meta-divider\">|</span>\n    {% endif %}\n    {% if post.essential%}\n    <span class=\"post-meta-item-icon\">\n            <i class=\"fa fa-newspaper-o jingping\">精品</i>\n    </span>\n    \n{% endif %}\n```\n\n增加 `jingping` css 样式\n----------\n```\n.jingping{\n  background : #00a8c3;\n  padding:2px 4px 2px 4px;\n  color: #fff;\n}\n```\n\n到此就完成了精品的设置.只要在文章的 md 文件中 加入如下代码\n```\nessential: true\n```\n就能看到设置的精品文章了\n\n效果\n----------\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170919-171922@2x.png\" />","slug":"Hexo-NexT-增加精品文章方法","published":1,"updated":"2018-05-02T05:55:01.746Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhio9no8000i6bfyp62lsa0c","content":"<p>捣鼓了一下 置顶方法,又想折腾精品文章.和置顶方法类似.<br><a id=\"more\"></a></p>\n<h2 id=\"精品-style\"><a href=\"#精品-style\" class=\"headerlink\" title=\"精品 style\"></a>精品 style</h2><p>首先增加精品的样式文件.<br>在next 主题下面的 post.swig 找到如下代码.<br><figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> theme.post_wordcount.wordcount or theme.post_wordcount.min2read %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"post-wordcount\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> theme.post_wordcount.wordcount %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">        </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> not theme.post_wordcount.separated_meta %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"post-meta-divider\"</span>&gt;</span>|<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"post-meta-item-icon\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"fa fa-file-word-o\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> theme.post_wordcount.item_text %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"post-meta-item-text\"</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123; __('post.wordcount') &#125;&#125;</span><span class=\"xml\">&amp;#58;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">title</span>=<span class=\"string\">\"</span></span></span><span class=\"template-variable\">&#123;&#123; __('post.wordcount') &#125;&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            </span><span class=\"template-variable\">&#123;&#123; wordcount(post.content) &#125;&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">        </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> theme.post_wordcount.wordcount and theme.post_wordcount.min2read %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"post-meta-divider\"</span>&gt;</span>|<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">        </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> theme.post_wordcount.min2read %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"post-meta-item-icon\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"fa fa-clock-o\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> theme.post_wordcount.item_text %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"post-meta-item-text\"</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123; __('post.min2read') &#125;&#125;</span><span class=\"xml\"> &amp;asymp;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">title</span>=<span class=\"string\">\"</span></span></span><span class=\"template-variable\">&#123;&#123; __('post.min2read') &#125;&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            </span><span class=\"template-variable\">&#123;&#123; min2read(post.content) &#125;&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span><span class=\"xml\"></span></span><br></pre></td></tr></table></figure></p>\n<p>在后面添加以下代码</p>\n<figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> post.top %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"post-meta-item-icon\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"fa fa-thumb-tack zhidingtop\"</span>&gt;</span>置顶<span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    </span></span><br><span class=\"line\"><span class=\"xml\">    </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">    </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> post.top&amp;&amp;post.essential %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"post-meta-divider\"</span>&gt;</span>|<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">    </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> post.essential%&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"post-meta-item-icon\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"fa fa-newspaper-o jingping\"</span>&gt;</span>精品<span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    </span></span><br><span class=\"line\"><span class=\"xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span><span class=\"xml\"></span></span><br></pre></td></tr></table></figure>\n<h2 id=\"增加-jingping-css-样式\"><a href=\"#增加-jingping-css-样式\" class=\"headerlink\" title=\"增加 jingping css 样式\"></a>增加 <code>jingping</code> css 样式</h2><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.jingping</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">background </span>: <span class=\"number\">#00a8c3</span>;</span><br><span class=\"line\">  <span class=\"attribute\">padding</span>:<span class=\"number\">2px</span> <span class=\"number\">4px</span> <span class=\"number\">2px</span> <span class=\"number\">4px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#fff</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>到此就完成了精品的设置.只要在文章的 md 文件中 加入如下代码<br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">essential:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure></p>\n<p>就能看到设置的精品文章了</p>\n<h2 id=\"效果\"><a href=\"#效果\" class=\"headerlink\" title=\"效果\"></a>效果</h2><p><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170919-171922@2x.png\"></p>\n","site":{"data":{}},"excerpt":"<p>捣鼓了一下 置顶方法,又想折腾精品文章.和置顶方法类似.<br>","more":"</p>\n<h2 id=\"精品-style\"><a href=\"#精品-style\" class=\"headerlink\" title=\"精品 style\"></a>精品 style</h2><p>首先增加精品的样式文件.<br>在next 主题下面的 post.swig 找到如下代码.<br><figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> theme.post_wordcount.wordcount or theme.post_wordcount.min2read %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"post-wordcount\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> theme.post_wordcount.wordcount %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">        </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> not theme.post_wordcount.separated_meta %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"post-meta-divider\"</span>&gt;</span>|<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"post-meta-item-icon\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"fa fa-file-word-o\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> theme.post_wordcount.item_text %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"post-meta-item-text\"</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123; __('post.wordcount') &#125;&#125;</span><span class=\"xml\">&amp;#58;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">title</span>=<span class=\"string\">\"</span></span></span><span class=\"template-variable\">&#123;&#123; __('post.wordcount') &#125;&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            </span><span class=\"template-variable\">&#123;&#123; wordcount(post.content) &#125;&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">        </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> theme.post_wordcount.wordcount and theme.post_wordcount.min2read %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"post-meta-divider\"</span>&gt;</span>|<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">        </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> theme.post_wordcount.min2read %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"post-meta-item-icon\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"fa fa-clock-o\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> theme.post_wordcount.item_text %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"post-meta-item-text\"</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123; __('post.min2read') &#125;&#125;</span><span class=\"xml\"> &amp;asymp;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">title</span>=<span class=\"string\">\"</span></span></span><span class=\"template-variable\">&#123;&#123; __('post.min2read') &#125;&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            </span><span class=\"template-variable\">&#123;&#123; min2read(post.content) &#125;&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span><span class=\"xml\"></span></span><br></pre></td></tr></table></figure></p>\n<p>在后面添加以下代码</p>\n<figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> post.top %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"post-meta-item-icon\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"fa fa-thumb-tack zhidingtop\"</span>&gt;</span>置顶<span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">        <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    </span></span><br><span class=\"line\"><span class=\"xml\">    </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">    </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> post.top&amp;&amp;post.essential %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"post-meta-divider\"</span>&gt;</span>|<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">    </span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">if</span></span> post.essential%&#125;</span><span class=\"xml\"></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"post-meta-item-icon\"</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">            <span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">\"fa fa-newspaper-o jingping\"</span>&gt;</span>精品<span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"xml\">    </span></span><br><span class=\"line\"><span class=\"xml\"></span><span class=\"template-tag\">&#123;% <span class=\"name\"><span class=\"name\">endif</span></span> %&#125;</span><span class=\"xml\"></span></span><br></pre></td></tr></table></figure>\n<h2 id=\"增加-jingping-css-样式\"><a href=\"#增加-jingping-css-样式\" class=\"headerlink\" title=\"增加 jingping css 样式\"></a>增加 <code>jingping</code> css 样式</h2><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.jingping</span>&#123;</span><br><span class=\"line\">  <span class=\"attribute\">background </span>: <span class=\"number\">#00a8c3</span>;</span><br><span class=\"line\">  <span class=\"attribute\">padding</span>:<span class=\"number\">2px</span> <span class=\"number\">4px</span> <span class=\"number\">2px</span> <span class=\"number\">4px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#fff</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>到此就完成了精品的设置.只要在文章的 md 文件中 加入如下代码<br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">essential:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure></p>\n<p>就能看到设置的精品文章了</p>\n<h2 id=\"效果\"><a href=\"#效果\" class=\"headerlink\" title=\"效果\"></a>效果</h2><p><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170919-171922@2x.png\"></p>"},{"title":"Hexo博客添加文章置顶功能","date":"2017-09-13T11:40:12.000Z","_content":"原来用的WordPress，直接很方便地管理置顶文章，Hexo只提供了按发布日期的排序，只好网上找了些资料修改。\n\n原理：在Hexo生成首页HTML时，将top值高的文章排在前面，达到置顶功能。\n<!-- more -->\n修改Hexo文件夹下的`node_modules/hexo-generator-index/lib/generator.js`，在生成文章之前进行文章top值排序。\n\n需添加的代码：\n```\nposts.data = posts.data.sort(function(a, b) {\n    if(a.top && b.top) { // 两篇文章top都有定义\n        if(a.top == b.top) return b.date - a.date; // 若top值一样则按照文章日期降序排\n        else return b.top - a.top; // 否则按照top值降序排\n    }\n    else if(a.top && !b.top) { // 以下是只有一篇文章top有定义，那么将有top的排在前面（这里用异或操作居然不行233）\n        return -1;\n    }\n    else if(!a.top && b.top) {\n        return 1;\n    }\n    else return b.date - a.date; // 都没定义按照文章日期降序排\n});\n```\n修改完成后，只需要在`front-matter`中设置需要置顶文章的`top`值，将会根据`top`值大小来选择置顶顺序`top`值越大越靠前。需要注意的是，这个文件不是主题的一部分，也不是Git管理的，备份的时候比较容易忽略。\n\n以下是最终的generator.js内容\n```\n'use strict';\nvar pagination = require('hexo-pagination');\nmodule.exports = function(locals){\n  var config = this.config;\n  var posts = locals.posts;\n    posts.data = posts.data.sort(function(a, b) {\n        if(a.top && b.top) {\n            if(a.top == b.top) return b.date - a.date;\n            else return b.top - a.top;\n        }\n        else if(a.top && !b.top) {\n            return -1;\n        }\n        else if(!a.top && b.top) {\n            return 1;\n        }\n        else return b.date - a.date;\n    });\n  var paginationDir = config.pagination_dir || 'page';\n  return pagination('', posts, {\n    perPage: config.index_generator.per_page,\n    layout: ['index', 'archive'],\n    format: paginationDir + '/%d/',\n    data: {\n      __index: true\n    }\n  });\n};\n```","source":"_posts/Hexo博客添加文章置顶功能.md","raw":"---\ntitle: Hexo博客添加文章置顶功能\ndate: 2017-09-13 19:40:12\ntags:\n- hexo\n- 置顶\ncategories: \n- 技术\n---\n原来用的WordPress，直接很方便地管理置顶文章，Hexo只提供了按发布日期的排序，只好网上找了些资料修改。\n\n原理：在Hexo生成首页HTML时，将top值高的文章排在前面，达到置顶功能。\n<!-- more -->\n修改Hexo文件夹下的`node_modules/hexo-generator-index/lib/generator.js`，在生成文章之前进行文章top值排序。\n\n需添加的代码：\n```\nposts.data = posts.data.sort(function(a, b) {\n    if(a.top && b.top) { // 两篇文章top都有定义\n        if(a.top == b.top) return b.date - a.date; // 若top值一样则按照文章日期降序排\n        else return b.top - a.top; // 否则按照top值降序排\n    }\n    else if(a.top && !b.top) { // 以下是只有一篇文章top有定义，那么将有top的排在前面（这里用异或操作居然不行233）\n        return -1;\n    }\n    else if(!a.top && b.top) {\n        return 1;\n    }\n    else return b.date - a.date; // 都没定义按照文章日期降序排\n});\n```\n修改完成后，只需要在`front-matter`中设置需要置顶文章的`top`值，将会根据`top`值大小来选择置顶顺序`top`值越大越靠前。需要注意的是，这个文件不是主题的一部分，也不是Git管理的，备份的时候比较容易忽略。\n\n以下是最终的generator.js内容\n```\n'use strict';\nvar pagination = require('hexo-pagination');\nmodule.exports = function(locals){\n  var config = this.config;\n  var posts = locals.posts;\n    posts.data = posts.data.sort(function(a, b) {\n        if(a.top && b.top) {\n            if(a.top == b.top) return b.date - a.date;\n            else return b.top - a.top;\n        }\n        else if(a.top && !b.top) {\n            return -1;\n        }\n        else if(!a.top && b.top) {\n            return 1;\n        }\n        else return b.date - a.date;\n    });\n  var paginationDir = config.pagination_dir || 'page';\n  return pagination('', posts, {\n    perPage: config.index_generator.per_page,\n    layout: ['index', 'archive'],\n    format: paginationDir + '/%d/',\n    data: {\n      __index: true\n    }\n  });\n};\n```","slug":"Hexo博客添加文章置顶功能","published":1,"updated":"2018-05-02T05:55:01.747Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhio9noa000m6bfy7x3kjnyi","content":"<p>原来用的WordPress，直接很方便地管理置顶文章，Hexo只提供了按发布日期的排序，只好网上找了些资料修改。</p>\n<p>原理：在Hexo生成首页HTML时，将top值高的文章排在前面，达到置顶功能。<br><a id=\"more\"></a><br>修改Hexo文件夹下的<code>node_modules/hexo-generator-index/lib/generator.js</code>，在生成文章之前进行文章top值排序。</p>\n<p>需添加的代码：<br><figure class=\"highlight coq\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">posts.data = posts.data.sort(function(a, b) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(a.<span class=\"built_in\">top</span> &amp;&amp; b.<span class=\"built_in\">top</span>) &#123; // 两篇文章<span class=\"built_in\">top</span>都有定义</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(a.<span class=\"built_in\">top</span> == b.<span class=\"built_in\">top</span>) <span class=\"keyword\">return</span> b.date - a.date; // 若<span class=\"built_in\">top</span>值一样则按照文章日期降序排</span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">return</span> b.<span class=\"built_in\">top</span> - a.<span class=\"built_in\">top</span>; // 否则按照<span class=\"built_in\">top</span>值降序排</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(a.<span class=\"built_in\">top</span> &amp;&amp; !b.<span class=\"built_in\">top</span>) &#123; // 以下是只有一篇文章<span class=\"built_in\">top</span>有定义，那么将有<span class=\"built_in\">top</span>的排在前面（这里用异或操作居然不行<span class=\"number\">233</span>）</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(!a.<span class=\"built_in\">top</span> &amp;&amp; b.<span class=\"built_in\">top</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">return</span> b.date - a.date; // 都没定义按照文章日期降序排</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></p>\n<p>修改完成后，只需要在<code>front-matter</code>中设置需要置顶文章的<code>top</code>值，将会根据<code>top</code>值大小来选择置顶顺序<code>top</code>值越大越靠前。需要注意的是，这个文件不是主题的一部分，也不是Git管理的，备份的时候比较容易忽略。</p>\n<p>以下是最终的generator.js内容<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">'use strict'</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> pagination = <span class=\"built_in\">require</span>(<span class=\"string\">'hexo-pagination'</span>);</span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">locals</span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> config = <span class=\"keyword\">this</span>.config;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> posts = locals.posts;</span><br><span class=\"line\">    posts.data = posts.data.sort(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(a.top &amp;&amp; b.top) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(a.top == b.top) <span class=\"keyword\">return</span> b.date - a.date;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">return</span> b.top - a.top;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(a.top &amp;&amp; !b.top) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(!a.top &amp;&amp; b.top) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">return</span> b.date - a.date;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">var</span> paginationDir = config.pagination_dir || <span class=\"string\">'page'</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> pagination(<span class=\"string\">''</span>, posts, &#123;</span><br><span class=\"line\">    perPage: config.index_generator.per_page,</span><br><span class=\"line\">    layout: [<span class=\"string\">'index'</span>, <span class=\"string\">'archive'</span>],</span><br><span class=\"line\">    format: paginationDir + <span class=\"string\">'/%d/'</span>,</span><br><span class=\"line\">    data: &#123;</span><br><span class=\"line\">      __index: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"<p>原来用的WordPress，直接很方便地管理置顶文章，Hexo只提供了按发布日期的排序，只好网上找了些资料修改。</p>\n<p>原理：在Hexo生成首页HTML时，将top值高的文章排在前面，达到置顶功能。<br>","more":"<br>修改Hexo文件夹下的<code>node_modules/hexo-generator-index/lib/generator.js</code>，在生成文章之前进行文章top值排序。</p>\n<p>需添加的代码：<br><figure class=\"highlight coq\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">posts.data = posts.data.sort(function(a, b) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(a.<span class=\"built_in\">top</span> &amp;&amp; b.<span class=\"built_in\">top</span>) &#123; // 两篇文章<span class=\"built_in\">top</span>都有定义</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(a.<span class=\"built_in\">top</span> == b.<span class=\"built_in\">top</span>) <span class=\"keyword\">return</span> b.date - a.date; // 若<span class=\"built_in\">top</span>值一样则按照文章日期降序排</span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">return</span> b.<span class=\"built_in\">top</span> - a.<span class=\"built_in\">top</span>; // 否则按照<span class=\"built_in\">top</span>值降序排</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(a.<span class=\"built_in\">top</span> &amp;&amp; !b.<span class=\"built_in\">top</span>) &#123; // 以下是只有一篇文章<span class=\"built_in\">top</span>有定义，那么将有<span class=\"built_in\">top</span>的排在前面（这里用异或操作居然不行<span class=\"number\">233</span>）</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(!a.<span class=\"built_in\">top</span> &amp;&amp; b.<span class=\"built_in\">top</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">return</span> b.date - a.date; // 都没定义按照文章日期降序排</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure></p>\n<p>修改完成后，只需要在<code>front-matter</code>中设置需要置顶文章的<code>top</code>值，将会根据<code>top</code>值大小来选择置顶顺序<code>top</code>值越大越靠前。需要注意的是，这个文件不是主题的一部分，也不是Git管理的，备份的时候比较容易忽略。</p>\n<p>以下是最终的generator.js内容<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">'use strict'</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> pagination = <span class=\"built_in\">require</span>(<span class=\"string\">'hexo-pagination'</span>);</span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">locals</span>)</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> config = <span class=\"keyword\">this</span>.config;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> posts = locals.posts;</span><br><span class=\"line\">    posts.data = posts.data.sort(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">a, b</span>) </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(a.top &amp;&amp; b.top) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(a.top == b.top) <span class=\"keyword\">return</span> b.date - a.date;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> <span class=\"keyword\">return</span> b.top - a.top;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(a.top &amp;&amp; !b.top) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(!a.top &amp;&amp; b.top) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> <span class=\"keyword\">return</span> b.date - a.date;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">var</span> paginationDir = config.pagination_dir || <span class=\"string\">'page'</span>;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> pagination(<span class=\"string\">''</span>, posts, &#123;</span><br><span class=\"line\">    perPage: config.index_generator.per_page,</span><br><span class=\"line\">    layout: [<span class=\"string\">'index'</span>, <span class=\"string\">'archive'</span>],</span><br><span class=\"line\">    format: paginationDir + <span class=\"string\">'/%d/'</span>,</span><br><span class=\"line\">    data: &#123;</span><br><span class=\"line\">      __index: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure></p>"},{"title":"Hexo的版本控制与持续集成","date":"2017-09-13T05:35:06.000Z","top":3,"essential":true,"_content":"<img src=\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1505296567323&di=32e77172fa0656b500322d1f88a02925&imgtype=0&src=http%3A%2F%2Fimgsrc.baidu.com%2Fimage%2Fc0%253Dshijue1%252C0%252C0%252C294%252C40%2Fsign%3D4c3b2306ba51f819e5280b09b2dd2098%2F8718367adab44aed5b5a1bc9b91c8701a18bfb83.jpg\"/>\n\n<blockquote class=\"blockquote-center\"><h2>人生并不像火车要通过每个站似的经过每一个生活阶段。人生总是直向前行走，从不留下什么。</h2></br>—— 刘易斯</blockquote>\n<!--more-->\n想必很多人会把Hexo生成出来的静态网站放到GitHub Pages来进行托管。一般发布Hexo博客的流程是，首先在本地搭建Hexo的环境，编写新文章，然后利用`hexo deploy`来发布到Git。那么对于本地的Hexo的原始文件怎么管理呢？如果换电脑了怎么办？如果没有对原始文件进行备份，突然有一天你的本地环境挂了导致源文件丢失，那不就呵呵了。也许你会想到用Dropbox或者其他方案来对源文件进行备份，但是每次更新完博客，需要备份好源文件，然后执行`hexo deploy`进行发布，是不是很麻烦？换了电脑之后又要重新搭建本地环境，是不是很蛋疼？\n那么接下来我们就来说说如何优雅愉快地对我们的Hexo进行版本管理和发布。\n既然我们已经用了GitHub来托管我们生成出来的静态网站，那么为什么不也把Hexo博客的源文件也host在GitHub上呢。那么问题来了，如果我们把Hexo博客的源文件托管在GitHub上，我们的发布流程就会变为：\n- 执行`git push`把更新的源文件push到托管源文件的GitHub Repo (我们称之为Source Repo)\n- 执行`hexo deploy`来更新托管静态网站的GitHub Pages (我们称之为Content Repo)\n\n这样看来，每次更新博客要经历两个步骤，并不是那么straightforward。那么有没有办法做到既能使用GitHub进行版本控制，又能做到一键发布呢？\n答案是肯定的。这里用到了<a href=\"https://en.wikipedia.org/wiki/Continuous_integration\" >持续集成</a>也就是我们一直所说的CI来完成一键发布：当有新的change push到Source Repo时，自动执行CI脚本，生成最新的静态网站发布到Content Repo，一气呵成。那么我使用什么CI工具来做呢？我们可以使用像Travis CI这样的Hosted CI Service，也可以使用Jenkins或者TeamCity来搭建CI server。如果自己来搭建CI Server，费时费力，又要花钱来买Server来host CI service，肯定不是一个很好的选择。那么我们选哪个Hosted CI Service呢？其实今年在公司的一个项目中我们就选择了`AppVeyor`。当初在做investigation的时候，第一个想到的就是用Travis CI，访问<a href=\"https://www.appveyor.com/\">AppVeyor官网</a>，映入眼帘的大标题就是#1 Continuous Delivery service for Windows。刚开始的时候内心一阵嘲笑，Top 10的CI Service就你支持Windows，你不是第一那谁是第一？结果在之后的项目使用中，发现AppVeyor比Travis CI好用太多。这里就不具体展开了，继续进入正题。\n使用AppVeyor来建立CI非常方便，主要是以下步骤：\n\n注册并登陆 AppVeyor\n-----------\n访问<a href=\"https://ci.appveyor.com/login\" >AppVeyor登陆页面</a>，使用你的GitHub账号登陆即可。\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170913-152205@2x.png\" />\n\n添加 Project\n----------\n在AppVeyor Projects页面，添加相应的GitHub Source Repo。\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170913-152503@2x.png\" />\n\n添加appveyor.yml到Source Repo\n----------\n接下来，你需要把appveyor.yml添加到Source Repo的根目录下。具体的appveyor.yml如下.也可以参考我的博客\n<a href = \"https://github.com/lovexinforever/blog_src/blob/master/appveyor.yml\">AppVeyor.yml</a>\n\n你唯一需要做的就是替换[Your GitHub Access Token]，关于生成Access Token，可以参考这篇<a href=\"https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/\">文章</a>。在GitHub生成好Access Token之后，你需要到AppVeyor加密页面把<a href=\"https://ci.appveyor.com/tools/encrypt\">Access Token加密</a>之后再替换[Your GitHub Access Token]\n\n设置Appveyor\n----------\n添加好appveyor.yml之后，再到Appveyor portal设置以下四个变量。STATIC_SITE_REPO就是Content Repo的地址，TARGET_BRANCH就是你Content Repo的branch，一般默认就是master，GIT_USER_EMAIL和GIT_USER_NAME就是你GitHub账号的信息。\n\n### 好了，一切大功告成！试一下git push你的change到Source Repo，几分钟内，你的博客就自动更新了！\n背后的过程如下:\n- Git push to Source Repo\n- AppVeyor CI\n- Update GitHub Pages Content Repo\n- Generate your Hexo blog site\n\n谢谢!\n","source":"_posts/Hexo的版本控制与持续集成.md","raw":"---\ntitle: Hexo的版本控制与持续集成\ndate: 2017-09-13 13:35:06\ntop: 3\nessential: true\ntags:\n- 持续集成\n- 版本管理\n- CI\n- AppVeyor\n- git\ncategories:\n- 技术\n---\n<img src=\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1505296567323&di=32e77172fa0656b500322d1f88a02925&imgtype=0&src=http%3A%2F%2Fimgsrc.baidu.com%2Fimage%2Fc0%253Dshijue1%252C0%252C0%252C294%252C40%2Fsign%3D4c3b2306ba51f819e5280b09b2dd2098%2F8718367adab44aed5b5a1bc9b91c8701a18bfb83.jpg\"/>\n\n<blockquote class=\"blockquote-center\"><h2>人生并不像火车要通过每个站似的经过每一个生活阶段。人生总是直向前行走，从不留下什么。</h2></br>—— 刘易斯</blockquote>\n<!--more-->\n想必很多人会把Hexo生成出来的静态网站放到GitHub Pages来进行托管。一般发布Hexo博客的流程是，首先在本地搭建Hexo的环境，编写新文章，然后利用`hexo deploy`来发布到Git。那么对于本地的Hexo的原始文件怎么管理呢？如果换电脑了怎么办？如果没有对原始文件进行备份，突然有一天你的本地环境挂了导致源文件丢失，那不就呵呵了。也许你会想到用Dropbox或者其他方案来对源文件进行备份，但是每次更新完博客，需要备份好源文件，然后执行`hexo deploy`进行发布，是不是很麻烦？换了电脑之后又要重新搭建本地环境，是不是很蛋疼？\n那么接下来我们就来说说如何优雅愉快地对我们的Hexo进行版本管理和发布。\n既然我们已经用了GitHub来托管我们生成出来的静态网站，那么为什么不也把Hexo博客的源文件也host在GitHub上呢。那么问题来了，如果我们把Hexo博客的源文件托管在GitHub上，我们的发布流程就会变为：\n- 执行`git push`把更新的源文件push到托管源文件的GitHub Repo (我们称之为Source Repo)\n- 执行`hexo deploy`来更新托管静态网站的GitHub Pages (我们称之为Content Repo)\n\n这样看来，每次更新博客要经历两个步骤，并不是那么straightforward。那么有没有办法做到既能使用GitHub进行版本控制，又能做到一键发布呢？\n答案是肯定的。这里用到了<a href=\"https://en.wikipedia.org/wiki/Continuous_integration\" >持续集成</a>也就是我们一直所说的CI来完成一键发布：当有新的change push到Source Repo时，自动执行CI脚本，生成最新的静态网站发布到Content Repo，一气呵成。那么我使用什么CI工具来做呢？我们可以使用像Travis CI这样的Hosted CI Service，也可以使用Jenkins或者TeamCity来搭建CI server。如果自己来搭建CI Server，费时费力，又要花钱来买Server来host CI service，肯定不是一个很好的选择。那么我们选哪个Hosted CI Service呢？其实今年在公司的一个项目中我们就选择了`AppVeyor`。当初在做investigation的时候，第一个想到的就是用Travis CI，访问<a href=\"https://www.appveyor.com/\">AppVeyor官网</a>，映入眼帘的大标题就是#1 Continuous Delivery service for Windows。刚开始的时候内心一阵嘲笑，Top 10的CI Service就你支持Windows，你不是第一那谁是第一？结果在之后的项目使用中，发现AppVeyor比Travis CI好用太多。这里就不具体展开了，继续进入正题。\n使用AppVeyor来建立CI非常方便，主要是以下步骤：\n\n注册并登陆 AppVeyor\n-----------\n访问<a href=\"https://ci.appveyor.com/login\" >AppVeyor登陆页面</a>，使用你的GitHub账号登陆即可。\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170913-152205@2x.png\" />\n\n添加 Project\n----------\n在AppVeyor Projects页面，添加相应的GitHub Source Repo。\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170913-152503@2x.png\" />\n\n添加appveyor.yml到Source Repo\n----------\n接下来，你需要把appveyor.yml添加到Source Repo的根目录下。具体的appveyor.yml如下.也可以参考我的博客\n<a href = \"https://github.com/lovexinforever/blog_src/blob/master/appveyor.yml\">AppVeyor.yml</a>\n\n你唯一需要做的就是替换[Your GitHub Access Token]，关于生成Access Token，可以参考这篇<a href=\"https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/\">文章</a>。在GitHub生成好Access Token之后，你需要到AppVeyor加密页面把<a href=\"https://ci.appveyor.com/tools/encrypt\">Access Token加密</a>之后再替换[Your GitHub Access Token]\n\n设置Appveyor\n----------\n添加好appveyor.yml之后，再到Appveyor portal设置以下四个变量。STATIC_SITE_REPO就是Content Repo的地址，TARGET_BRANCH就是你Content Repo的branch，一般默认就是master，GIT_USER_EMAIL和GIT_USER_NAME就是你GitHub账号的信息。\n\n### 好了，一切大功告成！试一下git push你的change到Source Repo，几分钟内，你的博客就自动更新了！\n背后的过程如下:\n- Git push to Source Repo\n- AppVeyor CI\n- Update GitHub Pages Content Repo\n- Generate your Hexo blog site\n\n谢谢!\n","slug":"Hexo的版本控制与持续集成","published":1,"updated":"2018-05-02T05:55:01.747Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhio9nob000n6bfy38k2hih3","content":"<p><img src=\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1505296567323&di=32e77172fa0656b500322d1f88a02925&imgtype=0&src=http%3A%2F%2Fimgsrc.baidu.com%2Fimage%2Fc0%253Dshijue1%252C0%252C0%252C294%252C40%2Fsign%3D4c3b2306ba51f819e5280b09b2dd2098%2F8718367adab44aed5b5a1bc9b91c8701a18bfb83.jpg\"></p>\n<p><blockquote class=\"blockquote-center\"><h2>人生并不像火车要通过每个站似的经过每一个生活阶段。人生总是直向前行走，从不留下什么。</h2><br>—— 刘易斯</blockquote><br><a id=\"more\"></a><br>想必很多人会把Hexo生成出来的静态网站放到GitHub Pages来进行托管。一般发布Hexo博客的流程是，首先在本地搭建Hexo的环境，编写新文章，然后利用<code>hexo deploy</code>来发布到Git。那么对于本地的Hexo的原始文件怎么管理呢？如果换电脑了怎么办？如果没有对原始文件进行备份，突然有一天你的本地环境挂了导致源文件丢失，那不就呵呵了。也许你会想到用Dropbox或者其他方案来对源文件进行备份，但是每次更新完博客，需要备份好源文件，然后执行<code>hexo deploy</code>进行发布，是不是很麻烦？换了电脑之后又要重新搭建本地环境，是不是很蛋疼？<br>那么接下来我们就来说说如何优雅愉快地对我们的Hexo进行版本管理和发布。<br>既然我们已经用了GitHub来托管我们生成出来的静态网站，那么为什么不也把Hexo博客的源文件也host在GitHub上呢。那么问题来了，如果我们把Hexo博客的源文件托管在GitHub上，我们的发布流程就会变为：</p>\n<ul>\n<li>执行<code>git push</code>把更新的源文件push到托管源文件的GitHub Repo (我们称之为Source Repo)</li>\n<li>执行<code>hexo deploy</code>来更新托管静态网站的GitHub Pages (我们称之为Content Repo)</li>\n</ul>\n<p>这样看来，每次更新博客要经历两个步骤，并不是那么straightforward。那么有没有办法做到既能使用GitHub进行版本控制，又能做到一键发布呢？<br>答案是肯定的。这里用到了<a href=\"https://en.wikipedia.org/wiki/Continuous_integration\" target=\"_blank\" rel=\"noopener\">持续集成</a>也就是我们一直所说的CI来完成一键发布：当有新的change push到Source Repo时，自动执行CI脚本，生成最新的静态网站发布到Content Repo，一气呵成。那么我使用什么CI工具来做呢？我们可以使用像Travis CI这样的Hosted CI Service，也可以使用Jenkins或者TeamCity来搭建CI server。如果自己来搭建CI Server，费时费力，又要花钱来买Server来host CI service，肯定不是一个很好的选择。那么我们选哪个Hosted CI Service呢？其实今年在公司的一个项目中我们就选择了<code>AppVeyor</code>。当初在做investigation的时候，第一个想到的就是用Travis CI，访问<a href=\"https://www.appveyor.com/\" target=\"_blank\" rel=\"noopener\">AppVeyor官网</a>，映入眼帘的大标题就是#1 Continuous Delivery service for Windows。刚开始的时候内心一阵嘲笑，Top 10的CI Service就你支持Windows，你不是第一那谁是第一？结果在之后的项目使用中，发现AppVeyor比Travis CI好用太多。这里就不具体展开了，继续进入正题。<br>使用AppVeyor来建立CI非常方便，主要是以下步骤：</p>\n<h2 id=\"注册并登陆-AppVeyor\"><a href=\"#注册并登陆-AppVeyor\" class=\"headerlink\" title=\"注册并登陆 AppVeyor\"></a>注册并登陆 AppVeyor</h2><p>访问<a href=\"https://ci.appveyor.com/login\" target=\"_blank\" rel=\"noopener\">AppVeyor登陆页面</a>，使用你的GitHub账号登陆即可。<br><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170913-152205@2x.png\"></p>\n<h2 id=\"添加-Project\"><a href=\"#添加-Project\" class=\"headerlink\" title=\"添加 Project\"></a>添加 Project</h2><p>在AppVeyor Projects页面，添加相应的GitHub Source Repo。<br><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170913-152503@2x.png\"></p>\n<h2 id=\"添加appveyor-yml到Source-Repo\"><a href=\"#添加appveyor-yml到Source-Repo\" class=\"headerlink\" title=\"添加appveyor.yml到Source Repo\"></a>添加appveyor.yml到Source Repo</h2><p>接下来，你需要把appveyor.yml添加到Source Repo的根目录下。具体的appveyor.yml如下.也可以参考我的博客<br><a href=\"https://github.com/lovexinforever/blog_src/blob/master/appveyor.yml\" target=\"_blank\" rel=\"noopener\">AppVeyor.yml</a></p>\n<p>你唯一需要做的就是替换[Your GitHub Access Token]，关于生成Access Token，可以参考这篇<a href=\"https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/\" target=\"_blank\" rel=\"noopener\">文章</a>。在GitHub生成好Access Token之后，你需要到AppVeyor加密页面把<a href=\"https://ci.appveyor.com/tools/encrypt\" target=\"_blank\" rel=\"noopener\">Access Token加密</a>之后再替换[Your GitHub Access Token]</p>\n<h2 id=\"设置Appveyor\"><a href=\"#设置Appveyor\" class=\"headerlink\" title=\"设置Appveyor\"></a>设置Appveyor</h2><p>添加好appveyor.yml之后，再到Appveyor portal设置以下四个变量。STATIC_SITE_REPO就是Content Repo的地址，TARGET_BRANCH就是你Content Repo的branch，一般默认就是master，GIT_USER_EMAIL和GIT_USER_NAME就是你GitHub账号的信息。</p>\n<h3 id=\"好了，一切大功告成！试一下git-push你的change到Source-Repo，几分钟内，你的博客就自动更新了！\"><a href=\"#好了，一切大功告成！试一下git-push你的change到Source-Repo，几分钟内，你的博客就自动更新了！\" class=\"headerlink\" title=\"好了，一切大功告成！试一下git push你的change到Source Repo，几分钟内，你的博客就自动更新了！\"></a>好了，一切大功告成！试一下git push你的change到Source Repo，几分钟内，你的博客就自动更新了！</h3><p>背后的过程如下:</p>\n<ul>\n<li>Git push to Source Repo</li>\n<li>AppVeyor CI</li>\n<li>Update GitHub Pages Content Repo</li>\n<li>Generate your Hexo blog site</li>\n</ul>\n<p>谢谢!</p>\n","site":{"data":{}},"excerpt":"<p><img src=\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1505296567323&di=32e77172fa0656b500322d1f88a02925&imgtype=0&src=http%3A%2F%2Fimgsrc.baidu.com%2Fimage%2Fc0%253Dshijue1%252C0%252C0%252C294%252C40%2Fsign%3D4c3b2306ba51f819e5280b09b2dd2098%2F8718367adab44aed5b5a1bc9b91c8701a18bfb83.jpg\"></p>\n<p><blockquote class=\"blockquote-center\"><h2>人生并不像火车要通过每个站似的经过每一个生活阶段。人生总是直向前行走，从不留下什么。</h2><br>—— 刘易斯</blockquote><br>","more":"<br>想必很多人会把Hexo生成出来的静态网站放到GitHub Pages来进行托管。一般发布Hexo博客的流程是，首先在本地搭建Hexo的环境，编写新文章，然后利用<code>hexo deploy</code>来发布到Git。那么对于本地的Hexo的原始文件怎么管理呢？如果换电脑了怎么办？如果没有对原始文件进行备份，突然有一天你的本地环境挂了导致源文件丢失，那不就呵呵了。也许你会想到用Dropbox或者其他方案来对源文件进行备份，但是每次更新完博客，需要备份好源文件，然后执行<code>hexo deploy</code>进行发布，是不是很麻烦？换了电脑之后又要重新搭建本地环境，是不是很蛋疼？<br>那么接下来我们就来说说如何优雅愉快地对我们的Hexo进行版本管理和发布。<br>既然我们已经用了GitHub来托管我们生成出来的静态网站，那么为什么不也把Hexo博客的源文件也host在GitHub上呢。那么问题来了，如果我们把Hexo博客的源文件托管在GitHub上，我们的发布流程就会变为：</p>\n<ul>\n<li>执行<code>git push</code>把更新的源文件push到托管源文件的GitHub Repo (我们称之为Source Repo)</li>\n<li>执行<code>hexo deploy</code>来更新托管静态网站的GitHub Pages (我们称之为Content Repo)</li>\n</ul>\n<p>这样看来，每次更新博客要经历两个步骤，并不是那么straightforward。那么有没有办法做到既能使用GitHub进行版本控制，又能做到一键发布呢？<br>答案是肯定的。这里用到了<a href=\"https://en.wikipedia.org/wiki/Continuous_integration\" target=\"_blank\" rel=\"noopener\">持续集成</a>也就是我们一直所说的CI来完成一键发布：当有新的change push到Source Repo时，自动执行CI脚本，生成最新的静态网站发布到Content Repo，一气呵成。那么我使用什么CI工具来做呢？我们可以使用像Travis CI这样的Hosted CI Service，也可以使用Jenkins或者TeamCity来搭建CI server。如果自己来搭建CI Server，费时费力，又要花钱来买Server来host CI service，肯定不是一个很好的选择。那么我们选哪个Hosted CI Service呢？其实今年在公司的一个项目中我们就选择了<code>AppVeyor</code>。当初在做investigation的时候，第一个想到的就是用Travis CI，访问<a href=\"https://www.appveyor.com/\" target=\"_blank\" rel=\"noopener\">AppVeyor官网</a>，映入眼帘的大标题就是#1 Continuous Delivery service for Windows。刚开始的时候内心一阵嘲笑，Top 10的CI Service就你支持Windows，你不是第一那谁是第一？结果在之后的项目使用中，发现AppVeyor比Travis CI好用太多。这里就不具体展开了，继续进入正题。<br>使用AppVeyor来建立CI非常方便，主要是以下步骤：</p>\n<h2 id=\"注册并登陆-AppVeyor\"><a href=\"#注册并登陆-AppVeyor\" class=\"headerlink\" title=\"注册并登陆 AppVeyor\"></a>注册并登陆 AppVeyor</h2><p>访问<a href=\"https://ci.appveyor.com/login\" target=\"_blank\" rel=\"noopener\">AppVeyor登陆页面</a>，使用你的GitHub账号登陆即可。<br><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170913-152205@2x.png\"></p>\n<h2 id=\"添加-Project\"><a href=\"#添加-Project\" class=\"headerlink\" title=\"添加 Project\"></a>添加 Project</h2><p>在AppVeyor Projects页面，添加相应的GitHub Source Repo。<br><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170913-152503@2x.png\"></p>\n<h2 id=\"添加appveyor-yml到Source-Repo\"><a href=\"#添加appveyor-yml到Source-Repo\" class=\"headerlink\" title=\"添加appveyor.yml到Source Repo\"></a>添加appveyor.yml到Source Repo</h2><p>接下来，你需要把appveyor.yml添加到Source Repo的根目录下。具体的appveyor.yml如下.也可以参考我的博客<br><a href=\"https://github.com/lovexinforever/blog_src/blob/master/appveyor.yml\" target=\"_blank\" rel=\"noopener\">AppVeyor.yml</a></p>\n<p>你唯一需要做的就是替换[Your GitHub Access Token]，关于生成Access Token，可以参考这篇<a href=\"https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/\" target=\"_blank\" rel=\"noopener\">文章</a>。在GitHub生成好Access Token之后，你需要到AppVeyor加密页面把<a href=\"https://ci.appveyor.com/tools/encrypt\" target=\"_blank\" rel=\"noopener\">Access Token加密</a>之后再替换[Your GitHub Access Token]</p>\n<h2 id=\"设置Appveyor\"><a href=\"#设置Appveyor\" class=\"headerlink\" title=\"设置Appveyor\"></a>设置Appveyor</h2><p>添加好appveyor.yml之后，再到Appveyor portal设置以下四个变量。STATIC_SITE_REPO就是Content Repo的地址，TARGET_BRANCH就是你Content Repo的branch，一般默认就是master，GIT_USER_EMAIL和GIT_USER_NAME就是你GitHub账号的信息。</p>\n<h3 id=\"好了，一切大功告成！试一下git-push你的change到Source-Repo，几分钟内，你的博客就自动更新了！\"><a href=\"#好了，一切大功告成！试一下git-push你的change到Source-Repo，几分钟内，你的博客就自动更新了！\" class=\"headerlink\" title=\"好了，一切大功告成！试一下git push你的change到Source Repo，几分钟内，你的博客就自动更新了！\"></a>好了，一切大功告成！试一下git push你的change到Source Repo，几分钟内，你的博客就自动更新了！</h3><p>背后的过程如下:</p>\n<ul>\n<li>Git push to Source Repo</li>\n<li>AppVeyor CI</li>\n<li>Update GitHub Pages Content Repo</li>\n<li>Generate your Hexo blog site</li>\n</ul>\n<p>谢谢!</p>"},{"title":"Html5 新元素","date":"2017-09-25T06:33:25.000Z","_content":"Html5 新元素\n----------\n自1999年以后HTML 4.01 已经改变了很多,今天，在HTML 4.01中的几个已经被废弃，这些元素在HTML5中已经被删除或重新定义。\n为了更好地处理今天的互联网应用，HTML5添加了很多新元素及功能，比如: 图形的绘制，多媒体内容，更好的页面结构，更好的形式 处理，和几个api拖放元素，定位，包括网页 应用程序缓存，存储，网络工作者，等。\n`canvas` 新元素\n----------\n<table><thead><tr><td>标签</td><td>描述</td></tr></thead><tbody><tr><td>canvas</td><td>标签定义图形，比如图表和其他图像。该标签基于 JavaScript 的绘图 API</td></tr></tbody></table>\n\n新多媒体元素\n----------\n<table><thead><tr><td>标签</td><td>描述</td></tr></thead><tbody><tr><td>audio</td><td>定义音频内容</td></tr><tr><td>video</td><td>定义视频（video 或者 movie）</td></tr><tr><td>source</td><td>定义多媒体资源 `video` 和 `audio`</td></tr><tr><td>embed</td><td>定义嵌入的内容，比如插件。</td></tr><tr><td>track</td><td>为诸如 `video` 和 `audio` 元素之类的媒介规定外部文本轨道。</td></tr></tbody></table>\n\n新表单元素\n----------\n<table><thead><tr><td>标签</td><td>描述</td></tr></thead><tbody><tr><td>datalist</td><td>定义选项列表。请与 input 元素配合使用该元素，来定义 input 可能的值。</td></tr><tr><td>keygen</td><td>规定用于表单的密钥对生成器字段。</td></tr><tr><td>output</td><td>定义不同类型的输出，比如脚本的输出。</td></tr></tbody></table>\n\n新的语义和结构元素\n----------\nHTML5提供了新的元素来创建更好的页面结构：\n<table><thead><tr><td>标签</td><td>描述</td></tr></thead><tbody><tr><td>article</td><td>定义页面独立的内容区域。</td></tr><tr><td>aside</td><td>定义页面的侧边栏内容</td></tr><tr><td>bdi</td><td>允许您设置一段文本，使其脱离其父元素的文本方向设置</td></tr><tr><td>command</td><td>定义命令按钮，比如单选按钮、复选框或按钮</td></tr><tr><td>detail</td><td>用于描述文档或文档某个部分的细节。</td></tr><tr><td>dialog</td><td>\t定义对话框，比如提示框</td></tr><tr><td>summary</td><td>标签包含 details 元素的标题</td></tr><tr><td>figure</td><td>规定独立的流内容（图像、图表、照片、代码等等）。</td></tr><tr><td>figcaption</td><td>定义 `figure` 元素的标题</td></tr><tr><td>footer</td><td>\t定义 section 或 document 的页脚。</td></tr><tr><td>header</td><td>定义了文档的头部区域</td></tr><tr><td>mark</td><td>定义带有记号的文本。</td></tr><tr><td>meter</td><td>定义度量衡。仅用于已知最大和最小值的度量。</td></tr><tr><td>nav</td><td>定义运行中的进度（进程）。</td></tr><tr><td>progress</td><td>定义任何类型的任务的进度。</td></tr><tr><td>ruby</td><td>\t定义 ruby 注释（中文注音或字符）</td></tr><tr><td>rt</td><td>\t定义字符（中文注音或字符）的解释或发音</td></tr><tr><td>rp</td><td>在 ruby 注释中使用，定义不支持 ruby 元素的浏览器所显示的内容。</td></tr><tr><td>section</td><td>定义文档中的节（section、区段）。</td></tr><tr><td>time</td><td>\t定义日期或时间。</td></tr><tr><td>wbr</td><td>规定在文本中的何处适合添加换行符。</td></tr></tbody></table>\n\n已移除的元素\n----------\n以下的 HTML 4.01 元素在HTML5中已经被删除:\n- acronym\n- applet\n- basefont\n- big\n- center\n- dir\n- font\n- frame\n- frameset\n- noframes\n- strike\n- tt\n\n","source":"_posts/Html5-新元素.md","raw":"---\ntitle: Html5 新元素\ndate: 2017-09-25 14:33:25\ntags:\n- HTML5\n- 标签\ncategories:\n- 技术\n- HTML5\n---\nHtml5 新元素\n----------\n自1999年以后HTML 4.01 已经改变了很多,今天，在HTML 4.01中的几个已经被废弃，这些元素在HTML5中已经被删除或重新定义。\n为了更好地处理今天的互联网应用，HTML5添加了很多新元素及功能，比如: 图形的绘制，多媒体内容，更好的页面结构，更好的形式 处理，和几个api拖放元素，定位，包括网页 应用程序缓存，存储，网络工作者，等。\n`canvas` 新元素\n----------\n<table><thead><tr><td>标签</td><td>描述</td></tr></thead><tbody><tr><td>canvas</td><td>标签定义图形，比如图表和其他图像。该标签基于 JavaScript 的绘图 API</td></tr></tbody></table>\n\n新多媒体元素\n----------\n<table><thead><tr><td>标签</td><td>描述</td></tr></thead><tbody><tr><td>audio</td><td>定义音频内容</td></tr><tr><td>video</td><td>定义视频（video 或者 movie）</td></tr><tr><td>source</td><td>定义多媒体资源 `video` 和 `audio`</td></tr><tr><td>embed</td><td>定义嵌入的内容，比如插件。</td></tr><tr><td>track</td><td>为诸如 `video` 和 `audio` 元素之类的媒介规定外部文本轨道。</td></tr></tbody></table>\n\n新表单元素\n----------\n<table><thead><tr><td>标签</td><td>描述</td></tr></thead><tbody><tr><td>datalist</td><td>定义选项列表。请与 input 元素配合使用该元素，来定义 input 可能的值。</td></tr><tr><td>keygen</td><td>规定用于表单的密钥对生成器字段。</td></tr><tr><td>output</td><td>定义不同类型的输出，比如脚本的输出。</td></tr></tbody></table>\n\n新的语义和结构元素\n----------\nHTML5提供了新的元素来创建更好的页面结构：\n<table><thead><tr><td>标签</td><td>描述</td></tr></thead><tbody><tr><td>article</td><td>定义页面独立的内容区域。</td></tr><tr><td>aside</td><td>定义页面的侧边栏内容</td></tr><tr><td>bdi</td><td>允许您设置一段文本，使其脱离其父元素的文本方向设置</td></tr><tr><td>command</td><td>定义命令按钮，比如单选按钮、复选框或按钮</td></tr><tr><td>detail</td><td>用于描述文档或文档某个部分的细节。</td></tr><tr><td>dialog</td><td>\t定义对话框，比如提示框</td></tr><tr><td>summary</td><td>标签包含 details 元素的标题</td></tr><tr><td>figure</td><td>规定独立的流内容（图像、图表、照片、代码等等）。</td></tr><tr><td>figcaption</td><td>定义 `figure` 元素的标题</td></tr><tr><td>footer</td><td>\t定义 section 或 document 的页脚。</td></tr><tr><td>header</td><td>定义了文档的头部区域</td></tr><tr><td>mark</td><td>定义带有记号的文本。</td></tr><tr><td>meter</td><td>定义度量衡。仅用于已知最大和最小值的度量。</td></tr><tr><td>nav</td><td>定义运行中的进度（进程）。</td></tr><tr><td>progress</td><td>定义任何类型的任务的进度。</td></tr><tr><td>ruby</td><td>\t定义 ruby 注释（中文注音或字符）</td></tr><tr><td>rt</td><td>\t定义字符（中文注音或字符）的解释或发音</td></tr><tr><td>rp</td><td>在 ruby 注释中使用，定义不支持 ruby 元素的浏览器所显示的内容。</td></tr><tr><td>section</td><td>定义文档中的节（section、区段）。</td></tr><tr><td>time</td><td>\t定义日期或时间。</td></tr><tr><td>wbr</td><td>规定在文本中的何处适合添加换行符。</td></tr></tbody></table>\n\n已移除的元素\n----------\n以下的 HTML 4.01 元素在HTML5中已经被删除:\n- acronym\n- applet\n- basefont\n- big\n- center\n- dir\n- font\n- frame\n- frameset\n- noframes\n- strike\n- tt\n\n","slug":"Html5-新元素","published":1,"updated":"2018-05-02T05:55:01.747Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhio9noc000q6bfy93fa8jvx","content":"<h2 id=\"Html5-新元素\"><a href=\"#Html5-新元素\" class=\"headerlink\" title=\"Html5 新元素\"></a>Html5 新元素</h2><p>自1999年以后HTML 4.01 已经改变了很多,今天，在HTML 4.01中的几个已经被废弃，这些元素在HTML5中已经被删除或重新定义。<br>为了更好地处理今天的互联网应用，HTML5添加了很多新元素及功能，比如: 图形的绘制，多媒体内容，更好的页面结构，更好的形式 处理，和几个api拖放元素，定位，包括网页 应用程序缓存，存储，网络工作者，等。</p>\n<h2 id=\"canvas-新元素\"><a href=\"#canvas-新元素\" class=\"headerlink\" title=\"canvas 新元素\"></a><code>canvas</code> 新元素</h2><table><thead><tr><td>标签</td><td>描述</td></tr></thead><tbody><tr><td>canvas</td><td>标签定义图形，比如图表和其他图像。该标签基于 JavaScript 的绘图 API</td></tr></tbody></table>\n\n<h2 id=\"新多媒体元素\"><a href=\"#新多媒体元素\" class=\"headerlink\" title=\"新多媒体元素\"></a>新多媒体元素</h2><table><thead><tr><td>标签</td><td>描述</td></tr></thead><tbody><tr><td>audio</td><td>定义音频内容</td></tr><tr><td>video</td><td>定义视频（video 或者 movie）</td></tr><tr><td>source</td><td>定义多媒体资源 <code>video</code> 和 <code>audio</code></td></tr><tr><td>embed</td><td>定义嵌入的内容，比如插件。</td></tr><tr><td>track</td><td>为诸如 <code>video</code> 和 <code>audio</code> 元素之类的媒介规定外部文本轨道。</td></tr></tbody></table>\n\n<h2 id=\"新表单元素\"><a href=\"#新表单元素\" class=\"headerlink\" title=\"新表单元素\"></a>新表单元素</h2><table><thead><tr><td>标签</td><td>描述</td></tr></thead><tbody><tr><td>datalist</td><td>定义选项列表。请与 input 元素配合使用该元素，来定义 input 可能的值。</td></tr><tr><td>keygen</td><td>规定用于表单的密钥对生成器字段。</td></tr><tr><td>output</td><td>定义不同类型的输出，比如脚本的输出。</td></tr></tbody></table>\n\n<h2 id=\"新的语义和结构元素\"><a href=\"#新的语义和结构元素\" class=\"headerlink\" title=\"新的语义和结构元素\"></a>新的语义和结构元素</h2><p>HTML5提供了新的元素来创建更好的页面结构：</p>\n<table><thead><tr><td>标签</td><td>描述</td></tr></thead><tbody><tr><td>article</td><td>定义页面独立的内容区域。</td></tr><tr><td>aside</td><td>定义页面的侧边栏内容</td></tr><tr><td>bdi</td><td>允许您设置一段文本，使其脱离其父元素的文本方向设置</td></tr><tr><td>command</td><td>定义命令按钮，比如单选按钮、复选框或按钮</td></tr><tr><td>detail</td><td>用于描述文档或文档某个部分的细节。</td></tr><tr><td>dialog</td><td>    定义对话框，比如提示框</td></tr><tr><td>summary</td><td>标签包含 details 元素的标题</td></tr><tr><td>figure</td><td>规定独立的流内容（图像、图表、照片、代码等等）。</td></tr><tr><td>figcaption</td><td>定义 <code>figure</code> 元素的标题</td></tr><tr><td>footer</td><td>    定义 section 或 document 的页脚。</td></tr><tr><td>header</td><td>定义了文档的头部区域</td></tr><tr><td>mark</td><td>定义带有记号的文本。</td></tr><tr><td>meter</td><td>定义度量衡。仅用于已知最大和最小值的度量。</td></tr><tr><td>nav</td><td>定义运行中的进度（进程）。</td></tr><tr><td>progress</td><td>定义任何类型的任务的进度。</td></tr><tr><td>ruby</td><td>    定义 ruby 注释（中文注音或字符）</td></tr><tr><td>rt</td><td>    定义字符（中文注音或字符）的解释或发音</td></tr><tr><td>rp</td><td>在 ruby 注释中使用，定义不支持 ruby 元素的浏览器所显示的内容。</td></tr><tr><td>section</td><td>定义文档中的节（section、区段）。</td></tr><tr><td>time</td><td>    定义日期或时间。</td></tr><tr><td>wbr</td><td>规定在文本中的何处适合添加换行符。</td></tr></tbody></table>\n\n<h2 id=\"已移除的元素\"><a href=\"#已移除的元素\" class=\"headerlink\" title=\"已移除的元素\"></a>已移除的元素</h2><p>以下的 HTML 4.01 元素在HTML5中已经被删除:</p>\n<ul>\n<li>acronym</li>\n<li>applet</li>\n<li>basefont</li>\n<li>big</li>\n<li>center</li>\n<li>dir</li>\n<li>font</li>\n<li>frame</li>\n<li>frameset</li>\n<li>noframes</li>\n<li>strike</li>\n<li>tt</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"Html5-新元素\"><a href=\"#Html5-新元素\" class=\"headerlink\" title=\"Html5 新元素\"></a>Html5 新元素</h2><p>自1999年以后HTML 4.01 已经改变了很多,今天，在HTML 4.01中的几个已经被废弃，这些元素在HTML5中已经被删除或重新定义。<br>为了更好地处理今天的互联网应用，HTML5添加了很多新元素及功能，比如: 图形的绘制，多媒体内容，更好的页面结构，更好的形式 处理，和几个api拖放元素，定位，包括网页 应用程序缓存，存储，网络工作者，等。</p>\n<h2 id=\"canvas-新元素\"><a href=\"#canvas-新元素\" class=\"headerlink\" title=\"canvas 新元素\"></a><code>canvas</code> 新元素</h2><table><thead><tr><td>标签</td><td>描述</td></tr></thead><tbody><tr><td>canvas</td><td>标签定义图形，比如图表和其他图像。该标签基于 JavaScript 的绘图 API</td></tr></tbody></table>\n\n<h2 id=\"新多媒体元素\"><a href=\"#新多媒体元素\" class=\"headerlink\" title=\"新多媒体元素\"></a>新多媒体元素</h2><table><thead><tr><td>标签</td><td>描述</td></tr></thead><tbody><tr><td>audio</td><td>定义音频内容</td></tr><tr><td>video</td><td>定义视频（video 或者 movie）</td></tr><tr><td>source</td><td>定义多媒体资源 <code>video</code> 和 <code>audio</code></td></tr><tr><td>embed</td><td>定义嵌入的内容，比如插件。</td></tr><tr><td>track</td><td>为诸如 <code>video</code> 和 <code>audio</code> 元素之类的媒介规定外部文本轨道。</td></tr></tbody></table>\n\n<h2 id=\"新表单元素\"><a href=\"#新表单元素\" class=\"headerlink\" title=\"新表单元素\"></a>新表单元素</h2><table><thead><tr><td>标签</td><td>描述</td></tr></thead><tbody><tr><td>datalist</td><td>定义选项列表。请与 input 元素配合使用该元素，来定义 input 可能的值。</td></tr><tr><td>keygen</td><td>规定用于表单的密钥对生成器字段。</td></tr><tr><td>output</td><td>定义不同类型的输出，比如脚本的输出。</td></tr></tbody></table>\n\n<h2 id=\"新的语义和结构元素\"><a href=\"#新的语义和结构元素\" class=\"headerlink\" title=\"新的语义和结构元素\"></a>新的语义和结构元素</h2><p>HTML5提供了新的元素来创建更好的页面结构：</p>\n<table><thead><tr><td>标签</td><td>描述</td></tr></thead><tbody><tr><td>article</td><td>定义页面独立的内容区域。</td></tr><tr><td>aside</td><td>定义页面的侧边栏内容</td></tr><tr><td>bdi</td><td>允许您设置一段文本，使其脱离其父元素的文本方向设置</td></tr><tr><td>command</td><td>定义命令按钮，比如单选按钮、复选框或按钮</td></tr><tr><td>detail</td><td>用于描述文档或文档某个部分的细节。</td></tr><tr><td>dialog</td><td>    定义对话框，比如提示框</td></tr><tr><td>summary</td><td>标签包含 details 元素的标题</td></tr><tr><td>figure</td><td>规定独立的流内容（图像、图表、照片、代码等等）。</td></tr><tr><td>figcaption</td><td>定义 <code>figure</code> 元素的标题</td></tr><tr><td>footer</td><td>    定义 section 或 document 的页脚。</td></tr><tr><td>header</td><td>定义了文档的头部区域</td></tr><tr><td>mark</td><td>定义带有记号的文本。</td></tr><tr><td>meter</td><td>定义度量衡。仅用于已知最大和最小值的度量。</td></tr><tr><td>nav</td><td>定义运行中的进度（进程）。</td></tr><tr><td>progress</td><td>定义任何类型的任务的进度。</td></tr><tr><td>ruby</td><td>    定义 ruby 注释（中文注音或字符）</td></tr><tr><td>rt</td><td>    定义字符（中文注音或字符）的解释或发音</td></tr><tr><td>rp</td><td>在 ruby 注释中使用，定义不支持 ruby 元素的浏览器所显示的内容。</td></tr><tr><td>section</td><td>定义文档中的节（section、区段）。</td></tr><tr><td>time</td><td>    定义日期或时间。</td></tr><tr><td>wbr</td><td>规定在文本中的何处适合添加换行符。</td></tr></tbody></table>\n\n<h2 id=\"已移除的元素\"><a href=\"#已移除的元素\" class=\"headerlink\" title=\"已移除的元素\"></a>已移除的元素</h2><p>以下的 HTML 4.01 元素在HTML5中已经被删除:</p>\n<ul>\n<li>acronym</li>\n<li>applet</li>\n<li>basefont</li>\n<li>big</li>\n<li>center</li>\n<li>dir</li>\n<li>font</li>\n<li>frame</li>\n<li>frameset</li>\n<li>noframes</li>\n<li>strike</li>\n<li>tt</li>\n</ul>\n"},{"title":"Mac 下配置多个 ssh","date":"2017-09-12T07:51:23.000Z","updated":"2017-09-13T01:16:23.000Z","essential":true,"_content":"<img src=\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1505216036950&di=c1bfa3cd3158568e4ebaa0280b5cacf8&imgtype=0&src=http%3A%2F%2Fimg.hb.aicdn.com%2Fc70036ee95575d39ee6131a9757e19cb9a569c9f20f39-KFwh21_fw580\" />\n\n<blockquote class=\"blockquote-center\"><h2>人的一切痛苦，本质上都是对自己无能的愤怒</h2></br>总有刁民想害朕</blockquote>\n\n<!--more -->\n### 我们每个人都有多个仓库来提交代码,工作中的和个人的.本篇文章就教你怎样管理多个 ssh 来提交代码.\n\n查看 **.ssh** 文件夹下面的文件\n-----------\n一种是直接进入 .ssh 文件目录\n> cd ~/.ssh\n\n或者 直接查看 .ssh 文件夹\n> ls ~/.ssh\n\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170912-170511@2x.png\" />\n生成一个SSH-Key\n-----------\n> ssh-keygen -t rsa -C \"tim_ding@qq.com\"\n\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170912-174951@2x.png\" />\n如果 .ssh 文件下已经有文件了 ,最好重新命名\n密码建议填空\n\n成功生成 SSH-KEY\n-----------\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170912-175312@2x.png\" />\n\n配置 SSH-KEY\n-----------\n在~/.ssh/目录下会生成id-rsa_hostname和id-rsa_hostname.pub私钥和公钥。 我们将id-rsa_hostname.pub中的内容粘帖到服务器的SSH-key的配置中。\n> cat ~/.ssh/github_blog_rsa.pub\n\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170913-085838@2x.png\" />\n在GitHub的设置中粘贴公钥\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170913-090143@2x.png\" />\n\n至此, ssh 就配置完成了.\n验证配置是否成功\n-----------\n> ssh -T git@github.com\n\n笔者出现了如下错误\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170913-090537@2x.png\" />\n那是因为目录下有多个 ssh, 需要配置 config\n\n打开 config 文件\n-----------\n> vim ~/.ssh/config\n\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170913-090743@2x.png\" />\n添加如下\n>  Host github.com\n   HostName github.com\n   User timding\n   IdentityFile ~/.ssh/github_blog_rsa\n\n然后保存.再执行 `ssh -T git@github.com` 就成功了.\n\n\n\n\n\n\n","source":"_posts/Mac-下配置多个-ssh.md","raw":"---\ntitle: Mac 下配置多个 ssh\ndate: 2017-09-12 15:51:23\nupdated: 2017-09-13 09:16:23\ntags:\n- mac\n- ssh\ncategories:\n- 技术\nessential: true\n---\n<img src=\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1505216036950&di=c1bfa3cd3158568e4ebaa0280b5cacf8&imgtype=0&src=http%3A%2F%2Fimg.hb.aicdn.com%2Fc70036ee95575d39ee6131a9757e19cb9a569c9f20f39-KFwh21_fw580\" />\n\n<blockquote class=\"blockquote-center\"><h2>人的一切痛苦，本质上都是对自己无能的愤怒</h2></br>总有刁民想害朕</blockquote>\n\n<!--more -->\n### 我们每个人都有多个仓库来提交代码,工作中的和个人的.本篇文章就教你怎样管理多个 ssh 来提交代码.\n\n查看 **.ssh** 文件夹下面的文件\n-----------\n一种是直接进入 .ssh 文件目录\n> cd ~/.ssh\n\n或者 直接查看 .ssh 文件夹\n> ls ~/.ssh\n\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170912-170511@2x.png\" />\n生成一个SSH-Key\n-----------\n> ssh-keygen -t rsa -C \"tim_ding@qq.com\"\n\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170912-174951@2x.png\" />\n如果 .ssh 文件下已经有文件了 ,最好重新命名\n密码建议填空\n\n成功生成 SSH-KEY\n-----------\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170912-175312@2x.png\" />\n\n配置 SSH-KEY\n-----------\n在~/.ssh/目录下会生成id-rsa_hostname和id-rsa_hostname.pub私钥和公钥。 我们将id-rsa_hostname.pub中的内容粘帖到服务器的SSH-key的配置中。\n> cat ~/.ssh/github_blog_rsa.pub\n\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170913-085838@2x.png\" />\n在GitHub的设置中粘贴公钥\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170913-090143@2x.png\" />\n\n至此, ssh 就配置完成了.\n验证配置是否成功\n-----------\n> ssh -T git@github.com\n\n笔者出现了如下错误\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170913-090537@2x.png\" />\n那是因为目录下有多个 ssh, 需要配置 config\n\n打开 config 文件\n-----------\n> vim ~/.ssh/config\n\n<img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170913-090743@2x.png\" />\n添加如下\n>  Host github.com\n   HostName github.com\n   User timding\n   IdentityFile ~/.ssh/github_blog_rsa\n\n然后保存.再执行 `ssh -T git@github.com` 就成功了.\n\n\n\n\n\n\n","slug":"Mac-下配置多个-ssh","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cjhio9nod000r6bfye5ty4zvr","content":"<p><img src=\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1505216036950&di=c1bfa3cd3158568e4ebaa0280b5cacf8&imgtype=0&src=http%3A%2F%2Fimg.hb.aicdn.com%2Fc70036ee95575d39ee6131a9757e19cb9a569c9f20f39-KFwh21_fw580\"></p>\n<blockquote class=\"blockquote-center\"><h2>人的一切痛苦，本质上都是对自己无能的愤怒</h2><br>总有刁民想害朕</blockquote>\n\n<a id=\"more\"></a>\n<h3 id=\"我们每个人都有多个仓库来提交代码-工作中的和个人的-本篇文章就教你怎样管理多个-ssh-来提交代码\"><a href=\"#我们每个人都有多个仓库来提交代码-工作中的和个人的-本篇文章就教你怎样管理多个-ssh-来提交代码\" class=\"headerlink\" title=\"我们每个人都有多个仓库来提交代码,工作中的和个人的.本篇文章就教你怎样管理多个 ssh 来提交代码.\"></a>我们每个人都有多个仓库来提交代码,工作中的和个人的.本篇文章就教你怎样管理多个 ssh 来提交代码.</h3><h2 id=\"查看-ssh-文件夹下面的文件\"><a href=\"#查看-ssh-文件夹下面的文件\" class=\"headerlink\" title=\"查看 .ssh 文件夹下面的文件\"></a>查看 <strong>.ssh</strong> 文件夹下面的文件</h2><p>一种是直接进入 .ssh 文件目录</p>\n<blockquote>\n<p>cd ~/.ssh</p>\n</blockquote>\n<p>或者 直接查看 .ssh 文件夹</p>\n<blockquote>\n<p>ls ~/.ssh</p>\n</blockquote>\n<p><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170912-170511@2x.png\"></p>\n<h2 id=\"生成一个SSH-Key\"><a href=\"#生成一个SSH-Key\" class=\"headerlink\" title=\"生成一个SSH-Key\"></a>生成一个SSH-Key</h2><blockquote>\n<p>ssh-keygen -t rsa -C “<a href=\"mailto:tim_ding@qq.com\" target=\"_blank\" rel=\"noopener\">tim_ding@qq.com</a>“</p>\n</blockquote>\n<p><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170912-174951@2x.png\"><br>如果 .ssh 文件下已经有文件了 ,最好重新命名<br>密码建议填空</p>\n<h2 id=\"成功生成-SSH-KEY\"><a href=\"#成功生成-SSH-KEY\" class=\"headerlink\" title=\"成功生成 SSH-KEY\"></a>成功生成 SSH-KEY</h2><p><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170912-175312@2x.png\"></p>\n<h2 id=\"配置-SSH-KEY\"><a href=\"#配置-SSH-KEY\" class=\"headerlink\" title=\"配置 SSH-KEY\"></a>配置 SSH-KEY</h2><p>在~/.ssh/目录下会生成id-rsa_hostname和id-rsa_hostname.pub私钥和公钥。 我们将id-rsa_hostname.pub中的内容粘帖到服务器的SSH-key的配置中。</p>\n<blockquote>\n<p>cat ~/.ssh/github_blog_rsa.pub</p>\n</blockquote>\n<p><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170913-085838@2x.png\"><br>在GitHub的设置中粘贴公钥<br><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170913-090143@2x.png\"></p>\n<p>至此, ssh 就配置完成了.</p>\n<h2 id=\"验证配置是否成功\"><a href=\"#验证配置是否成功\" class=\"headerlink\" title=\"验证配置是否成功\"></a>验证配置是否成功</h2><blockquote>\n<p>ssh -T <a href=\"mailto:git@github.com\" target=\"_blank\" rel=\"noopener\">git@github.com</a></p>\n</blockquote>\n<p>笔者出现了如下错误<br><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170913-090537@2x.png\"><br>那是因为目录下有多个 ssh, 需要配置 config</p>\n<h2 id=\"打开-config-文件\"><a href=\"#打开-config-文件\" class=\"headerlink\" title=\"打开 config 文件\"></a>打开 config 文件</h2><blockquote>\n<p>vim ~/.ssh/config</p>\n</blockquote>\n<p><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170913-090743@2x.png\"><br>添加如下</p>\n<blockquote>\n<p> Host github.com<br>   HostName github.com<br>   User timding<br>   IdentityFile ~/.ssh/github_blog_rsa</p>\n</blockquote>\n<p>然后保存.再执行 <code>ssh -T git@github.com</code> 就成功了.</p>\n","site":{"data":{}},"excerpt":"<p><img src=\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1505216036950&di=c1bfa3cd3158568e4ebaa0280b5cacf8&imgtype=0&src=http%3A%2F%2Fimg.hb.aicdn.com%2Fc70036ee95575d39ee6131a9757e19cb9a569c9f20f39-KFwh21_fw580\"></p>\n<blockquote class=\"blockquote-center\"><h2>人的一切痛苦，本质上都是对自己无能的愤怒</h2><br>总有刁民想害朕</blockquote>","more":"<h3 id=\"我们每个人都有多个仓库来提交代码-工作中的和个人的-本篇文章就教你怎样管理多个-ssh-来提交代码\"><a href=\"#我们每个人都有多个仓库来提交代码-工作中的和个人的-本篇文章就教你怎样管理多个-ssh-来提交代码\" class=\"headerlink\" title=\"我们每个人都有多个仓库来提交代码,工作中的和个人的.本篇文章就教你怎样管理多个 ssh 来提交代码.\"></a>我们每个人都有多个仓库来提交代码,工作中的和个人的.本篇文章就教你怎样管理多个 ssh 来提交代码.</h3><h2 id=\"查看-ssh-文件夹下面的文件\"><a href=\"#查看-ssh-文件夹下面的文件\" class=\"headerlink\" title=\"查看 .ssh 文件夹下面的文件\"></a>查看 <strong>.ssh</strong> 文件夹下面的文件</h2><p>一种是直接进入 .ssh 文件目录</p>\n<blockquote>\n<p>cd ~/.ssh</p>\n</blockquote>\n<p>或者 直接查看 .ssh 文件夹</p>\n<blockquote>\n<p>ls ~/.ssh</p>\n</blockquote>\n<p><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170912-170511@2x.png\"></p>\n<h2 id=\"生成一个SSH-Key\"><a href=\"#生成一个SSH-Key\" class=\"headerlink\" title=\"生成一个SSH-Key\"></a>生成一个SSH-Key</h2><blockquote>\n<p>ssh-keygen -t rsa -C “<a href=\"mailto:tim_ding@qq.com\" target=\"_blank\" rel=\"noopener\">tim_ding@qq.com</a>“</p>\n</blockquote>\n<p><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170912-174951@2x.png\"><br>如果 .ssh 文件下已经有文件了 ,最好重新命名<br>密码建议填空</p>\n<h2 id=\"成功生成-SSH-KEY\"><a href=\"#成功生成-SSH-KEY\" class=\"headerlink\" title=\"成功生成 SSH-KEY\"></a>成功生成 SSH-KEY</h2><p><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170912-175312@2x.png\"></p>\n<h2 id=\"配置-SSH-KEY\"><a href=\"#配置-SSH-KEY\" class=\"headerlink\" title=\"配置 SSH-KEY\"></a>配置 SSH-KEY</h2><p>在~/.ssh/目录下会生成id-rsa_hostname和id-rsa_hostname.pub私钥和公钥。 我们将id-rsa_hostname.pub中的内容粘帖到服务器的SSH-key的配置中。</p>\n<blockquote>\n<p>cat ~/.ssh/github_blog_rsa.pub</p>\n</blockquote>\n<p><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170913-085838@2x.png\"><br>在GitHub的设置中粘贴公钥<br><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170913-090143@2x.png\"></p>\n<p>至此, ssh 就配置完成了.</p>\n<h2 id=\"验证配置是否成功\"><a href=\"#验证配置是否成功\" class=\"headerlink\" title=\"验证配置是否成功\"></a>验证配置是否成功</h2><blockquote>\n<p>ssh -T <a href=\"mailto:git@github.com\" target=\"_blank\" rel=\"noopener\">git@github.com</a></p>\n</blockquote>\n<p>笔者出现了如下错误<br><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170913-090537@2x.png\"><br>那是因为目录下有多个 ssh, 需要配置 config</p>\n<h2 id=\"打开-config-文件\"><a href=\"#打开-config-文件\" class=\"headerlink\" title=\"打开 config 文件\"></a>打开 config 文件</h2><blockquote>\n<p>vim ~/.ssh/config</p>\n</blockquote>\n<p><img src=\"http://obqo5zeui.bkt.clouddn.com/QQ20170913-090743@2x.png\"><br>添加如下</p>\n<blockquote>\n<p> Host github.com<br>   HostName github.com<br>   User timding<br>   IdentityFile ~/.ssh/github_blog_rsa</p>\n</blockquote>\n<p>然后保存.再执行 <code>ssh -T git@github.com</code> 就成功了.</p>"},{"title":"Identifiers must have user defined types from the XML file. View is missing","date":"2018-05-17T05:13:56.000Z","_content":"\n做项目的时候,用 databinding, 遇到这么个错误\n```\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':mpos-cashier:compileIntegrateJavaWithJavac'.\n> java.lang.RuntimeException: Found data binding errors.\n  ****/ data binding error ****msg:Identifiers must have user defined types from the XML file. View is missing it file:/Users/dingyang/tim/cfs/git/develop_smartpos/mpos-cashier/src/main/res/layout/activity_home.xml loc:54:65 - 54:68 ****\\ data binding error ****\n```\n<!-- more -->\n\n错误原因是 xml 中没有引用 view 这个方法.\n在 xml 的 `layout>data`下面引入\n```\n<import type=\"android.view.View\"\n```\n\n","source":"_posts/Identifiers-must-have-user-defined-types-from-the-XML-file-View-is-missing.md","raw":"---\ntitle: Identifiers must have user defined types from the XML file. View is missing\ndate: 2018-05-17 13:13:56\ntags:\n- android\n- databinding\ncategories:\n- 技术\n- Android\n---\n\n做项目的时候,用 databinding, 遇到这么个错误\n```\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':mpos-cashier:compileIntegrateJavaWithJavac'.\n> java.lang.RuntimeException: Found data binding errors.\n  ****/ data binding error ****msg:Identifiers must have user defined types from the XML file. View is missing it file:/Users/dingyang/tim/cfs/git/develop_smartpos/mpos-cashier/src/main/res/layout/activity_home.xml loc:54:65 - 54:68 ****\\ data binding error ****\n```\n<!-- more -->\n\n错误原因是 xml 中没有引用 view 这个方法.\n在 xml 的 `layout>data`下面引入\n```\n<import type=\"android.view.View\"\n```\n\n","slug":"Identifiers-must-have-user-defined-types-from-the-XML-file-View-is-missing","published":1,"updated":"2018-05-18T08:15:30.979Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhio9nof000u6bfymtlynb7x","content":"<p>做项目的时候,用 databinding, 遇到这么个错误<br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">FAILURE</span>: Build failed with an exception.</span><br><span class=\"line\"></span><br><span class=\"line\">* What went wrong:</span><br><span class=\"line\">Execution failed for task ':mpos-cashier:compileIntegrateJavaWithJavac'.</span><br><span class=\"line\">&gt; java.lang.RuntimeException: Found data binding errors.</span><br><span class=\"line\">  ****/ data binding error ****msg:Identifiers must have user defined types from the XML file. View is missing it file:/Users/dingyang/tim/cfs/git/develop_smartpos/mpos-cashier/src/main/res/layout/activity_home.xml loc:54:65 - 54:68 ****\\ data binding error ****</span><br></pre></td></tr></table></figure></p>\n<a id=\"more\"></a>\n<p>错误原因是 xml 中没有引用 view 这个方法.<br>在 xml 的 <code>layout&gt;data</code>下面引入<br><figure class=\"highlight scala\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;<span class=\"keyword\">import</span> <span class=\"class\"><span class=\"keyword\">type</span></span>=<span class=\"string\">\"android.view.View\"</span></span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"<p>做项目的时候,用 databinding, 遇到这么个错误<br><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">FAILURE</span>: Build failed with an exception.</span><br><span class=\"line\"></span><br><span class=\"line\">* What went wrong:</span><br><span class=\"line\">Execution failed for task ':mpos-cashier:compileIntegrateJavaWithJavac'.</span><br><span class=\"line\">&gt; java.lang.RuntimeException: Found data binding errors.</span><br><span class=\"line\">  ****/ data binding error ****msg:Identifiers must have user defined types from the XML file. View is missing it file:/Users/dingyang/tim/cfs/git/develop_smartpos/mpos-cashier/src/main/res/layout/activity_home.xml loc:54:65 - 54:68 ****\\ data binding error ****</span><br></pre></td></tr></table></figure></p>","more":"<p>错误原因是 xml 中没有引用 view 这个方法.<br>在 xml 的 <code>layout&gt;data</code>下面引入<br><figure class=\"highlight scala\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;<span class=\"keyword\">import</span> <span class=\"class\"><span class=\"keyword\">type</span></span>=<span class=\"string\">\"android.view.View\"</span></span><br></pre></td></tr></table></figure></p>"},{"title":"appveyor 自动化构建 hexo 博客失败","date":"2018-05-07T04:38:37.000Z","_content":"因为之前是 appveyor 来自动构建我的博客的.至于怎么用  appveyor 构建 hexo 博客,可以移步<a href=\"https://timding.top/2017/09/13/Hexo%E7%9A%84%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E4%B8%8E%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90\">Hexo的版本控制与持续集成</a>\n    <!--more-->\n今天突然发现更的博客和相册没有在网站上面发现更新.就去 appveyor. 一看才知道 构建失败了.\n错误日志\n\n```\nBuild started\ngit clone -q --depth=5 --branch=master https://github.com/lovexinforever/blog_src.git C:\\projects\\blog-src\ngit checkout -qf 5b6eaa0b3536784eb24fc766ae22cf0e9f2da1fc\nRunning Install scripts\nnode --version\nv4.8.7\nnpm --version\n2.15.11\nnpm install\n> fsevents@1.2.3 install C:\\projects\\blog-src\\node_modules\\fsevents\n> node install\n> nunjucks@3.1.2 postinstall C:\\projects\\blog-src\\node_modules\\nunjucks\n> node postinstall-build.js src\nnpm install hexo-cli -g\nnpm WARN engine hexo-fs@0.2.3: wanted: {\"node\":\">=6.9.0\"} (current: {\"node\":\"4.8.7\",\"npm\":\"2.15.11\"})\nnpm WARN optional dep failed, continuing fsevents@1.2.3\nC:\\Users\\appveyor\\AppData\\Roaming\\npm\\hexo -> C:\\Users\\appveyor\\AppData\\Roaming\\npm\\node_modules\\hexo-cli\\bin\\hexo\nhexo-cli@1.1.0 C:\\Users\\appveyor\\AppData\\Roaming\\npm\\node_modules\\hexo-cli\n├── abbrev@1.1.1\n├── object-assign@4.1.1\n├── command-exists@1.2.6\n├── minimist@1.2.0\n├── tildify@1.2.0 (os-homedir@1.0.2)\n├── chalk@1.1.3 (escape-string-regexp@1.0.5, supports-color@2.0.0, ansi-styles@2.2.1, strip-ansi@3.0.1, has-ansi@2.0.0)\n├── bluebird@3.5.1\n├── resolve@1.7.1 (path-parse@1.0.5)\n├── hexo-fs@0.2.3 (escape-string-regexp@1.0.5, graceful-fs@4.1.11, chokidar@1.7.0)\n├── hexo-util@0.6.3 (html-entities@1.2.1, striptags@2.2.1, camel-case@3.0.0, cross-spawn@4.0.2, highlight.js@9.12.0)\n└── hexo-log@0.2.0 (hexo-bunyan@1.0.0)\nnpm install hexo -save\nnpm WARN engine hexo@3.7.1: wanted: {\"node\":\">=6.9.0\"} (current: {\"node\":\"4.8.7\",\"npm\":\"2.15.11\"})\nhexo@3.7.1 node_modules\\hexo\n└── hexo-cli@1.1.0 (chalk@1.1.3)\nnpm install hexo-wordcount@2 --save\nhexo-wordcount@2.0.1 node_modules\\hexo-wordcount\nnpm install hexo-generator-sitemap --save\nhexo-generator-sitemap@1.2.0 node_modules\\hexo-generator-sitemap\n└── nunjucks@2.5.2\nnpm install hexo-generator-baidu-sitemap --save\nnpm WARN deprecated ejs@1.0.0: Critical security bugs fixed in 2.5.5\nhexo-generator-baidu-sitemap@0.1.2 node_modules\\hexo-generator-baidu-sitemap\n├── hexo-generator-baidu-sitemap@0.0.8\n└── ejs@1.0.0\nnpm install hexo-generator-searchdb --save\nnpm WARN deprecated ejs@1.0.0: Critical security bugs fixed in 2.5.5\nhexo-generator-searchdb@1.0.8 node_modules\\hexo-generator-searchdb\n├── striptags@3.1.1\n└── ejs@1.0.0\nhexo generate\nERROR Local hexo not found in C:\\projects\\blog-src\nERROR Try running: 'npm install hexo --save'\nCommand exited with code 2\n```\n刚开始以为要执行\n```\nnpm install hexo --save\n```\n结果发现还是不行\n就仔细看了日志,发现\n```\nnpm WARN engine hexo@3.7.1: wanted: {\"node\":\">=6.9.0\"} (current: {\"node\":\"4.8.7\",\"npm\":\"2.15.11\"})\n```\n原来是 版本升级问题, 是 hexo 的版本要 node.js>=6的.\n于是就升级了  appveyor.yml.\n```\nenvironment:\n    nodejs_version: \"6\"\n```\n在 environment 下面增加 nodejs 版本\n```\ninstall:\n    - ps: Install-Product node $env:nodejs_version\n```\n在 install 第一行添加如上代码.\n\n然后重新构建就 ok 了","source":"_posts/appveyor-自动化构建-hexo-博客失败.md","raw":"---\ntitle: appveyor 自动化构建 hexo 博客失败\ndate: 2018-05-07 12:38:37\ntags:\n- 持续集成\n- 版本管理\n- CI\n- AppVeyor\ncategories:\n- 技术\n---\n因为之前是 appveyor 来自动构建我的博客的.至于怎么用  appveyor 构建 hexo 博客,可以移步<a href=\"https://timding.top/2017/09/13/Hexo%E7%9A%84%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E4%B8%8E%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90\">Hexo的版本控制与持续集成</a>\n    <!--more-->\n今天突然发现更的博客和相册没有在网站上面发现更新.就去 appveyor. 一看才知道 构建失败了.\n错误日志\n\n```\nBuild started\ngit clone -q --depth=5 --branch=master https://github.com/lovexinforever/blog_src.git C:\\projects\\blog-src\ngit checkout -qf 5b6eaa0b3536784eb24fc766ae22cf0e9f2da1fc\nRunning Install scripts\nnode --version\nv4.8.7\nnpm --version\n2.15.11\nnpm install\n> fsevents@1.2.3 install C:\\projects\\blog-src\\node_modules\\fsevents\n> node install\n> nunjucks@3.1.2 postinstall C:\\projects\\blog-src\\node_modules\\nunjucks\n> node postinstall-build.js src\nnpm install hexo-cli -g\nnpm WARN engine hexo-fs@0.2.3: wanted: {\"node\":\">=6.9.0\"} (current: {\"node\":\"4.8.7\",\"npm\":\"2.15.11\"})\nnpm WARN optional dep failed, continuing fsevents@1.2.3\nC:\\Users\\appveyor\\AppData\\Roaming\\npm\\hexo -> C:\\Users\\appveyor\\AppData\\Roaming\\npm\\node_modules\\hexo-cli\\bin\\hexo\nhexo-cli@1.1.0 C:\\Users\\appveyor\\AppData\\Roaming\\npm\\node_modules\\hexo-cli\n├── abbrev@1.1.1\n├── object-assign@4.1.1\n├── command-exists@1.2.6\n├── minimist@1.2.0\n├── tildify@1.2.0 (os-homedir@1.0.2)\n├── chalk@1.1.3 (escape-string-regexp@1.0.5, supports-color@2.0.0, ansi-styles@2.2.1, strip-ansi@3.0.1, has-ansi@2.0.0)\n├── bluebird@3.5.1\n├── resolve@1.7.1 (path-parse@1.0.5)\n├── hexo-fs@0.2.3 (escape-string-regexp@1.0.5, graceful-fs@4.1.11, chokidar@1.7.0)\n├── hexo-util@0.6.3 (html-entities@1.2.1, striptags@2.2.1, camel-case@3.0.0, cross-spawn@4.0.2, highlight.js@9.12.0)\n└── hexo-log@0.2.0 (hexo-bunyan@1.0.0)\nnpm install hexo -save\nnpm WARN engine hexo@3.7.1: wanted: {\"node\":\">=6.9.0\"} (current: {\"node\":\"4.8.7\",\"npm\":\"2.15.11\"})\nhexo@3.7.1 node_modules\\hexo\n└── hexo-cli@1.1.0 (chalk@1.1.3)\nnpm install hexo-wordcount@2 --save\nhexo-wordcount@2.0.1 node_modules\\hexo-wordcount\nnpm install hexo-generator-sitemap --save\nhexo-generator-sitemap@1.2.0 node_modules\\hexo-generator-sitemap\n└── nunjucks@2.5.2\nnpm install hexo-generator-baidu-sitemap --save\nnpm WARN deprecated ejs@1.0.0: Critical security bugs fixed in 2.5.5\nhexo-generator-baidu-sitemap@0.1.2 node_modules\\hexo-generator-baidu-sitemap\n├── hexo-generator-baidu-sitemap@0.0.8\n└── ejs@1.0.0\nnpm install hexo-generator-searchdb --save\nnpm WARN deprecated ejs@1.0.0: Critical security bugs fixed in 2.5.5\nhexo-generator-searchdb@1.0.8 node_modules\\hexo-generator-searchdb\n├── striptags@3.1.1\n└── ejs@1.0.0\nhexo generate\nERROR Local hexo not found in C:\\projects\\blog-src\nERROR Try running: 'npm install hexo --save'\nCommand exited with code 2\n```\n刚开始以为要执行\n```\nnpm install hexo --save\n```\n结果发现还是不行\n就仔细看了日志,发现\n```\nnpm WARN engine hexo@3.7.1: wanted: {\"node\":\">=6.9.0\"} (current: {\"node\":\"4.8.7\",\"npm\":\"2.15.11\"})\n```\n原来是 版本升级问题, 是 hexo 的版本要 node.js>=6的.\n于是就升级了  appveyor.yml.\n```\nenvironment:\n    nodejs_version: \"6\"\n```\n在 environment 下面增加 nodejs 版本\n```\ninstall:\n    - ps: Install-Product node $env:nodejs_version\n```\n在 install 第一行添加如上代码.\n\n然后重新构建就 ok 了","slug":"appveyor-自动化构建-hexo-博客失败","published":1,"updated":"2018-05-07T05:20:07.182Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhio9nog000y6bfypk4283wv","content":"<p>因为之前是 appveyor 来自动构建我的博客的.至于怎么用  appveyor 构建 hexo 博客,可以移步<a href=\"https://timding.top/2017/09/13/Hexo%E7%9A%84%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E4%B8%8E%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90\" target=\"_blank\" rel=\"noopener\">Hexo的版本控制与持续集成</a><br>    <a id=\"more\"></a><br>今天突然发现更的博客和相册没有在网站上面发现更新.就去 appveyor. 一看才知道 构建失败了.<br>错误日志</p>\n<figure class=\"highlight x86asm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Build started</span><br><span class=\"line\">git clone -q --depth=<span class=\"number\">5</span> --branch=master https://github.com/lovexinforever/blog_src.git C:\\projects\\blog-src</span><br><span class=\"line\">git checkout -qf 5b6eaa0b3536784eb24fc766ae22cf0e9f2da1fc</span><br><span class=\"line\">Running Install scripts</span><br><span class=\"line\">node --version</span><br><span class=\"line\">v4<span class=\"meta\">.8</span><span class=\"meta\">.7</span></span><br><span class=\"line\">npm --version</span><br><span class=\"line\"><span class=\"number\">2.15</span><span class=\"meta\">.11</span></span><br><span class=\"line\">npm install</span><br><span class=\"line\">&gt; fsevents@<span class=\"number\">1.2</span><span class=\"meta\">.3</span> install C:\\projects\\blog-src\\node_modules\\fsevents</span><br><span class=\"line\">&gt; node install</span><br><span class=\"line\">&gt; nunjucks@<span class=\"number\">3.1</span><span class=\"meta\">.2</span> postinstall C:\\projects\\blog-src\\node_modules\\nunjucks</span><br><span class=\"line\">&gt; node postinstall-build.js src</span><br><span class=\"line\">npm install hexo-<span class=\"keyword\">cli</span> -g</span><br><span class=\"line\">npm WARN engine hexo-<span class=\"built_in\">fs</span>@<span class=\"number\">0.2</span><span class=\"meta\">.3</span>: wanted: &#123;<span class=\"string\">\"node\"</span>:<span class=\"string\">\"&gt;=6.9.0\"</span>&#125; (current: &#123;<span class=\"string\">\"node\"</span>:<span class=\"string\">\"4.8.7\"</span>,<span class=\"string\">\"npm\"</span>:<span class=\"string\">\"2.15.11\"</span>&#125;)</span><br><span class=\"line\">npm WARN optional dep failed, continuing fsevents@<span class=\"number\">1.2</span><span class=\"meta\">.3</span></span><br><span class=\"line\"><span class=\"symbol\">C:</span>\\Users\\appveyor\\AppData\\Roaming\\npm\\hexo -&gt; C:\\Users\\appveyor\\AppData\\Roaming\\npm\\node_modules\\hexo-<span class=\"keyword\">cli</span>\\bin\\hexo</span><br><span class=\"line\">hexo-<span class=\"keyword\">cli</span>@<span class=\"number\">1.1</span><span class=\"meta\">.0</span> C:\\Users\\appveyor\\AppData\\Roaming\\npm\\node_modules\\hexo-<span class=\"keyword\">cli</span></span><br><span class=\"line\">├── abbrev@<span class=\"number\">1.1</span><span class=\"meta\">.1</span></span><br><span class=\"line\">├── object-assign@<span class=\"number\">4.1</span><span class=\"meta\">.1</span></span><br><span class=\"line\">├── command-exists@<span class=\"number\">1.2</span><span class=\"meta\">.6</span></span><br><span class=\"line\">├── minimist@<span class=\"number\">1.2</span><span class=\"meta\">.0</span></span><br><span class=\"line\">├── tildify@<span class=\"number\">1.2</span><span class=\"meta\">.0</span> (os-homedir@<span class=\"number\">1.0</span><span class=\"meta\">.2</span>)</span><br><span class=\"line\">├── chalk@<span class=\"number\">1.1</span><span class=\"meta\">.3</span> (escape-string-regexp@<span class=\"number\">1.0</span><span class=\"meta\">.5</span>, supports-color@<span class=\"number\">2.0</span><span class=\"meta\">.0</span>, ansi-styles@<span class=\"number\">2.2</span><span class=\"meta\">.1</span>, strip-ansi@<span class=\"number\">3.0</span><span class=\"meta\">.1</span>, has-ansi@<span class=\"number\">2.0</span><span class=\"meta\">.0</span>)</span><br><span class=\"line\">├── bluebird@<span class=\"number\">3.5</span><span class=\"meta\">.1</span></span><br><span class=\"line\">├── resolve@<span class=\"number\">1.7</span><span class=\"meta\">.1</span> (path-parse@<span class=\"number\">1.0</span><span class=\"meta\">.5</span>)</span><br><span class=\"line\">├── hexo-<span class=\"built_in\">fs</span>@<span class=\"number\">0.2</span><span class=\"meta\">.3</span> (escape-string-regexp@<span class=\"number\">1.0</span><span class=\"meta\">.5</span>, graceful-<span class=\"built_in\">fs</span>@<span class=\"number\">4.1</span><span class=\"meta\">.11</span>, chokidar@<span class=\"number\">1.7</span><span class=\"meta\">.0</span>)</span><br><span class=\"line\">├── hexo-util@<span class=\"number\">0.6</span><span class=\"meta\">.3</span> (html-entities@<span class=\"number\">1.2</span><span class=\"meta\">.1</span>, striptags@<span class=\"number\">2.2</span><span class=\"meta\">.1</span>, camel-case@<span class=\"number\">3.0</span><span class=\"meta\">.0</span>, cross-spawn@<span class=\"number\">4.0</span><span class=\"meta\">.2</span>, highlight.js@<span class=\"number\">9.12</span><span class=\"meta\">.0</span>)</span><br><span class=\"line\">└── hexo-log@<span class=\"number\">0.2</span><span class=\"meta\">.0</span> (hexo-bunyan@<span class=\"number\">1.0</span><span class=\"meta\">.0</span>)</span><br><span class=\"line\">npm install hexo -save</span><br><span class=\"line\">npm WARN engine hexo@<span class=\"number\">3.7</span><span class=\"meta\">.1</span>: wanted: &#123;<span class=\"string\">\"node\"</span>:<span class=\"string\">\"&gt;=6.9.0\"</span>&#125; (current: &#123;<span class=\"string\">\"node\"</span>:<span class=\"string\">\"4.8.7\"</span>,<span class=\"string\">\"npm\"</span>:<span class=\"string\">\"2.15.11\"</span>&#125;)</span><br><span class=\"line\">hexo@<span class=\"number\">3.7</span><span class=\"meta\">.1</span> node_modules\\hexo</span><br><span class=\"line\">└── hexo-<span class=\"keyword\">cli</span>@<span class=\"number\">1.1</span><span class=\"meta\">.0</span> (chalk@<span class=\"number\">1.1</span><span class=\"meta\">.3</span>)</span><br><span class=\"line\">npm install hexo-wordcount@<span class=\"number\">2</span> --save</span><br><span class=\"line\">hexo-wordcount@<span class=\"number\">2.0</span><span class=\"meta\">.1</span> node_modules\\hexo-wordcount</span><br><span class=\"line\">npm install hexo-generator-sitemap --save</span><br><span class=\"line\">hexo-generator-sitemap@<span class=\"number\">1.2</span><span class=\"meta\">.0</span> node_modules\\hexo-generator-sitemap</span><br><span class=\"line\">└── nunjucks@<span class=\"number\">2.5</span><span class=\"meta\">.2</span></span><br><span class=\"line\">npm install hexo-generator-baidu-sitemap --save</span><br><span class=\"line\">npm WARN deprecated ejs@<span class=\"number\">1.0</span><span class=\"meta\">.0</span>: Critical security bugs fixed <span class=\"keyword\">in</span> <span class=\"number\">2.5</span><span class=\"meta\">.5</span></span><br><span class=\"line\">hexo-generator-baidu-sitemap@<span class=\"number\">0.1</span><span class=\"meta\">.2</span> node_modules\\hexo-generator-baidu-sitemap</span><br><span class=\"line\">├── hexo-generator-baidu-sitemap@<span class=\"number\">0.0</span><span class=\"meta\">.8</span></span><br><span class=\"line\">└── ejs@<span class=\"number\">1.0</span><span class=\"meta\">.0</span></span><br><span class=\"line\">npm install hexo-generator-searchdb --save</span><br><span class=\"line\">npm WARN deprecated ejs@<span class=\"number\">1.0</span><span class=\"meta\">.0</span>: Critical security bugs fixed <span class=\"keyword\">in</span> <span class=\"number\">2.5</span><span class=\"meta\">.5</span></span><br><span class=\"line\">hexo-generator-searchdb@<span class=\"number\">1.0</span><span class=\"meta\">.8</span> node_modules\\hexo-generator-searchdb</span><br><span class=\"line\">├── striptags@<span class=\"number\">3.1</span><span class=\"meta\">.1</span></span><br><span class=\"line\">└── ejs@<span class=\"number\">1.0</span><span class=\"meta\">.0</span></span><br><span class=\"line\">hexo generate</span><br><span class=\"line\">ERROR Local hexo <span class=\"keyword\">not</span> found <span class=\"keyword\">in</span> C:\\projects\\blog-src</span><br><span class=\"line\">ERROR Try running: <span class=\"string\">'npm install hexo --save'</span></span><br><span class=\"line\">Command exited with code <span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n<p>刚开始以为要执行<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm <span class=\"keyword\">install</span> hexo <span class=\"comment\">--save</span></span><br></pre></td></tr></table></figure></p>\n<p>结果发现还是不行<br>就仔细看了日志,发现<br><figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm WARN engine hexo@<span class=\"number\">3.7</span><span class=\"number\">.1</span>: <span class=\"string\">wanted:</span> &#123;<span class=\"string\">\"node\"</span>:<span class=\"string\">\"&gt;=6.9.0\"</span>&#125; (<span class=\"string\">current:</span> &#123;<span class=\"string\">\"node\"</span>:<span class=\"string\">\"4.8.7\"</span>,<span class=\"string\">\"npm\"</span>:<span class=\"string\">\"2.15.11\"</span>&#125;)</span><br></pre></td></tr></table></figure></p>\n<p>原来是 版本升级问题, 是 hexo 的版本要 node.js&gt;=6的.<br>于是就升级了  appveyor.yml.<br><figure class=\"highlight dts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">environment:</span></span><br><span class=\"line\"><span class=\"symbol\">    nodejs_version:</span> <span class=\"string\">\"6\"</span></span><br></pre></td></tr></table></figure></p>\n<p>在 environment 下面增加 nodejs 版本<br><figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">install:</span><br><span class=\"line\">    - ps: Install-Product <span class=\"keyword\">node</span> <span class=\"title\">$env</span>:nodejs_version</span><br></pre></td></tr></table></figure></p>\n<p>在 install 第一行添加如上代码.</p>\n<p>然后重新构建就 ok 了</p>\n","site":{"data":{}},"excerpt":"<p>因为之前是 appveyor 来自动构建我的博客的.至于怎么用  appveyor 构建 hexo 博客,可以移步<a href=\"https://timding.top/2017/09/13/Hexo%E7%9A%84%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E4%B8%8E%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90\" target=\"_blank\" rel=\"noopener\">Hexo的版本控制与持续集成</a><br>","more":"<br>今天突然发现更的博客和相册没有在网站上面发现更新.就去 appveyor. 一看才知道 构建失败了.<br>错误日志</p>\n<figure class=\"highlight x86asm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Build started</span><br><span class=\"line\">git clone -q --depth=<span class=\"number\">5</span> --branch=master https://github.com/lovexinforever/blog_src.git C:\\projects\\blog-src</span><br><span class=\"line\">git checkout -qf 5b6eaa0b3536784eb24fc766ae22cf0e9f2da1fc</span><br><span class=\"line\">Running Install scripts</span><br><span class=\"line\">node --version</span><br><span class=\"line\">v4<span class=\"meta\">.8</span><span class=\"meta\">.7</span></span><br><span class=\"line\">npm --version</span><br><span class=\"line\"><span class=\"number\">2.15</span><span class=\"meta\">.11</span></span><br><span class=\"line\">npm install</span><br><span class=\"line\">&gt; fsevents@<span class=\"number\">1.2</span><span class=\"meta\">.3</span> install C:\\projects\\blog-src\\node_modules\\fsevents</span><br><span class=\"line\">&gt; node install</span><br><span class=\"line\">&gt; nunjucks@<span class=\"number\">3.1</span><span class=\"meta\">.2</span> postinstall C:\\projects\\blog-src\\node_modules\\nunjucks</span><br><span class=\"line\">&gt; node postinstall-build.js src</span><br><span class=\"line\">npm install hexo-<span class=\"keyword\">cli</span> -g</span><br><span class=\"line\">npm WARN engine hexo-<span class=\"built_in\">fs</span>@<span class=\"number\">0.2</span><span class=\"meta\">.3</span>: wanted: &#123;<span class=\"string\">\"node\"</span>:<span class=\"string\">\"&gt;=6.9.0\"</span>&#125; (current: &#123;<span class=\"string\">\"node\"</span>:<span class=\"string\">\"4.8.7\"</span>,<span class=\"string\">\"npm\"</span>:<span class=\"string\">\"2.15.11\"</span>&#125;)</span><br><span class=\"line\">npm WARN optional dep failed, continuing fsevents@<span class=\"number\">1.2</span><span class=\"meta\">.3</span></span><br><span class=\"line\"><span class=\"symbol\">C:</span>\\Users\\appveyor\\AppData\\Roaming\\npm\\hexo -&gt; C:\\Users\\appveyor\\AppData\\Roaming\\npm\\node_modules\\hexo-<span class=\"keyword\">cli</span>\\bin\\hexo</span><br><span class=\"line\">hexo-<span class=\"keyword\">cli</span>@<span class=\"number\">1.1</span><span class=\"meta\">.0</span> C:\\Users\\appveyor\\AppData\\Roaming\\npm\\node_modules\\hexo-<span class=\"keyword\">cli</span></span><br><span class=\"line\">├── abbrev@<span class=\"number\">1.1</span><span class=\"meta\">.1</span></span><br><span class=\"line\">├── object-assign@<span class=\"number\">4.1</span><span class=\"meta\">.1</span></span><br><span class=\"line\">├── command-exists@<span class=\"number\">1.2</span><span class=\"meta\">.6</span></span><br><span class=\"line\">├── minimist@<span class=\"number\">1.2</span><span class=\"meta\">.0</span></span><br><span class=\"line\">├── tildify@<span class=\"number\">1.2</span><span class=\"meta\">.0</span> (os-homedir@<span class=\"number\">1.0</span><span class=\"meta\">.2</span>)</span><br><span class=\"line\">├── chalk@<span class=\"number\">1.1</span><span class=\"meta\">.3</span> (escape-string-regexp@<span class=\"number\">1.0</span><span class=\"meta\">.5</span>, supports-color@<span class=\"number\">2.0</span><span class=\"meta\">.0</span>, ansi-styles@<span class=\"number\">2.2</span><span class=\"meta\">.1</span>, strip-ansi@<span class=\"number\">3.0</span><span class=\"meta\">.1</span>, has-ansi@<span class=\"number\">2.0</span><span class=\"meta\">.0</span>)</span><br><span class=\"line\">├── bluebird@<span class=\"number\">3.5</span><span class=\"meta\">.1</span></span><br><span class=\"line\">├── resolve@<span class=\"number\">1.7</span><span class=\"meta\">.1</span> (path-parse@<span class=\"number\">1.0</span><span class=\"meta\">.5</span>)</span><br><span class=\"line\">├── hexo-<span class=\"built_in\">fs</span>@<span class=\"number\">0.2</span><span class=\"meta\">.3</span> (escape-string-regexp@<span class=\"number\">1.0</span><span class=\"meta\">.5</span>, graceful-<span class=\"built_in\">fs</span>@<span class=\"number\">4.1</span><span class=\"meta\">.11</span>, chokidar@<span class=\"number\">1.7</span><span class=\"meta\">.0</span>)</span><br><span class=\"line\">├── hexo-util@<span class=\"number\">0.6</span><span class=\"meta\">.3</span> (html-entities@<span class=\"number\">1.2</span><span class=\"meta\">.1</span>, striptags@<span class=\"number\">2.2</span><span class=\"meta\">.1</span>, camel-case@<span class=\"number\">3.0</span><span class=\"meta\">.0</span>, cross-spawn@<span class=\"number\">4.0</span><span class=\"meta\">.2</span>, highlight.js@<span class=\"number\">9.12</span><span class=\"meta\">.0</span>)</span><br><span class=\"line\">└── hexo-log@<span class=\"number\">0.2</span><span class=\"meta\">.0</span> (hexo-bunyan@<span class=\"number\">1.0</span><span class=\"meta\">.0</span>)</span><br><span class=\"line\">npm install hexo -save</span><br><span class=\"line\">npm WARN engine hexo@<span class=\"number\">3.7</span><span class=\"meta\">.1</span>: wanted: &#123;<span class=\"string\">\"node\"</span>:<span class=\"string\">\"&gt;=6.9.0\"</span>&#125; (current: &#123;<span class=\"string\">\"node\"</span>:<span class=\"string\">\"4.8.7\"</span>,<span class=\"string\">\"npm\"</span>:<span class=\"string\">\"2.15.11\"</span>&#125;)</span><br><span class=\"line\">hexo@<span class=\"number\">3.7</span><span class=\"meta\">.1</span> node_modules\\hexo</span><br><span class=\"line\">└── hexo-<span class=\"keyword\">cli</span>@<span class=\"number\">1.1</span><span class=\"meta\">.0</span> (chalk@<span class=\"number\">1.1</span><span class=\"meta\">.3</span>)</span><br><span class=\"line\">npm install hexo-wordcount@<span class=\"number\">2</span> --save</span><br><span class=\"line\">hexo-wordcount@<span class=\"number\">2.0</span><span class=\"meta\">.1</span> node_modules\\hexo-wordcount</span><br><span class=\"line\">npm install hexo-generator-sitemap --save</span><br><span class=\"line\">hexo-generator-sitemap@<span class=\"number\">1.2</span><span class=\"meta\">.0</span> node_modules\\hexo-generator-sitemap</span><br><span class=\"line\">└── nunjucks@<span class=\"number\">2.5</span><span class=\"meta\">.2</span></span><br><span class=\"line\">npm install hexo-generator-baidu-sitemap --save</span><br><span class=\"line\">npm WARN deprecated ejs@<span class=\"number\">1.0</span><span class=\"meta\">.0</span>: Critical security bugs fixed <span class=\"keyword\">in</span> <span class=\"number\">2.5</span><span class=\"meta\">.5</span></span><br><span class=\"line\">hexo-generator-baidu-sitemap@<span class=\"number\">0.1</span><span class=\"meta\">.2</span> node_modules\\hexo-generator-baidu-sitemap</span><br><span class=\"line\">├── hexo-generator-baidu-sitemap@<span class=\"number\">0.0</span><span class=\"meta\">.8</span></span><br><span class=\"line\">└── ejs@<span class=\"number\">1.0</span><span class=\"meta\">.0</span></span><br><span class=\"line\">npm install hexo-generator-searchdb --save</span><br><span class=\"line\">npm WARN deprecated ejs@<span class=\"number\">1.0</span><span class=\"meta\">.0</span>: Critical security bugs fixed <span class=\"keyword\">in</span> <span class=\"number\">2.5</span><span class=\"meta\">.5</span></span><br><span class=\"line\">hexo-generator-searchdb@<span class=\"number\">1.0</span><span class=\"meta\">.8</span> node_modules\\hexo-generator-searchdb</span><br><span class=\"line\">├── striptags@<span class=\"number\">3.1</span><span class=\"meta\">.1</span></span><br><span class=\"line\">└── ejs@<span class=\"number\">1.0</span><span class=\"meta\">.0</span></span><br><span class=\"line\">hexo generate</span><br><span class=\"line\">ERROR Local hexo <span class=\"keyword\">not</span> found <span class=\"keyword\">in</span> C:\\projects\\blog-src</span><br><span class=\"line\">ERROR Try running: <span class=\"string\">'npm install hexo --save'</span></span><br><span class=\"line\">Command exited with code <span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n<p>刚开始以为要执行<br><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm <span class=\"keyword\">install</span> hexo <span class=\"comment\">--save</span></span><br></pre></td></tr></table></figure></p>\n<p>结果发现还是不行<br>就仔细看了日志,发现<br><figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm WARN engine hexo@<span class=\"number\">3.7</span><span class=\"number\">.1</span>: <span class=\"string\">wanted:</span> &#123;<span class=\"string\">\"node\"</span>:<span class=\"string\">\"&gt;=6.9.0\"</span>&#125; (<span class=\"string\">current:</span> &#123;<span class=\"string\">\"node\"</span>:<span class=\"string\">\"4.8.7\"</span>,<span class=\"string\">\"npm\"</span>:<span class=\"string\">\"2.15.11\"</span>&#125;)</span><br></pre></td></tr></table></figure></p>\n<p>原来是 版本升级问题, 是 hexo 的版本要 node.js&gt;=6的.<br>于是就升级了  appveyor.yml.<br><figure class=\"highlight dts\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">environment:</span></span><br><span class=\"line\"><span class=\"symbol\">    nodejs_version:</span> <span class=\"string\">\"6\"</span></span><br></pre></td></tr></table></figure></p>\n<p>在 environment 下面增加 nodejs 版本<br><figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">install:</span><br><span class=\"line\">    - ps: Install-Product <span class=\"keyword\">node</span> <span class=\"title\">$env</span>:nodejs_version</span><br></pre></td></tr></table></figure></p>\n<p>在 install 第一行添加如上代码.</p>\n<p>然后重新构建就 ok 了</p>"},{"title":"github 上传代码 菜鸟超详细教程","date":"2015-12-29T08:52:30.000Z","_content":"### 由于最近需要把代码上传到github上,之前只是用来fork别人的代码.所以写了这篇文章.运行环境windows.\n<!-- more -->\n1. 当然需要有github账号,没有的话,请移步<a href=\"http://github.com\"><font color=\"#ff0\">Github</font></a>\n2. 新建仓库\n<img src=\"/imgs/blog7/img1.png\"/>\n图中红色部分都可以新建\n3. 填写名称，简介（可选），勾选Initialize this repository with a README选项，这是自动创建REAMDE.md文件，省的你再创建.\n<img src=\"/imgs/blog7/img2.png\"/>\n4. 用git shell 连接 github ssh.不会的话请移步<a href=\"http://timding.com/2015/12/25/%E8%AE%BE%E7%BD%AESSH-keys/#more\"><font color=\"#ff0\">设置ssh keys</font></a>\n5. clone刚才新建的repository 到本地，输入命令：\n<img src=\"/imgs/blog7/img3.png\"/>\n<font color=\"#f00\">`git clone https://github.com/lovexinforever/blog.git`</font>\n这时会在目录下生成：\n<img src=\"/imgs/blog7/img4.png\"/>\n6. 将想上传的代码目录拷贝到此文件夹下：\n<img src=\"/imgs/blog7/img5.png\"/>\n7. 切换到Git shell 命令行下，输入命令：\n\n<font color=\"#f00\">`git init`</font>\n<font color=\"#f00\">`git commit -m 'blog'`</font>\n<font color=\"#f00\">`git remote add origin https://github.com/lovexinforever/blog.git`</font>\n<font color=\"#f00\">`git push origin master`</font>\n如果执行<font color=\"#f00\">`git remote add origin https://github.com/lovexinforever/blog.git`</font>，出现错误：\n\n　　<font color=\"#f00\">`fatal: remote origin already exists`</font>\n则执行以下语句：\n\n　　<font color=\"#f00\">`git remote rm origin`</font>\n再往后执行<font color=\"#f00\">`git remote add origin https://github.com/lovexinforever/blog.git`</font> 即可。\n\n在执行<font color=\"#f00\">`git push origin master`</font>时，报错：\n\n　　<font color=\"#f00\">`error:failed to push som refs to.......`</font>\n则执行以下语句：\n\n　　<font color=\"#f00\">`git pull origin master`</font>\n先把远程服务器github上面的文件拉先来，再push 上去。\n\n\n\n\n</br>\n</br>\n</br>\n至此,就把本地代码提交到远程github上了.  谢谢\n\n   欢迎转载!!","source":"_posts/github-上传代码-菜鸟超详细教程.md","raw":"---\ntitle: github 上传代码 菜鸟超详细教程\ndate: 2015-12-29 16:52:30\ntags:\n- git\n- github\ncategories: \n- 技术\n- 日志\n---\n### 由于最近需要把代码上传到github上,之前只是用来fork别人的代码.所以写了这篇文章.运行环境windows.\n<!-- more -->\n1. 当然需要有github账号,没有的话,请移步<a href=\"http://github.com\"><font color=\"#ff0\">Github</font></a>\n2. 新建仓库\n<img src=\"/imgs/blog7/img1.png\"/>\n图中红色部分都可以新建\n3. 填写名称，简介（可选），勾选Initialize this repository with a README选项，这是自动创建REAMDE.md文件，省的你再创建.\n<img src=\"/imgs/blog7/img2.png\"/>\n4. 用git shell 连接 github ssh.不会的话请移步<a href=\"http://timding.com/2015/12/25/%E8%AE%BE%E7%BD%AESSH-keys/#more\"><font color=\"#ff0\">设置ssh keys</font></a>\n5. clone刚才新建的repository 到本地，输入命令：\n<img src=\"/imgs/blog7/img3.png\"/>\n<font color=\"#f00\">`git clone https://github.com/lovexinforever/blog.git`</font>\n这时会在目录下生成：\n<img src=\"/imgs/blog7/img4.png\"/>\n6. 将想上传的代码目录拷贝到此文件夹下：\n<img src=\"/imgs/blog7/img5.png\"/>\n7. 切换到Git shell 命令行下，输入命令：\n\n<font color=\"#f00\">`git init`</font>\n<font color=\"#f00\">`git commit -m 'blog'`</font>\n<font color=\"#f00\">`git remote add origin https://github.com/lovexinforever/blog.git`</font>\n<font color=\"#f00\">`git push origin master`</font>\n如果执行<font color=\"#f00\">`git remote add origin https://github.com/lovexinforever/blog.git`</font>，出现错误：\n\n　　<font color=\"#f00\">`fatal: remote origin already exists`</font>\n则执行以下语句：\n\n　　<font color=\"#f00\">`git remote rm origin`</font>\n再往后执行<font color=\"#f00\">`git remote add origin https://github.com/lovexinforever/blog.git`</font> 即可。\n\n在执行<font color=\"#f00\">`git push origin master`</font>时，报错：\n\n　　<font color=\"#f00\">`error:failed to push som refs to.......`</font>\n则执行以下语句：\n\n　　<font color=\"#f00\">`git pull origin master`</font>\n先把远程服务器github上面的文件拉先来，再push 上去。\n\n\n\n\n</br>\n</br>\n</br>\n至此,就把本地代码提交到远程github上了.  谢谢\n\n   欢迎转载!!","slug":"github-上传代码-菜鸟超详细教程","published":1,"updated":"2018-05-02T05:55:01.748Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhio9noh00126bfyoxe061hn","content":"<h3 id=\"由于最近需要把代码上传到github上-之前只是用来fork别人的代码-所以写了这篇文章-运行环境windows\"><a href=\"#由于最近需要把代码上传到github上-之前只是用来fork别人的代码-所以写了这篇文章-运行环境windows\" class=\"headerlink\" title=\"由于最近需要把代码上传到github上,之前只是用来fork别人的代码.所以写了这篇文章.运行环境windows.\"></a>由于最近需要把代码上传到github上,之前只是用来fork别人的代码.所以写了这篇文章.运行环境windows.</h3><a id=\"more\"></a>\n<ol>\n<li>当然需要有github账号,没有的话,请移步<a href=\"http://github.com\" target=\"_blank\" rel=\"noopener\"><font color=\"#ff0\">Github</font></a></li>\n<li>新建仓库<br><img src=\"/imgs/blog7/img1.png\"><br>图中红色部分都可以新建</li>\n<li>填写名称，简介（可选），勾选Initialize this repository with a README选项，这是自动创建REAMDE.md文件，省的你再创建.<br><img src=\"/imgs/blog7/img2.png\"></li>\n<li>用git shell 连接 github ssh.不会的话请移步<a href=\"http://timding.com/2015/12/25/%E8%AE%BE%E7%BD%AESSH-keys/#more\" target=\"_blank\" rel=\"noopener\"><font color=\"#ff0\">设置ssh keys</font></a></li>\n<li>clone刚才新建的repository 到本地，输入命令：<br><img src=\"/imgs/blog7/img3.png\"><br><font color=\"#f00\"><code>git clone https://github.com/lovexinforever/blog.git</code></font><br>这时会在目录下生成：<br><img src=\"/imgs/blog7/img4.png\"></li>\n<li>将想上传的代码目录拷贝到此文件夹下：<br><img src=\"/imgs/blog7/img5.png\"></li>\n<li>切换到Git shell 命令行下，输入命令：</li>\n</ol>\n<p><font color=\"#f00\"><code>git init</code></font></p>\n<p><font color=\"#f00\"><code>git commit -m &#39;blog&#39;</code></font></p>\n<p><font color=\"#f00\"><code>git remote add origin https://github.com/lovexinforever/blog.git</code></font></p>\n<p><font color=\"#f00\"><code>git push origin master</code></font><br>如果执行<font color=\"#f00\"><code>git remote add origin https://github.com/lovexinforever/blog.git</code></font>，出现错误：</p>\n<p>　　<font color=\"#f00\"><code>fatal: remote origin already exists</code></font><br>则执行以下语句：</p>\n<p>　　<font color=\"#f00\"><code>git remote rm origin</code></font><br>再往后执行<font color=\"#f00\"><code>git remote add origin https://github.com/lovexinforever/blog.git</code></font> 即可。</p>\n<p>在执行<font color=\"#f00\"><code>git push origin master</code></font>时，报错：</p>\n<p>　　<font color=\"#f00\"><code>error:failed to push som refs to.......</code></font><br>则执行以下语句：</p>\n<p>　　<font color=\"#f00\"><code>git pull origin master</code></font><br>先把远程服务器github上面的文件拉先来，再push 上去。</p>\n<p><br><br><br><br><br><br>至此,就把本地代码提交到远程github上了.  谢谢</p>\n<p>   欢迎转载!!</p>\n","site":{"data":{}},"excerpt":"<h3 id=\"由于最近需要把代码上传到github上-之前只是用来fork别人的代码-所以写了这篇文章-运行环境windows\"><a href=\"#由于最近需要把代码上传到github上-之前只是用来fork别人的代码-所以写了这篇文章-运行环境windows\" class=\"headerlink\" title=\"由于最近需要把代码上传到github上,之前只是用来fork别人的代码.所以写了这篇文章.运行环境windows.\"></a>由于最近需要把代码上传到github上,之前只是用来fork别人的代码.所以写了这篇文章.运行环境windows.</h3>","more":"<ol>\n<li>当然需要有github账号,没有的话,请移步<a href=\"http://github.com\" target=\"_blank\" rel=\"noopener\"><font color=\"#ff0\">Github</font></a></li>\n<li>新建仓库<br><img src=\"/imgs/blog7/img1.png\"><br>图中红色部分都可以新建</li>\n<li>填写名称，简介（可选），勾选Initialize this repository with a README选项，这是自动创建REAMDE.md文件，省的你再创建.<br><img src=\"/imgs/blog7/img2.png\"></li>\n<li>用git shell 连接 github ssh.不会的话请移步<a href=\"http://timding.com/2015/12/25/%E8%AE%BE%E7%BD%AESSH-keys/#more\" target=\"_blank\" rel=\"noopener\"><font color=\"#ff0\">设置ssh keys</font></a></li>\n<li>clone刚才新建的repository 到本地，输入命令：<br><img src=\"/imgs/blog7/img3.png\"><br><font color=\"#f00\"><code>git clone https://github.com/lovexinforever/blog.git</code></font><br>这时会在目录下生成：<br><img src=\"/imgs/blog7/img4.png\"></li>\n<li>将想上传的代码目录拷贝到此文件夹下：<br><img src=\"/imgs/blog7/img5.png\"></li>\n<li>切换到Git shell 命令行下，输入命令：</li>\n</ol>\n<p><font color=\"#f00\"><code>git init</code></font></p>\n<p><font color=\"#f00\"><code>git commit -m &#39;blog&#39;</code></font></p>\n<p><font color=\"#f00\"><code>git remote add origin https://github.com/lovexinforever/blog.git</code></font></p>\n<p><font color=\"#f00\"><code>git push origin master</code></font><br>如果执行<font color=\"#f00\"><code>git remote add origin https://github.com/lovexinforever/blog.git</code></font>，出现错误：</p>\n<p>　　<font color=\"#f00\"><code>fatal: remote origin already exists</code></font><br>则执行以下语句：</p>\n<p>　　<font color=\"#f00\"><code>git remote rm origin</code></font><br>再往后执行<font color=\"#f00\"><code>git remote add origin https://github.com/lovexinforever/blog.git</code></font> 即可。</p>\n<p>在执行<font color=\"#f00\"><code>git push origin master</code></font>时，报错：</p>\n<p>　　<font color=\"#f00\"><code>error:failed to push som refs to.......</code></font><br>则执行以下语句：</p>\n<p>　　<font color=\"#f00\"><code>git pull origin master</code></font><br>先把远程服务器github上面的文件拉先来，再push 上去。</p>\n<p><br><br><br><br><br><br>至此,就把本地代码提交到远程github上了.  谢谢</p>\n<p>   欢迎转载!!</p>"},{"title":"git怎样删除未监视的文件untracked files","date":"2017-10-31T06:49:51.000Z","_content":"\n使用 git 中  经常需要还原文件.\n<!--more-->\n\n如果是文件是 untracked files.\n则我们用 git clean 来还原\n```\n# 删除 untracked files\ngit clean -f\n \n# 连 untracked 的目录也一起删掉\ngit clean -fd\n \n# 连 gitignore 的untrack 文件/目录也一起删掉 （慎用，一般这个是用来删掉编译出来的 .o之类的文件用的）\ngit clean -xfd\n \n# 在用上述 git clean 前，墙裂建议加上 -n 参数来先看看会删掉哪些文件，防止重要文件被误删\ngit clean -nxfd\ngit clean -nf\ngit clean -nfd\n```\n\n如果文件是 tracked files\n则我们用 git checkout来还原\n```\n#还原指定文件\ngit checkout files\n\n#全部还原\ngit checkout .\n\n```\n","source":"_posts/git怎样删除未监视的文件untracked-files.md","raw":"---\ntitle: git怎样删除未监视的文件untracked files\ndate: 2017-10-31 14:49:51\ntags:\n- git\n- untracked\ncategories:\n- 技术\n- Git\n---\n\n使用 git 中  经常需要还原文件.\n<!--more-->\n\n如果是文件是 untracked files.\n则我们用 git clean 来还原\n```\n# 删除 untracked files\ngit clean -f\n \n# 连 untracked 的目录也一起删掉\ngit clean -fd\n \n# 连 gitignore 的untrack 文件/目录也一起删掉 （慎用，一般这个是用来删掉编译出来的 .o之类的文件用的）\ngit clean -xfd\n \n# 在用上述 git clean 前，墙裂建议加上 -n 参数来先看看会删掉哪些文件，防止重要文件被误删\ngit clean -nxfd\ngit clean -nf\ngit clean -nfd\n```\n\n如果文件是 tracked files\n则我们用 git checkout来还原\n```\n#还原指定文件\ngit checkout files\n\n#全部还原\ngit checkout .\n\n```\n","slug":"git怎样删除未监视的文件untracked-files","published":1,"updated":"2018-05-02T05:55:01.748Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhio9noj00166bfy3zejfkjf","content":"<p>使用 git 中  经常需要还原文件.<br><a id=\"more\"></a></p>\n<p>如果是文件是 untracked files.<br>则我们用 git clean 来还原<br><figure class=\"highlight excel\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 删除 untracked files</span><br><span class=\"line\">git <span class=\"built_in\">clean</span> -f</span><br><span class=\"line\"> </span><br><span class=\"line\"># 连 untracked 的目录也一起删掉</span><br><span class=\"line\">git <span class=\"built_in\">clean</span> -fd</span><br><span class=\"line\"> </span><br><span class=\"line\"># 连 gitignore 的untrack 文件/目录也一起删掉 （慎用，一般这个是用来删掉编译出来的 .o之类的文件用的）</span><br><span class=\"line\">git <span class=\"built_in\">clean</span> -xfd</span><br><span class=\"line\"> </span><br><span class=\"line\"># 在用上述 git <span class=\"built_in\">clean</span> 前，墙裂建议加上 -<span class=\"built_in\">n</span> 参数来先看看会删掉哪些文件，防止重要文件被误删</span><br><span class=\"line\">git <span class=\"built_in\">clean</span> -nxfd</span><br><span class=\"line\">git <span class=\"built_in\">clean</span> -nf</span><br><span class=\"line\">git <span class=\"built_in\">clean</span> -nfd</span><br></pre></td></tr></table></figure></p>\n<p>如果文件是 tracked files<br>则我们用 git checkout来还原<br><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">还原指定文件</span></span><br><span class=\"line\">git checkout files</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">全部还原</span></span><br><span class=\"line\">git checkout .</span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"<p>使用 git 中  经常需要还原文件.<br>","more":"</p>\n<p>如果是文件是 untracked files.<br>则我们用 git clean 来还原<br><figure class=\"highlight excel\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 删除 untracked files</span><br><span class=\"line\">git <span class=\"built_in\">clean</span> -f</span><br><span class=\"line\"> </span><br><span class=\"line\"># 连 untracked 的目录也一起删掉</span><br><span class=\"line\">git <span class=\"built_in\">clean</span> -fd</span><br><span class=\"line\"> </span><br><span class=\"line\"># 连 gitignore 的untrack 文件/目录也一起删掉 （慎用，一般这个是用来删掉编译出来的 .o之类的文件用的）</span><br><span class=\"line\">git <span class=\"built_in\">clean</span> -xfd</span><br><span class=\"line\"> </span><br><span class=\"line\"># 在用上述 git <span class=\"built_in\">clean</span> 前，墙裂建议加上 -<span class=\"built_in\">n</span> 参数来先看看会删掉哪些文件，防止重要文件被误删</span><br><span class=\"line\">git <span class=\"built_in\">clean</span> -nxfd</span><br><span class=\"line\">git <span class=\"built_in\">clean</span> -nf</span><br><span class=\"line\">git <span class=\"built_in\">clean</span> -nfd</span><br></pre></td></tr></table></figure></p>\n<p>如果文件是 tracked files<br>则我们用 git checkout来还原<br><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">还原指定文件</span></span><br><span class=\"line\">git checkout files</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\">全部还原</span></span><br><span class=\"line\">git checkout .</span><br></pre></td></tr></table></figure></p>"},{"title":"hexo 创建文章 demo","date":"2015-12-23T01:31:52.000Z","_content":"<blockquote class=\"blockquote-center\"><h2>千里之行,始于足下</h2></br>总有刁民想害朕</blockquote>\n\n关于hexo 发布文章的一些标签的用法\n=======\n### 这部分Docs分了8块内容，分别从写作、前置声明、标签插件、资源目录、数据文件、服务器、生成器、部署。也许翻译得不得当，但是我尽量把主要内容呈现出来并加上自己的理解。\n<!-- more -->\n1. 写作\n-----------\n写作之前当然得先创建一个.md文件，使用命令<font color=\"#f00\">`hexo new [layout] <title>`</font>，其中layout默认为post，前面提过。\n\n（1）Layout布局\n\nHexo提供了3种默认的布局，<font color=\"#f00\">`post`</font>、<font color=\"#f00\">`page`</font>和<font color=\"#f00\">`draft`</font>，路径分别为：<font color=\"#f00\">`source/_posts`</font>、<font color=\"#f00\">`source`</font>、<font color=\"#f00\">`source/_draft`</font>。如果你将在文章前置申明中，将layout设置为false，那么这篇文章将不会有任何的布局。\n\n（2）Filename文件名\n\nHexo会默认将文章的标题当做文件名，但是你可以编辑<font color=\"#f00\">`_config.yml`</font>配置文件中的<font color=\"#f00\">`new_post_name`</font>来改变默认的文件名。\n\n例如：使用<font color=\"#f00\">`hexo new hello`</font>命令创建一篇为hello文章，Hexo会默认在_posts目录下给你创建一个名为hello.md的文件。假如你将<font color=\"#f00\">`new_post_name`</font>改为了:<font color=\"#f00\">`year-:month-:day-:title.md`</font>，那么hexo就自动帮你创建名为2015-12-23-hello.md（当前日期为2015年12月23）\n* <font color=\"#f00\">`:title`</font> 文章标题\n* <font color=\"#f00\">`:year`</font> 创建年份\n* <font color=\"#f00\">`:month`</font> 月份，如4月为04\n* <font color=\"#f00\">`:day`</font> 日期\n* <font color=\"#f00\">`i_month`</font> 月份，单数字，比如4月就是4\n* <font color=\"#f00\">`i_day`</font> 同上\n\n（3）Drafts草稿\n\nHexo提供草稿功能，在<font color=\"#f00\">`_drafts`</font>目录下的文章不会发表到网站上，你可以通过命令<font color=\"#f00\">`hexo publish [layout] <title>`</font>发布你的草稿，改命令会将文章移到<font color=\"#f00\">`_posts`</font>目录下。但是也可以设置<font color=\"#f00\">`_config.yml`</font>配置文件的<font color=\"#f00\">`render_drafts`</font>字段，使草稿默认发布到站点中。\n\n（4）Scaffolds模版\n\n当你使用<font color=\"#f00\">`new`</font>命令创建一篇文章的时候，Hexo会根据scaffolds目录中的模版帮你生成文章。假如执行<font color=\"#f00\">`hexo new photo \"My Gallery\"`</font>，Hexo会尝试在scaffolds目录中去寻找photo.md的模版文件，然后基于它创建标题为My Gallery的文章。\n\n它的用处就是能够在模版中写入你某一类文章都要添加的共同内容，这样你基于模版创建文章的时候，就不用再重复写入那部分内容。\n\n2. 前置声明\n-----------\n顾名思义，就是写在文章前面的一块内容，为了对文章进行某些设置。它有两种书写方式：\n\n1. YAML方式，以三短线结束\n{% codeblock YAML lang:yaml %}\ntitle: Hello World\ndate: 2015/12/23 20:46:25\n---\n{% endcodeblock %}\n2. JSON方式，以三分号结束\n{% codeblock JSON lang:json %}\n\"title\": \"Hello World\",\n\"date\": \"2013/7/13 20:46:25\"\n;;;\n{% endcodeblock %}\n\n下面看看有哪些参数可以设定：\n\n* <font color=\"#f00\">`layout`</font> 布局，一般不用写，默认就行\n* <font color=\"#f00\">`title`</font> 标题，这个必须要有\n* <font color=\"#f00\">`date`</font> 时间\n* <font color=\"#f00\">`updated`</font> 修改时间\n* <font color=\"#f00\">`comments`</font> 是否开启评论，默认为true\n* <font color=\"#f00\">`tags`</font> 文章标签\n* <font color=\"#f00\">`categories`</font> 文章分类\n* <font color=\"#f00\">`permalink`</font> 文章永久链接，一般不用写，默认就行\n在写标签和分类的时候，可能会有多个的情况，多个标签可以无序排列的方式书写，而分类可能会有多级分类的情况。如何书写举例如下：\n\n{% codeblock YAML lang:yaml %}\ncategories: \n- Sports\n- Baseball\ntags:\n- Injury\n- Fight\n- Shocking\n{% endcodeblock %}\n\n3. 标签插件\n-----------\n这里说的标签插件不同于文章中的标签，它可以帮助你在文章中快速嵌入一些特殊的内容。\n\n（1）Block Quote-块引用\n\n插入带有作者信息的应用，体现在Html上就是在<font color=\"#f00\">`blockquote`</font>标签下加入了<font color=\"#f00\">`footer`</font>标签。但是会给文章带来不一样的显示效果，书写格式非常简单。\n\n{% img /images/blockquote.png %}\n\n看下面的例子就大概知道怎么书写了，第一种最简单的方式就等于markdown里的<font color=\"#f00\">` > `</font>语句。\n{% img /images/blockquote_demo.png %}\n显示效果为（主题为light-ch）：\n{% img /images/blockquote_demo1.png %}\n（2）Code Block代码块\n\n在文章中插入代码块可以使用下面方式书写\n{% img /images/codeblock.png %}\n同样举个例子，用法一目了然。\n{% img /images/codeblockdemo.png %}\n显示效果如下：\n{% img /images/codeblockdemo1.png %}\n（3）Pull Quote\n\n这个插件可以帮助您在文章中插入重要引述。\n{% img /images/pullquote.png %}\n（4）jsFiddle\n\n在文章中嵌入jsFiddle片段。\n{% img /images/jsfiddle.png %}\n\n（5）Gist\n\n嵌入Gist片段\n{% img /images/gist.png %}\n（6）iFrame\n\n插入网页框架\n{% img /images/iframe.png %}\n（7）Image\n\n插入图片，可以自定义大小\n{% img /images/image.png %}\n（8）Link\n\n插入带有target=\"_blank\"属性值的链接。\n{% img /images/link.png %}\n（9）Include Code\n\n从资源目录中插入代码片段。\n{% img /images/include.png %}\n（10）Youtube\n\n在文章中插入Youtube视频。天朝的孩子就不用试了\n{% img /images/youtube.png %}\n（11）Vimeo\n\n在文章中插入Vimeo视频。\n{% img /images/vimeo.png %}\n（12）Include Posts\n\n包含其他文章的链接。\n{% img /images/include_post.png %}\n（13）Include Assets\n\n包含文章资源。(具体怎么使用，还不太明白，后续再补充)\n{% img /images/include_assets.png %}\n（14）Raw\n\n一些内容不想被主题渲染，可以使用该插件呈现原始状态。\n{% img /images/raw.png %}","source":"_posts/hexo-创建文章-demo.md","raw":"---\ntitle: hexo 创建文章 demo\ndate: 2015-12-23 09:31:52\ntags:\n- hexo\n- node.js\ncategories: \n- 技术\n- 日志\n\n\n---\n<blockquote class=\"blockquote-center\"><h2>千里之行,始于足下</h2></br>总有刁民想害朕</blockquote>\n\n关于hexo 发布文章的一些标签的用法\n=======\n### 这部分Docs分了8块内容，分别从写作、前置声明、标签插件、资源目录、数据文件、服务器、生成器、部署。也许翻译得不得当，但是我尽量把主要内容呈现出来并加上自己的理解。\n<!-- more -->\n1. 写作\n-----------\n写作之前当然得先创建一个.md文件，使用命令<font color=\"#f00\">`hexo new [layout] <title>`</font>，其中layout默认为post，前面提过。\n\n（1）Layout布局\n\nHexo提供了3种默认的布局，<font color=\"#f00\">`post`</font>、<font color=\"#f00\">`page`</font>和<font color=\"#f00\">`draft`</font>，路径分别为：<font color=\"#f00\">`source/_posts`</font>、<font color=\"#f00\">`source`</font>、<font color=\"#f00\">`source/_draft`</font>。如果你将在文章前置申明中，将layout设置为false，那么这篇文章将不会有任何的布局。\n\n（2）Filename文件名\n\nHexo会默认将文章的标题当做文件名，但是你可以编辑<font color=\"#f00\">`_config.yml`</font>配置文件中的<font color=\"#f00\">`new_post_name`</font>来改变默认的文件名。\n\n例如：使用<font color=\"#f00\">`hexo new hello`</font>命令创建一篇为hello文章，Hexo会默认在_posts目录下给你创建一个名为hello.md的文件。假如你将<font color=\"#f00\">`new_post_name`</font>改为了:<font color=\"#f00\">`year-:month-:day-:title.md`</font>，那么hexo就自动帮你创建名为2015-12-23-hello.md（当前日期为2015年12月23）\n* <font color=\"#f00\">`:title`</font> 文章标题\n* <font color=\"#f00\">`:year`</font> 创建年份\n* <font color=\"#f00\">`:month`</font> 月份，如4月为04\n* <font color=\"#f00\">`:day`</font> 日期\n* <font color=\"#f00\">`i_month`</font> 月份，单数字，比如4月就是4\n* <font color=\"#f00\">`i_day`</font> 同上\n\n（3）Drafts草稿\n\nHexo提供草稿功能，在<font color=\"#f00\">`_drafts`</font>目录下的文章不会发表到网站上，你可以通过命令<font color=\"#f00\">`hexo publish [layout] <title>`</font>发布你的草稿，改命令会将文章移到<font color=\"#f00\">`_posts`</font>目录下。但是也可以设置<font color=\"#f00\">`_config.yml`</font>配置文件的<font color=\"#f00\">`render_drafts`</font>字段，使草稿默认发布到站点中。\n\n（4）Scaffolds模版\n\n当你使用<font color=\"#f00\">`new`</font>命令创建一篇文章的时候，Hexo会根据scaffolds目录中的模版帮你生成文章。假如执行<font color=\"#f00\">`hexo new photo \"My Gallery\"`</font>，Hexo会尝试在scaffolds目录中去寻找photo.md的模版文件，然后基于它创建标题为My Gallery的文章。\n\n它的用处就是能够在模版中写入你某一类文章都要添加的共同内容，这样你基于模版创建文章的时候，就不用再重复写入那部分内容。\n\n2. 前置声明\n-----------\n顾名思义，就是写在文章前面的一块内容，为了对文章进行某些设置。它有两种书写方式：\n\n1. YAML方式，以三短线结束\n{% codeblock YAML lang:yaml %}\ntitle: Hello World\ndate: 2015/12/23 20:46:25\n---\n{% endcodeblock %}\n2. JSON方式，以三分号结束\n{% codeblock JSON lang:json %}\n\"title\": \"Hello World\",\n\"date\": \"2013/7/13 20:46:25\"\n;;;\n{% endcodeblock %}\n\n下面看看有哪些参数可以设定：\n\n* <font color=\"#f00\">`layout`</font> 布局，一般不用写，默认就行\n* <font color=\"#f00\">`title`</font> 标题，这个必须要有\n* <font color=\"#f00\">`date`</font> 时间\n* <font color=\"#f00\">`updated`</font> 修改时间\n* <font color=\"#f00\">`comments`</font> 是否开启评论，默认为true\n* <font color=\"#f00\">`tags`</font> 文章标签\n* <font color=\"#f00\">`categories`</font> 文章分类\n* <font color=\"#f00\">`permalink`</font> 文章永久链接，一般不用写，默认就行\n在写标签和分类的时候，可能会有多个的情况，多个标签可以无序排列的方式书写，而分类可能会有多级分类的情况。如何书写举例如下：\n\n{% codeblock YAML lang:yaml %}\ncategories: \n- Sports\n- Baseball\ntags:\n- Injury\n- Fight\n- Shocking\n{% endcodeblock %}\n\n3. 标签插件\n-----------\n这里说的标签插件不同于文章中的标签，它可以帮助你在文章中快速嵌入一些特殊的内容。\n\n（1）Block Quote-块引用\n\n插入带有作者信息的应用，体现在Html上就是在<font color=\"#f00\">`blockquote`</font>标签下加入了<font color=\"#f00\">`footer`</font>标签。但是会给文章带来不一样的显示效果，书写格式非常简单。\n\n{% img /images/blockquote.png %}\n\n看下面的例子就大概知道怎么书写了，第一种最简单的方式就等于markdown里的<font color=\"#f00\">` > `</font>语句。\n{% img /images/blockquote_demo.png %}\n显示效果为（主题为light-ch）：\n{% img /images/blockquote_demo1.png %}\n（2）Code Block代码块\n\n在文章中插入代码块可以使用下面方式书写\n{% img /images/codeblock.png %}\n同样举个例子，用法一目了然。\n{% img /images/codeblockdemo.png %}\n显示效果如下：\n{% img /images/codeblockdemo1.png %}\n（3）Pull Quote\n\n这个插件可以帮助您在文章中插入重要引述。\n{% img /images/pullquote.png %}\n（4）jsFiddle\n\n在文章中嵌入jsFiddle片段。\n{% img /images/jsfiddle.png %}\n\n（5）Gist\n\n嵌入Gist片段\n{% img /images/gist.png %}\n（6）iFrame\n\n插入网页框架\n{% img /images/iframe.png %}\n（7）Image\n\n插入图片，可以自定义大小\n{% img /images/image.png %}\n（8）Link\n\n插入带有target=\"_blank\"属性值的链接。\n{% img /images/link.png %}\n（9）Include Code\n\n从资源目录中插入代码片段。\n{% img /images/include.png %}\n（10）Youtube\n\n在文章中插入Youtube视频。天朝的孩子就不用试了\n{% img /images/youtube.png %}\n（11）Vimeo\n\n在文章中插入Vimeo视频。\n{% img /images/vimeo.png %}\n（12）Include Posts\n\n包含其他文章的链接。\n{% img /images/include_post.png %}\n（13）Include Assets\n\n包含文章资源。(具体怎么使用，还不太明白，后续再补充)\n{% img /images/include_assets.png %}\n（14）Raw\n\n一些内容不想被主题渲染，可以使用该插件呈现原始状态。\n{% img /images/raw.png %}","slug":"hexo-创建文章-demo","published":1,"updated":"2018-05-02T05:55:01.748Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhio9nok00196bfycu7q1kdq","content":"<blockquote class=\"blockquote-center\"><h2>千里之行,始于足下</h2><br>总有刁民想害朕</blockquote>\n\n<h1 id=\"关于hexo-发布文章的一些标签的用法\"><a href=\"#关于hexo-发布文章的一些标签的用法\" class=\"headerlink\" title=\"关于hexo 发布文章的一些标签的用法\"></a>关于hexo 发布文章的一些标签的用法</h1><h3 id=\"这部分Docs分了8块内容，分别从写作、前置声明、标签插件、资源目录、数据文件、服务器、生成器、部署。也许翻译得不得当，但是我尽量把主要内容呈现出来并加上自己的理解。\"><a href=\"#这部分Docs分了8块内容，分别从写作、前置声明、标签插件、资源目录、数据文件、服务器、生成器、部署。也许翻译得不得当，但是我尽量把主要内容呈现出来并加上自己的理解。\" class=\"headerlink\" title=\"这部分Docs分了8块内容，分别从写作、前置声明、标签插件、资源目录、数据文件、服务器、生成器、部署。也许翻译得不得当，但是我尽量把主要内容呈现出来并加上自己的理解。\"></a>这部分Docs分了8块内容，分别从写作、前置声明、标签插件、资源目录、数据文件、服务器、生成器、部署。也许翻译得不得当，但是我尽量把主要内容呈现出来并加上自己的理解。</h3><a id=\"more\"></a>\n<ol>\n<li>写作</li>\n</ol>\n<hr>\n<p>写作之前当然得先创建一个.md文件，使用命令<font color=\"#f00\"><code>hexo new [layout] &lt;title&gt;</code></font>，其中layout默认为post，前面提过。</p>\n<p>（1）Layout布局</p>\n<p>Hexo提供了3种默认的布局，<font color=\"#f00\"><code>post</code></font>、<font color=\"#f00\"><code>page</code></font>和<font color=\"#f00\"><code>draft</code></font>，路径分别为：<font color=\"#f00\"><code>source/_posts</code></font>、<font color=\"#f00\"><code>source</code></font>、<font color=\"#f00\"><code>source/_draft</code></font>。如果你将在文章前置申明中，将layout设置为false，那么这篇文章将不会有任何的布局。</p>\n<p>（2）Filename文件名</p>\n<p>Hexo会默认将文章的标题当做文件名，但是你可以编辑<font color=\"#f00\"><code>_config.yml</code></font>配置文件中的<font color=\"#f00\"><code>new_post_name</code></font>来改变默认的文件名。</p>\n<p>例如：使用<font color=\"#f00\"><code>hexo new hello</code></font>命令创建一篇为hello文章，Hexo会默认在_posts目录下给你创建一个名为hello.md的文件。假如你将<font color=\"#f00\"><code>new_post_name</code></font>改为了:<font color=\"#f00\"><code>year-:month-:day-:title.md</code></font>，那么hexo就自动帮你创建名为2015-12-23-hello.md（当前日期为2015年12月23）</p>\n<ul>\n<li><font color=\"#f00\"><code>:title</code></font> 文章标题</li>\n<li><font color=\"#f00\"><code>:year</code></font> 创建年份</li>\n<li><font color=\"#f00\"><code>:month</code></font> 月份，如4月为04</li>\n<li><font color=\"#f00\"><code>:day</code></font> 日期</li>\n<li><font color=\"#f00\"><code>i_month</code></font> 月份，单数字，比如4月就是4</li>\n<li><font color=\"#f00\"><code>i_day</code></font> 同上</li>\n</ul>\n<p>（3）Drafts草稿</p>\n<p>Hexo提供草稿功能，在<font color=\"#f00\"><code>_drafts</code></font>目录下的文章不会发表到网站上，你可以通过命令<font color=\"#f00\"><code>hexo publish [layout] &lt;title&gt;</code></font>发布你的草稿，改命令会将文章移到<font color=\"#f00\"><code>_posts</code></font>目录下。但是也可以设置<font color=\"#f00\"><code>_config.yml</code></font>配置文件的<font color=\"#f00\"><code>render_drafts</code></font>字段，使草稿默认发布到站点中。</p>\n<p>（4）Scaffolds模版</p>\n<p>当你使用<font color=\"#f00\"><code>new</code></font>命令创建一篇文章的时候，Hexo会根据scaffolds目录中的模版帮你生成文章。假如执行<font color=\"#f00\"><code>hexo new photo &quot;My Gallery&quot;</code></font>，Hexo会尝试在scaffolds目录中去寻找photo.md的模版文件，然后基于它创建标题为My Gallery的文章。</p>\n<p>它的用处就是能够在模版中写入你某一类文章都要添加的共同内容，这样你基于模版创建文章的时候，就不用再重复写入那部分内容。</p>\n<ol start=\"2\">\n<li>前置声明</li>\n</ol>\n<hr>\n<p>顾名思义，就是写在文章前面的一块内容，为了对文章进行某些设置。它有两种书写方式：</p>\n<ol>\n<li>YAML方式，以三短线结束<figure class=\"highlight yaml\"><figcaption><span>YAML</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">Hello</span> <span class=\"string\">World</span></span><br><span class=\"line\"><span class=\"attr\">date:</span> <span class=\"number\">2015</span><span class=\"string\">/12/23</span> <span class=\"number\">20</span><span class=\"string\">:46:25</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure></li>\n<li>JSON方式，以三分号结束<figure class=\"highlight\"><figcaption><span>JSON</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\"title\": \"Hello World\",</span><br><span class=\"line\">\"date\": \"2013/7/13 20:46:25\"</span><br><span class=\"line\">;;;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>下面看看有哪些参数可以设定：</p>\n<ul>\n<li><font color=\"#f00\"><code>layout</code></font> 布局，一般不用写，默认就行</li>\n<li><font color=\"#f00\"><code>title</code></font> 标题，这个必须要有</li>\n<li><font color=\"#f00\"><code>date</code></font> 时间</li>\n<li><font color=\"#f00\"><code>updated</code></font> 修改时间</li>\n<li><font color=\"#f00\"><code>comments</code></font> 是否开启评论，默认为true</li>\n<li><font color=\"#f00\"><code>tags</code></font> 文章标签</li>\n<li><font color=\"#f00\"><code>categories</code></font> 文章分类</li>\n<li><font color=\"#f00\"><code>permalink</code></font> 文章永久链接，一般不用写，默认就行<br>在写标签和分类的时候，可能会有多个的情况，多个标签可以无序排列的方式书写，而分类可能会有多级分类的情况。如何书写举例如下：</li>\n</ul>\n<figure class=\"highlight yaml\"><figcaption><span>YAML</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">categories:</span> </span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">Sports</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">Baseball</span></span><br><span class=\"line\"><span class=\"attr\">tags:</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">Injury</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">Fight</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">Shocking</span></span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>标签插件</li>\n</ol>\n<hr>\n<p>这里说的标签插件不同于文章中的标签，它可以帮助你在文章中快速嵌入一些特殊的内容。</p>\n<p>（1）Block Quote-块引用</p>\n<p>插入带有作者信息的应用，体现在Html上就是在<font color=\"#f00\"><code>blockquote</code></font>标签下加入了<font color=\"#f00\"><code>footer</code></font>标签。但是会给文章带来不一样的显示效果，书写格式非常简单。</p>\n<img src=\"/images/blockquote.png\">\n<p>看下面的例子就大概知道怎么书写了，第一种最简单的方式就等于markdown里的<font color=\"#f00\"><code>&gt;</code></font>语句。<br><img src=\"/images/blockquote_demo.png\"><br>显示效果为（主题为light-ch）：<br><img src=\"/images/blockquote_demo1.png\"><br>（2）Code Block代码块</p>\n<p>在文章中插入代码块可以使用下面方式书写<br><img src=\"/images/codeblock.png\"><br>同样举个例子，用法一目了然。<br><img src=\"/images/codeblockdemo.png\"><br>显示效果如下：<br><img src=\"/images/codeblockdemo1.png\"><br>（3）Pull Quote</p>\n<p>这个插件可以帮助您在文章中插入重要引述。<br><img src=\"/images/pullquote.png\"><br>（4）jsFiddle</p>\n<p>在文章中嵌入jsFiddle片段。<br><img src=\"/images/jsfiddle.png\"></p>\n<p>（5）Gist</p>\n<p>嵌入Gist片段<br><img src=\"/images/gist.png\"><br>（6）iFrame</p>\n<p>插入网页框架<br><img src=\"/images/iframe.png\"><br>（7）Image</p>\n<p>插入图片，可以自定义大小<br><img src=\"/images/image.png\"><br>（8）Link</p>\n<p>插入带有target=”_blank”属性值的链接。<br><img src=\"/images/link.png\"><br>（9）Include Code</p>\n<p>从资源目录中插入代码片段。<br><img src=\"/images/include.png\"><br>（10）Youtube</p>\n<p>在文章中插入Youtube视频。天朝的孩子就不用试了<br><img src=\"/images/youtube.png\"><br>（11）Vimeo</p>\n<p>在文章中插入Vimeo视频。<br><img src=\"/images/vimeo.png\"><br>（12）Include Posts</p>\n<p>包含其他文章的链接。<br><img src=\"/images/include_post.png\"><br>（13）Include Assets</p>\n<p>包含文章资源。(具体怎么使用，还不太明白，后续再补充)<br><img src=\"/images/include_assets.png\"><br>（14）Raw</p>\n<p>一些内容不想被主题渲染，可以使用该插件呈现原始状态。<br><img src=\"/images/raw.png\"></p>\n","site":{"data":{}},"excerpt":"<blockquote class=\"blockquote-center\"><h2>千里之行,始于足下</h2><br>总有刁民想害朕</blockquote>\n\n<h1 id=\"关于hexo-发布文章的一些标签的用法\"><a href=\"#关于hexo-发布文章的一些标签的用法\" class=\"headerlink\" title=\"关于hexo 发布文章的一些标签的用法\"></a>关于hexo 发布文章的一些标签的用法</h1><h3 id=\"这部分Docs分了8块内容，分别从写作、前置声明、标签插件、资源目录、数据文件、服务器、生成器、部署。也许翻译得不得当，但是我尽量把主要内容呈现出来并加上自己的理解。\"><a href=\"#这部分Docs分了8块内容，分别从写作、前置声明、标签插件、资源目录、数据文件、服务器、生成器、部署。也许翻译得不得当，但是我尽量把主要内容呈现出来并加上自己的理解。\" class=\"headerlink\" title=\"这部分Docs分了8块内容，分别从写作、前置声明、标签插件、资源目录、数据文件、服务器、生成器、部署。也许翻译得不得当，但是我尽量把主要内容呈现出来并加上自己的理解。\"></a>这部分Docs分了8块内容，分别从写作、前置声明、标签插件、资源目录、数据文件、服务器、生成器、部署。也许翻译得不得当，但是我尽量把主要内容呈现出来并加上自己的理解。</h3>","more":"<ol>\n<li>写作</li>\n</ol>\n<hr>\n<p>写作之前当然得先创建一个.md文件，使用命令<font color=\"#f00\"><code>hexo new [layout] &lt;title&gt;</code></font>，其中layout默认为post，前面提过。</p>\n<p>（1）Layout布局</p>\n<p>Hexo提供了3种默认的布局，<font color=\"#f00\"><code>post</code></font>、<font color=\"#f00\"><code>page</code></font>和<font color=\"#f00\"><code>draft</code></font>，路径分别为：<font color=\"#f00\"><code>source/_posts</code></font>、<font color=\"#f00\"><code>source</code></font>、<font color=\"#f00\"><code>source/_draft</code></font>。如果你将在文章前置申明中，将layout设置为false，那么这篇文章将不会有任何的布局。</p>\n<p>（2）Filename文件名</p>\n<p>Hexo会默认将文章的标题当做文件名，但是你可以编辑<font color=\"#f00\"><code>_config.yml</code></font>配置文件中的<font color=\"#f00\"><code>new_post_name</code></font>来改变默认的文件名。</p>\n<p>例如：使用<font color=\"#f00\"><code>hexo new hello</code></font>命令创建一篇为hello文章，Hexo会默认在_posts目录下给你创建一个名为hello.md的文件。假如你将<font color=\"#f00\"><code>new_post_name</code></font>改为了:<font color=\"#f00\"><code>year-:month-:day-:title.md</code></font>，那么hexo就自动帮你创建名为2015-12-23-hello.md（当前日期为2015年12月23）</p>\n<ul>\n<li><font color=\"#f00\"><code>:title</code></font> 文章标题</li>\n<li><font color=\"#f00\"><code>:year</code></font> 创建年份</li>\n<li><font color=\"#f00\"><code>:month</code></font> 月份，如4月为04</li>\n<li><font color=\"#f00\"><code>:day</code></font> 日期</li>\n<li><font color=\"#f00\"><code>i_month</code></font> 月份，单数字，比如4月就是4</li>\n<li><font color=\"#f00\"><code>i_day</code></font> 同上</li>\n</ul>\n<p>（3）Drafts草稿</p>\n<p>Hexo提供草稿功能，在<font color=\"#f00\"><code>_drafts</code></font>目录下的文章不会发表到网站上，你可以通过命令<font color=\"#f00\"><code>hexo publish [layout] &lt;title&gt;</code></font>发布你的草稿，改命令会将文章移到<font color=\"#f00\"><code>_posts</code></font>目录下。但是也可以设置<font color=\"#f00\"><code>_config.yml</code></font>配置文件的<font color=\"#f00\"><code>render_drafts</code></font>字段，使草稿默认发布到站点中。</p>\n<p>（4）Scaffolds模版</p>\n<p>当你使用<font color=\"#f00\"><code>new</code></font>命令创建一篇文章的时候，Hexo会根据scaffolds目录中的模版帮你生成文章。假如执行<font color=\"#f00\"><code>hexo new photo &quot;My Gallery&quot;</code></font>，Hexo会尝试在scaffolds目录中去寻找photo.md的模版文件，然后基于它创建标题为My Gallery的文章。</p>\n<p>它的用处就是能够在模版中写入你某一类文章都要添加的共同内容，这样你基于模版创建文章的时候，就不用再重复写入那部分内容。</p>\n<ol start=\"2\">\n<li>前置声明</li>\n</ol>\n<hr>\n<p>顾名思义，就是写在文章前面的一块内容，为了对文章进行某些设置。它有两种书写方式：</p>\n<ol>\n<li>YAML方式，以三短线结束<figure class=\"highlight yaml\"><figcaption><span>YAML</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">Hello</span> <span class=\"string\">World</span></span><br><span class=\"line\"><span class=\"attr\">date:</span> <span class=\"number\">2015</span><span class=\"string\">/12/23</span> <span class=\"number\">20</span><span class=\"string\">:46:25</span></span><br><span class=\"line\"><span class=\"meta\">---</span></span><br></pre></td></tr></table></figure></li>\n<li>JSON方式，以三分号结束<figure class=\"highlight\"><figcaption><span>JSON</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">\"title\": \"Hello World\",</span><br><span class=\"line\">\"date\": \"2013/7/13 20:46:25\"</span><br><span class=\"line\">;;;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>下面看看有哪些参数可以设定：</p>\n<ul>\n<li><font color=\"#f00\"><code>layout</code></font> 布局，一般不用写，默认就行</li>\n<li><font color=\"#f00\"><code>title</code></font> 标题，这个必须要有</li>\n<li><font color=\"#f00\"><code>date</code></font> 时间</li>\n<li><font color=\"#f00\"><code>updated</code></font> 修改时间</li>\n<li><font color=\"#f00\"><code>comments</code></font> 是否开启评论，默认为true</li>\n<li><font color=\"#f00\"><code>tags</code></font> 文章标签</li>\n<li><font color=\"#f00\"><code>categories</code></font> 文章分类</li>\n<li><font color=\"#f00\"><code>permalink</code></font> 文章永久链接，一般不用写，默认就行<br>在写标签和分类的时候，可能会有多个的情况，多个标签可以无序排列的方式书写，而分类可能会有多级分类的情况。如何书写举例如下：</li>\n</ul>\n<figure class=\"highlight yaml\"><figcaption><span>YAML</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">categories:</span> </span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">Sports</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">Baseball</span></span><br><span class=\"line\"><span class=\"attr\">tags:</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">Injury</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">Fight</span></span><br><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"string\">Shocking</span></span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>标签插件</li>\n</ol>\n<hr>\n<p>这里说的标签插件不同于文章中的标签，它可以帮助你在文章中快速嵌入一些特殊的内容。</p>\n<p>（1）Block Quote-块引用</p>\n<p>插入带有作者信息的应用，体现在Html上就是在<font color=\"#f00\"><code>blockquote</code></font>标签下加入了<font color=\"#f00\"><code>footer</code></font>标签。但是会给文章带来不一样的显示效果，书写格式非常简单。</p>\n<img src=\"/images/blockquote.png\">\n<p>看下面的例子就大概知道怎么书写了，第一种最简单的方式就等于markdown里的<font color=\"#f00\"><code>&gt;</code></font>语句。<br><img src=\"/images/blockquote_demo.png\"><br>显示效果为（主题为light-ch）：<br><img src=\"/images/blockquote_demo1.png\"><br>（2）Code Block代码块</p>\n<p>在文章中插入代码块可以使用下面方式书写<br><img src=\"/images/codeblock.png\"><br>同样举个例子，用法一目了然。<br><img src=\"/images/codeblockdemo.png\"><br>显示效果如下：<br><img src=\"/images/codeblockdemo1.png\"><br>（3）Pull Quote</p>\n<p>这个插件可以帮助您在文章中插入重要引述。<br><img src=\"/images/pullquote.png\"><br>（4）jsFiddle</p>\n<p>在文章中嵌入jsFiddle片段。<br><img src=\"/images/jsfiddle.png\"></p>\n<p>（5）Gist</p>\n<p>嵌入Gist片段<br><img src=\"/images/gist.png\"><br>（6）iFrame</p>\n<p>插入网页框架<br><img src=\"/images/iframe.png\"><br>（7）Image</p>\n<p>插入图片，可以自定义大小<br><img src=\"/images/image.png\"><br>（8）Link</p>\n<p>插入带有target=”_blank”属性值的链接。<br><img src=\"/images/link.png\"><br>（9）Include Code</p>\n<p>从资源目录中插入代码片段。<br><img src=\"/images/include.png\"><br>（10）Youtube</p>\n<p>在文章中插入Youtube视频。天朝的孩子就不用试了<br><img src=\"/images/youtube.png\"><br>（11）Vimeo</p>\n<p>在文章中插入Vimeo视频。<br><img src=\"/images/vimeo.png\"><br>（12）Include Posts</p>\n<p>包含其他文章的链接。<br><img src=\"/images/include_post.png\"><br>（13）Include Assets</p>\n<p>包含文章资源。(具体怎么使用，还不太明白，后续再补充)<br><img src=\"/images/include_assets.png\"><br>（14）Raw</p>\n<p>一些内容不想被主题渲染，可以使用该插件呈现原始状态。<br><img src=\"/images/raw.png\"></p>"},{"title":"jQuery选择器和选取方法(二)","date":"2017-09-27T06:17:23.000Z","essential":true,"_content":"上一篇文章<a href=\"https://lovexinforever.github.io/2017/09/26/jQuery选择器和选取方法/\">`jQuery选择器和选取方法(一)`</a>讲解了 JQuery 选择器.今天将说下选择的选取方法.\n<!--more-->\n选取方法\n----------\n除了$()函数支持的选择器语法，jQuery还定义了一些选取方法。本章中我们已看到过的大部分jQuery方法都是在选中元素上执行某种操作。选取方法不一样:它们会修改选中元素集，对其进行提取、扩充或仅作为新选取操作的起点。\n\n本节描述这些选取方法。你会注意到这些选取方法中的多数提供的功能与选择器语法的功能是一样的。\n\n提取选中元素最简单的方式是按位置提取。`first()`返回的jQuery对象仅包含选中元素中的第一个，`last()`返回的jQuery对象则只 包含最后一个元素。更通用的是，`eq()`方法返回物Query对象只包含指定序号的单个选中元素。(在jQuery 1.4中，负序号也是允许的，会从选区的末尾开始计数。)注意这些方法返回的jQuery对象只含有一个元素。这与常见的数组序号是不一样的，数组序号返 回的单一元素没有经过jQuery包装:\n```\nvar paras=$(\"p\");\nparas.first()           //仅选取第一个<p>元素\nparas.last()            //仅选取最后一个<P>\nparas.eq(1)             //选取第二个<P>\nparas.eq(-2)           //选取倒数第二个<P>\nparas[1]                //第二个<P>元素自身\n```\n通过位置提取选区更通用的方法是slice()o jQuery的slice()方法与Array.slice()方法类似:前者接受开始和结束序号(负序号会从结尾处计算)，返回的jQuery对象包含 从开始到结束序号(但不包含结束序号)处的元素集。如果省略结束序号，返回的对象会包含从开始序号起的所有元素:\n```\n$(\"p\").slice(2,5)       //选取第3个、第4个和第5个<P>元素\n$(\"div\").slice(-3)      //选取最后3个<div>元素\n```\n`filter()`是通用的选区过滤方法，有3种调用方式:\n- 传递选择器字符串给filter()，它会返回一}jQuery对象，仅包含也匹配该选择器的选中元素。\n- 传递另一个jQuery对象给`filter()`，它会返回一个新的jQuery对象，该对象包含这两们Query对象的交集。也可以传递元素数组甚至单一文档元素给`filter()`。\n- 传递判断函数给`filter()`，会为每一个匹配元素调用该函数，`filter()`则返回一个jQuery对象，仅包含判断函数为true(或任意真值)的元素。在调用判断函数时，this值为当前元素，参数是元素序号。\n\n```\n$(\"div\").filter(\".note\")        //与$(\"div.note\")一样\n$(\"div\").filter($(\".note\"))     //与$(\"div.note\")一样\n$(\"div\").filter(function(idx){return idx%2 == 0})         //与$(\"div:even\")一样\n```\n`not()`方法与`filter()`一样，除了含义与`filter()`相反。如果传递选择器字符串给`not()`它会返回一个新的jQuery对象，该 对象只包含不匹配该选择器的元素。如果传递jQuery对象、元素数组或单一元素给`not()`，它会返回除了显式排除的元素之外的所有选中元素。如果传递 判断函数给`not()`，该判断函数的调用就与在`filter()`中一样，只是返回的jQuery对象仅包含那些使得判断函数返回false或其他假值的元 素:\n```\n$(\"div\").not(\"#header, #footer\");        //除了两个特殊元素之外的所有元素\n```\n在jQuery 1.4中，提取选区的另一种方式是`has()`方法。如果传入选择器，`has()`会返回一个新的jQuery对象，仅包含有子孙元素匹配该选择器的选中元素。如果传入文档元素给has()，它会将选中元素集调整为那些是指定元素祖先节点的选中元素:\n```\n$(\"p\").has(\"a[href]\")         //包含链接的段落\n```\n\nadd()方法会扩充选区，而不是对其进行过滤或提取。可以将传给$()函数的任何参数(除了函数)照样传给add()方法。add()方法会返回 原来的选中元素，加上传给$()函数的那些参数所选中(或创建)的那些元素。add()会移除重复元素，并对该组合选区进行排序，以便里面的元素按照文档 中的顺序排列:\n```\n//选取所有<div>和所有<P>元素的等价方式\n$(\"div, p\")             //使用选择器组\n$(\"div\").add(p)         //给add()传入选择器\n$(\"div\").add($(\"p\"))    //给add()传入jQuery对象\nvar paras = document.getElementsByTagName(\"p\");       //类数组对象\n$(\"div\").add(paras);        //给add()传入元素数组 \n```\n\n将选中元素集用做上下文\n----------\n上面描述的filter(). add()、和not()方法会在各自的选中元素集上执行交集、并集和差集运算。jQuery还定义一些其他选取方法可将当前选中元素集作为上下文来使 用。对选中的每一个元素，这些方法会使用该选中元素作为上下文或起始点来得到新的选中元素集，然后返回一个新的jQuery对象，包含所有新的选中元素的 并集。与add()方法类似，会移除重复元素并进行排序，以便元素会按照在文档中出现的顺序排列好。\n\n该类别选取方法中最通用的是find()。它会在每一个当前选中元素的子孙元素中寻找与指定选择器字符串匹配的元素，然后它返回一个新的 jQuery对象来代表所匹配的子孙元素集。注意这些新选中的元素不会并入已存在的选中元素集中。同时注意find()和filter()不 同，filter()不会选中新元素，只是简单地将当前选中的元素集进行缩减:\n```\n$(\"div\").find(\"p\")            //在中查找元素，与$(\"div p\")相同\n```\n该类别中的其他方法返回新的jQuery对象，代表当前选中元素集中每一个元素的子元素、兄弟元素或父元素。大部分都接受可选的选择器字符串作为参数。不传入选择器时，它们会返回所有子元素、兄弟元素或父元素。传入选择器时，它们会过滤元素集，仅返回匹配的。\n\nchildren()方法返回每一个选中元素的直接子元素，可以用可选的选择器参数进行过滤:\n```\n//寻找id为\"header\"和\"footer\"元素的子节点元素中的所有<span>元素\n//与$(\"#header>span, #footer>span\")相同\n$(\"#header, #footer\").children(\"span\")\n```\ncontents()方法与children()方法类似，不同的是它会返回每一个元素的所有子节点，包括文本节点。如果选中元素集中 有`<iframe>`元素，contents()还会返回该`<iframe>`内容的文档对象。注意contents()不接受可选 的选择器字符串参数—因为它返回的文档节点不完全是元素，而选择器字符串仅用来描述元素节点。\nnext()和prev()方法返回每一个选中元素的下一个和上一个兄弟元素(如果有的话)。如果传入了选择器，会只选中匹配该选择器的兄弟元素:\n```\n$(\"h1\").next(\"p\")      //与$(\"h1+p\")相同\n$(\"h1\").prev()         //<h1>元素前面的兄弟元素\n```\nnextAll()和prevAll()返回每一个选中元素前面或后面的所有兄弟元素(如果有的话)。siblings()方法则返回每一个选中元素的所有兄弟元素(选中元素本身不是自己的兄弟元素)。如果给这些方法传人选择器，则只会返回匹配的兄弟元素:\n```\n$(\"#footer\").nextAll(\"p\")       //紧跟#footer元素的所有<P>兄弟元素\n$(\"#footer\").prevAll()          //#footer元素前面的所有兄弟元素\n```\n恢复到之前的选中元素集\n----------\n为了实现方法的链式调用，很多jQuery对象的方法最后都会返回调用对象。然而本节讲述的方法都返回新的jQuery对象。可以链式调用下去，但必须清晰地意识到，在链式调用的后面所操作的元素集，可能已经不是该链式调用开始时的元素集了。\n\n实际情况还要复杂些。当这里所描述的选取方法在创建或返回一个新的ejQuery对象时，它们会给该对象添加一个到它派生自的旧jQuery对象的 内部引用。这会创建一个jQuery对象的链式表或栈。end()方法用来弹出栈，返回保存的jQuery对象。在链式调用中调用end()会将匹配元素 集还原到之前的状态。考虑以下代码:\n```\n//寻找所有<div>元素，然后在其中寻找<P>元素\n//高亮显示<P>元素，然后给<div>元素添加一个边框\n//首先，不使用链式调用\nvar divs = $(\"div\");\nvar paras = div.find(\"p\");\nparas.addClass(\"highlight\");\ndivs.css(\"border\", \"solid black 1px\");\n \n//下面展现如何使用链式调用来实现\n$(\"div\").find(\"p\").addClass(\"highlight\").end().css(\"border\", \"solid black 1px\");\n//还可以将操作调换顺序来避免调用end()\n$(\"div\").css(\"border\", \"solid block 1px\").find(\"p\").addClass(\"highlight\");\n```\n如果想手动定义选中元素集，同时保持与end()方法的兼容，可以将新的元素集作为数组或类数组对象传递给push5tack()方法。指定的元素会成为新的选中元素，之前选中的元素集则会压入栈中，之后可以用end()方法还原它们:\n```\nvar sel = $(\"div\");             //选取所有<div>元素\nsel.pushStack(document.getElementsByTagName(\"p\"));      //修改为所有<P>元素\nsel.end();                      //还原为<div>元素\n```\n\n\n","source":"_posts/jQuery选择器和选取方法-二.md","raw":"---\ntitle: jQuery选择器和选取方法(二)\ndate: 2017-09-27 14:17:23\ntags:\n- HTML5\n- js\n- JQuery\n- 选择器\ncategories:\n- 技术\n- HTML5\n- JS\nessential: true\n---\n上一篇文章<a href=\"https://lovexinforever.github.io/2017/09/26/jQuery选择器和选取方法/\">`jQuery选择器和选取方法(一)`</a>讲解了 JQuery 选择器.今天将说下选择的选取方法.\n<!--more-->\n选取方法\n----------\n除了$()函数支持的选择器语法，jQuery还定义了一些选取方法。本章中我们已看到过的大部分jQuery方法都是在选中元素上执行某种操作。选取方法不一样:它们会修改选中元素集，对其进行提取、扩充或仅作为新选取操作的起点。\n\n本节描述这些选取方法。你会注意到这些选取方法中的多数提供的功能与选择器语法的功能是一样的。\n\n提取选中元素最简单的方式是按位置提取。`first()`返回的jQuery对象仅包含选中元素中的第一个，`last()`返回的jQuery对象则只 包含最后一个元素。更通用的是，`eq()`方法返回物Query对象只包含指定序号的单个选中元素。(在jQuery 1.4中，负序号也是允许的，会从选区的末尾开始计数。)注意这些方法返回的jQuery对象只含有一个元素。这与常见的数组序号是不一样的，数组序号返 回的单一元素没有经过jQuery包装:\n```\nvar paras=$(\"p\");\nparas.first()           //仅选取第一个<p>元素\nparas.last()            //仅选取最后一个<P>\nparas.eq(1)             //选取第二个<P>\nparas.eq(-2)           //选取倒数第二个<P>\nparas[1]                //第二个<P>元素自身\n```\n通过位置提取选区更通用的方法是slice()o jQuery的slice()方法与Array.slice()方法类似:前者接受开始和结束序号(负序号会从结尾处计算)，返回的jQuery对象包含 从开始到结束序号(但不包含结束序号)处的元素集。如果省略结束序号，返回的对象会包含从开始序号起的所有元素:\n```\n$(\"p\").slice(2,5)       //选取第3个、第4个和第5个<P>元素\n$(\"div\").slice(-3)      //选取最后3个<div>元素\n```\n`filter()`是通用的选区过滤方法，有3种调用方式:\n- 传递选择器字符串给filter()，它会返回一}jQuery对象，仅包含也匹配该选择器的选中元素。\n- 传递另一个jQuery对象给`filter()`，它会返回一个新的jQuery对象，该对象包含这两们Query对象的交集。也可以传递元素数组甚至单一文档元素给`filter()`。\n- 传递判断函数给`filter()`，会为每一个匹配元素调用该函数，`filter()`则返回一个jQuery对象，仅包含判断函数为true(或任意真值)的元素。在调用判断函数时，this值为当前元素，参数是元素序号。\n\n```\n$(\"div\").filter(\".note\")        //与$(\"div.note\")一样\n$(\"div\").filter($(\".note\"))     //与$(\"div.note\")一样\n$(\"div\").filter(function(idx){return idx%2 == 0})         //与$(\"div:even\")一样\n```\n`not()`方法与`filter()`一样，除了含义与`filter()`相反。如果传递选择器字符串给`not()`它会返回一个新的jQuery对象，该 对象只包含不匹配该选择器的元素。如果传递jQuery对象、元素数组或单一元素给`not()`，它会返回除了显式排除的元素之外的所有选中元素。如果传递 判断函数给`not()`，该判断函数的调用就与在`filter()`中一样，只是返回的jQuery对象仅包含那些使得判断函数返回false或其他假值的元 素:\n```\n$(\"div\").not(\"#header, #footer\");        //除了两个特殊元素之外的所有元素\n```\n在jQuery 1.4中，提取选区的另一种方式是`has()`方法。如果传入选择器，`has()`会返回一个新的jQuery对象，仅包含有子孙元素匹配该选择器的选中元素。如果传入文档元素给has()，它会将选中元素集调整为那些是指定元素祖先节点的选中元素:\n```\n$(\"p\").has(\"a[href]\")         //包含链接的段落\n```\n\nadd()方法会扩充选区，而不是对其进行过滤或提取。可以将传给$()函数的任何参数(除了函数)照样传给add()方法。add()方法会返回 原来的选中元素，加上传给$()函数的那些参数所选中(或创建)的那些元素。add()会移除重复元素，并对该组合选区进行排序，以便里面的元素按照文档 中的顺序排列:\n```\n//选取所有<div>和所有<P>元素的等价方式\n$(\"div, p\")             //使用选择器组\n$(\"div\").add(p)         //给add()传入选择器\n$(\"div\").add($(\"p\"))    //给add()传入jQuery对象\nvar paras = document.getElementsByTagName(\"p\");       //类数组对象\n$(\"div\").add(paras);        //给add()传入元素数组 \n```\n\n将选中元素集用做上下文\n----------\n上面描述的filter(). add()、和not()方法会在各自的选中元素集上执行交集、并集和差集运算。jQuery还定义一些其他选取方法可将当前选中元素集作为上下文来使 用。对选中的每一个元素，这些方法会使用该选中元素作为上下文或起始点来得到新的选中元素集，然后返回一个新的jQuery对象，包含所有新的选中元素的 并集。与add()方法类似，会移除重复元素并进行排序，以便元素会按照在文档中出现的顺序排列好。\n\n该类别选取方法中最通用的是find()。它会在每一个当前选中元素的子孙元素中寻找与指定选择器字符串匹配的元素，然后它返回一个新的 jQuery对象来代表所匹配的子孙元素集。注意这些新选中的元素不会并入已存在的选中元素集中。同时注意find()和filter()不 同，filter()不会选中新元素，只是简单地将当前选中的元素集进行缩减:\n```\n$(\"div\").find(\"p\")            //在中查找元素，与$(\"div p\")相同\n```\n该类别中的其他方法返回新的jQuery对象，代表当前选中元素集中每一个元素的子元素、兄弟元素或父元素。大部分都接受可选的选择器字符串作为参数。不传入选择器时，它们会返回所有子元素、兄弟元素或父元素。传入选择器时，它们会过滤元素集，仅返回匹配的。\n\nchildren()方法返回每一个选中元素的直接子元素，可以用可选的选择器参数进行过滤:\n```\n//寻找id为\"header\"和\"footer\"元素的子节点元素中的所有<span>元素\n//与$(\"#header>span, #footer>span\")相同\n$(\"#header, #footer\").children(\"span\")\n```\ncontents()方法与children()方法类似，不同的是它会返回每一个元素的所有子节点，包括文本节点。如果选中元素集中 有`<iframe>`元素，contents()还会返回该`<iframe>`内容的文档对象。注意contents()不接受可选 的选择器字符串参数—因为它返回的文档节点不完全是元素，而选择器字符串仅用来描述元素节点。\nnext()和prev()方法返回每一个选中元素的下一个和上一个兄弟元素(如果有的话)。如果传入了选择器，会只选中匹配该选择器的兄弟元素:\n```\n$(\"h1\").next(\"p\")      //与$(\"h1+p\")相同\n$(\"h1\").prev()         //<h1>元素前面的兄弟元素\n```\nnextAll()和prevAll()返回每一个选中元素前面或后面的所有兄弟元素(如果有的话)。siblings()方法则返回每一个选中元素的所有兄弟元素(选中元素本身不是自己的兄弟元素)。如果给这些方法传人选择器，则只会返回匹配的兄弟元素:\n```\n$(\"#footer\").nextAll(\"p\")       //紧跟#footer元素的所有<P>兄弟元素\n$(\"#footer\").prevAll()          //#footer元素前面的所有兄弟元素\n```\n恢复到之前的选中元素集\n----------\n为了实现方法的链式调用，很多jQuery对象的方法最后都会返回调用对象。然而本节讲述的方法都返回新的jQuery对象。可以链式调用下去，但必须清晰地意识到，在链式调用的后面所操作的元素集，可能已经不是该链式调用开始时的元素集了。\n\n实际情况还要复杂些。当这里所描述的选取方法在创建或返回一个新的ejQuery对象时，它们会给该对象添加一个到它派生自的旧jQuery对象的 内部引用。这会创建一个jQuery对象的链式表或栈。end()方法用来弹出栈，返回保存的jQuery对象。在链式调用中调用end()会将匹配元素 集还原到之前的状态。考虑以下代码:\n```\n//寻找所有<div>元素，然后在其中寻找<P>元素\n//高亮显示<P>元素，然后给<div>元素添加一个边框\n//首先，不使用链式调用\nvar divs = $(\"div\");\nvar paras = div.find(\"p\");\nparas.addClass(\"highlight\");\ndivs.css(\"border\", \"solid black 1px\");\n \n//下面展现如何使用链式调用来实现\n$(\"div\").find(\"p\").addClass(\"highlight\").end().css(\"border\", \"solid black 1px\");\n//还可以将操作调换顺序来避免调用end()\n$(\"div\").css(\"border\", \"solid block 1px\").find(\"p\").addClass(\"highlight\");\n```\n如果想手动定义选中元素集，同时保持与end()方法的兼容，可以将新的元素集作为数组或类数组对象传递给push5tack()方法。指定的元素会成为新的选中元素，之前选中的元素集则会压入栈中，之后可以用end()方法还原它们:\n```\nvar sel = $(\"div\");             //选取所有<div>元素\nsel.pushStack(document.getElementsByTagName(\"p\"));      //修改为所有<P>元素\nsel.end();                      //还原为<div>元素\n```\n\n\n","slug":"jQuery选择器和选取方法-二","published":1,"updated":"2018-05-02T05:55:01.749Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhio9nol001c6bfyqedo2cxm","content":"<p>上一篇文章<a href=\"https://lovexinforever.github.io/2017/09/26/jQuery选择器和选取方法/\"><code>jQuery选择器和选取方法(一)</code></a>讲解了 JQuery 选择器.今天将说下选择的选取方法.<br><a id=\"more\"></a></p>\n<h2 id=\"选取方法\"><a href=\"#选取方法\" class=\"headerlink\" title=\"选取方法\"></a>选取方法</h2><p>除了$()函数支持的选择器语法，jQuery还定义了一些选取方法。本章中我们已看到过的大部分jQuery方法都是在选中元素上执行某种操作。选取方法不一样:它们会修改选中元素集，对其进行提取、扩充或仅作为新选取操作的起点。</p>\n<p>本节描述这些选取方法。你会注意到这些选取方法中的多数提供的功能与选择器语法的功能是一样的。</p>\n<p>提取选中元素最简单的方式是按位置提取。<code>first()</code>返回的jQuery对象仅包含选中元素中的第一个，<code>last()</code>返回的jQuery对象则只 包含最后一个元素。更通用的是，<code>eq()</code>方法返回物Query对象只包含指定序号的单个选中元素。(在jQuery 1.4中，负序号也是允许的，会从选区的末尾开始计数。)注意这些方法返回的jQuery对象只含有一个元素。这与常见的数组序号是不一样的，数组序号返 回的单一元素没有经过jQuery包装:<br><figure class=\"highlight perl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var paras=$(<span class=\"string\">\"p\"</span>);</span><br><span class=\"line\">paras.first()           //仅选取第一个&lt;p&gt;元素</span><br><span class=\"line\">paras.last()            //仅选取最后一个&lt;P&gt;</span><br><span class=\"line\">paras.e<span class=\"string\">q(1)</span>             //选取第二个&lt;P&gt;</span><br><span class=\"line\">paras.e<span class=\"string\">q(-2)</span>           //选取倒数第二个&lt;P&gt;</span><br><span class=\"line\">paras[<span class=\"number\">1</span>]                //第二个&lt;P&gt;元素自身</span><br></pre></td></tr></table></figure></p>\n<p>通过位置提取选区更通用的方法是slice()o jQuery的slice()方法与Array.slice()方法类似:前者接受开始和结束序号(负序号会从结尾处计算)，返回的jQuery对象包含 从开始到结束序号(但不包含结束序号)处的元素集。如果省略结束序号，返回的对象会包含从开始序号起的所有元素:<br><figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"string\">\"p\"</span>).slice(<span class=\"number\">2</span>,<span class=\"number\">5</span>)       <span class=\"comment\">//选取第3个、第4个和第5个&lt;P&gt;元素</span></span><br><span class=\"line\">$(<span class=\"string\">\"div\"</span>).slice(<span class=\"number\">-3</span>)      <span class=\"comment\">//选取最后3个&lt;div&gt;元素</span></span><br></pre></td></tr></table></figure></p>\n<p><code>filter()</code>是通用的选区过滤方法，有3种调用方式:</p>\n<ul>\n<li>传递选择器字符串给filter()，它会返回一}jQuery对象，仅包含也匹配该选择器的选中元素。</li>\n<li>传递另一个jQuery对象给<code>filter()</code>，它会返回一个新的jQuery对象，该对象包含这两们Query对象的交集。也可以传递元素数组甚至单一文档元素给<code>filter()</code>。</li>\n<li>传递判断函数给<code>filter()</code>，会为每一个匹配元素调用该函数，<code>filter()</code>则返回一个jQuery对象，仅包含判断函数为true(或任意真值)的元素。在调用判断函数时，this值为当前元素，参数是元素序号。</li>\n</ul>\n<figure class=\"highlight mel\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"string\">\"div\"</span>).<span class=\"keyword\">filter</span>(<span class=\"string\">\".note\"</span>)        <span class=\"comment\">//与$(\"div.note\")一样</span></span><br><span class=\"line\">$(<span class=\"string\">\"div\"</span>).<span class=\"keyword\">filter</span>($(<span class=\"string\">\".note\"</span>))     <span class=\"comment\">//与$(\"div.note\")一样</span></span><br><span class=\"line\">$(<span class=\"string\">\"div\"</span>).<span class=\"keyword\">filter</span>(function(idx)&#123;<span class=\"keyword\">return</span> idx%2 == <span class=\"number\">0</span>&#125;)         <span class=\"comment\">//与$(\"div:even\")一样</span></span><br></pre></td></tr></table></figure>\n<p><code>not()</code>方法与<code>filter()</code>一样，除了含义与<code>filter()</code>相反。如果传递选择器字符串给<code>not()</code>它会返回一个新的jQuery对象，该 对象只包含不匹配该选择器的元素。如果传递jQuery对象、元素数组或单一元素给<code>not()</code>，它会返回除了显式排除的元素之外的所有选中元素。如果传递 判断函数给<code>not()</code>，该判断函数的调用就与在<code>filter()</code>中一样，只是返回的jQuery对象仅包含那些使得判断函数返回false或其他假值的元 素:<br><figure class=\"highlight elixir\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$(</span><span class=\"string\">\"div\"</span>).<span class=\"keyword\">not</span>(<span class=\"string\">\"#header, #footer\"</span>);        <span class=\"regexp\">//</span>除了两个特殊元素之外的所有元素</span><br></pre></td></tr></table></figure></p>\n<p>在jQuery 1.4中，提取选区的另一种方式是<code>has()</code>方法。如果传入选择器，<code>has()</code>会返回一个新的jQuery对象，仅包含有子孙元素匹配该选择器的选中元素。如果传入文档元素给has()，它会将选中元素集调整为那些是指定元素祖先节点的选中元素:<br><figure class=\"highlight gams\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">$</span>(<span class=\"string\">\"p\"</span>).has(<span class=\"string\">\"a[href]\"</span>)         <span class=\"comment\">//包含链接的段落</span></span><br></pre></td></tr></table></figure></p>\n<p>add()方法会扩充选区，而不是对其进行过滤或提取。可以将传给$()函数的任何参数(除了函数)照样传给add()方法。add()方法会返回 原来的选中元素，加上传给$()函数的那些参数所选中(或创建)的那些元素。add()会移除重复元素，并对该组合选区进行排序，以便里面的元素按照文档 中的顺序排列:<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//选取所有&lt;div&gt;和所有&lt;P&gt;元素的等价方式</span></span><br><span class=\"line\">$(<span class=\"string\">\"div, p\"</span>)             <span class=\"comment\">//使用选择器组</span></span><br><span class=\"line\">$(<span class=\"string\">\"div\"</span>).add(p)         <span class=\"comment\">//给add()传入选择器</span></span><br><span class=\"line\">$(<span class=\"string\">\"div\"</span>).add($(<span class=\"string\">\"p\"</span>))    <span class=\"comment\">//给add()传入jQuery对象</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> paras = <span class=\"built_in\">document</span>.getElementsByTagName(<span class=\"string\">\"p\"</span>);       <span class=\"comment\">//类数组对象</span></span><br><span class=\"line\">$(<span class=\"string\">\"div\"</span>).add(paras);        <span class=\"comment\">//给add()传入元素数组</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"将选中元素集用做上下文\"><a href=\"#将选中元素集用做上下文\" class=\"headerlink\" title=\"将选中元素集用做上下文\"></a>将选中元素集用做上下文</h2><p>上面描述的filter(). add()、和not()方法会在各自的选中元素集上执行交集、并集和差集运算。jQuery还定义一些其他选取方法可将当前选中元素集作为上下文来使 用。对选中的每一个元素，这些方法会使用该选中元素作为上下文或起始点来得到新的选中元素集，然后返回一个新的jQuery对象，包含所有新的选中元素的 并集。与add()方法类似，会移除重复元素并进行排序，以便元素会按照在文档中出现的顺序排列好。</p>\n<p>该类别选取方法中最通用的是find()。它会在每一个当前选中元素的子孙元素中寻找与指定选择器字符串匹配的元素，然后它返回一个新的 jQuery对象来代表所匹配的子孙元素集。注意这些新选中的元素不会并入已存在的选中元素集中。同时注意find()和filter()不 同，filter()不会选中新元素，只是简单地将当前选中的元素集进行缩减:<br><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\">(<span class=\"string\">\"div\"</span>).find(<span class=\"string\">\"p\"</span>)            //在中查找元素，与$(<span class=\"string\">\"div p\"</span>)相同</span></span><br></pre></td></tr></table></figure></p>\n<p>该类别中的其他方法返回新的jQuery对象，代表当前选中元素集中每一个元素的子元素、兄弟元素或父元素。大部分都接受可选的选择器字符串作为参数。不传入选择器时，它们会返回所有子元素、兄弟元素或父元素。传入选择器时，它们会过滤元素集，仅返回匹配的。</p>\n<p>children()方法返回每一个选中元素的直接子元素，可以用可选的选择器参数进行过滤:<br><figure class=\"highlight livescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"regexp\">//寻找id为\"header\"和\"footer\"元素的子节点元素中的所有&lt;span&gt;元素</span></span><br><span class=\"line\"><span class=\"regexp\">//</span>与$(<span class=\"string\">\"<span class=\"subst\">#header</span>&gt;span, <span class=\"subst\">#footer</span>&gt;span\"</span>)相同</span><br><span class=\"line\">$(<span class=\"string\">\"<span class=\"subst\">#header</span>, <span class=\"subst\">#footer</span>\"</span>).children(<span class=\"string\">\"span\"</span>)</span><br></pre></td></tr></table></figure></p>\n<p>contents()方法与children()方法类似，不同的是它会返回每一个元素的所有子节点，包括文本节点。如果选中元素集中 有<code>&lt;iframe&gt;</code>元素，contents()还会返回该<code>&lt;iframe&gt;</code>内容的文档对象。注意contents()不接受可选 的选择器字符串参数—因为它返回的文档节点不完全是元素，而选择器字符串仅用来描述元素节点。<br>next()和prev()方法返回每一个选中元素的下一个和上一个兄弟元素(如果有的话)。如果传入了选择器，会只选中匹配该选择器的兄弟元素:<br><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\">(<span class=\"string\">\"h1\"</span>).next(<span class=\"string\">\"p\"</span>)      //与$(<span class=\"string\">\"h1+p\"</span>)相同</span></span><br><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\">(<span class=\"string\">\"h1\"</span>).prev()         //&lt;h1&gt;元素前面的兄弟元素</span></span><br></pre></td></tr></table></figure></p>\n<p>nextAll()和prevAll()返回每一个选中元素前面或后面的所有兄弟元素(如果有的话)。siblings()方法则返回每一个选中元素的所有兄弟元素(选中元素本身不是自己的兄弟元素)。如果给这些方法传人选择器，则只会返回匹配的兄弟元素:<br><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\">(<span class=\"string\">\"#footer\"</span>).nextAll(<span class=\"string\">\"p\"</span>)       //紧跟<span class=\"comment\">#footer元素的所有&lt;P&gt;兄弟元素</span></span></span><br><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\">(<span class=\"string\">\"#footer\"</span>).prevAll()          //<span class=\"comment\">#footer元素前面的所有兄弟元素</span></span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"恢复到之前的选中元素集\"><a href=\"#恢复到之前的选中元素集\" class=\"headerlink\" title=\"恢复到之前的选中元素集\"></a>恢复到之前的选中元素集</h2><p>为了实现方法的链式调用，很多jQuery对象的方法最后都会返回调用对象。然而本节讲述的方法都返回新的jQuery对象。可以链式调用下去，但必须清晰地意识到，在链式调用的后面所操作的元素集，可能已经不是该链式调用开始时的元素集了。</p>\n<p>实际情况还要复杂些。当这里所描述的选取方法在创建或返回一个新的ejQuery对象时，它们会给该对象添加一个到它派生自的旧jQuery对象的 内部引用。这会创建一个jQuery对象的链式表或栈。end()方法用来弹出栈，返回保存的jQuery对象。在链式调用中调用end()会将匹配元素 集还原到之前的状态。考虑以下代码:<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//寻找所有&lt;div&gt;元素，然后在其中寻找&lt;P&gt;元素</span></span><br><span class=\"line\"><span class=\"comment\">//高亮显示&lt;P&gt;元素，然后给&lt;div&gt;元素添加一个边框</span></span><br><span class=\"line\"><span class=\"comment\">//首先，不使用链式调用</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> divs = $(<span class=\"string\">\"div\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> paras = div.find(<span class=\"string\">\"p\"</span>);</span><br><span class=\"line\">paras.addClass(<span class=\"string\">\"highlight\"</span>);</span><br><span class=\"line\">divs.css(<span class=\"string\">\"border\"</span>, <span class=\"string\">\"solid black 1px\"</span>);</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//下面展现如何使用链式调用来实现</span></span><br><span class=\"line\">$(<span class=\"string\">\"div\"</span>).find(<span class=\"string\">\"p\"</span>).addClass(<span class=\"string\">\"highlight\"</span>).end().css(<span class=\"string\">\"border\"</span>, <span class=\"string\">\"solid black 1px\"</span>);</span><br><span class=\"line\"><span class=\"comment\">//还可以将操作调换顺序来避免调用end()</span></span><br><span class=\"line\">$(<span class=\"string\">\"div\"</span>).css(<span class=\"string\">\"border\"</span>, <span class=\"string\">\"solid block 1px\"</span>).find(<span class=\"string\">\"p\"</span>).addClass(<span class=\"string\">\"highlight\"</span>);</span><br></pre></td></tr></table></figure></p>\n<p>如果想手动定义选中元素集，同时保持与end()方法的兼容，可以将新的元素集作为数组或类数组对象传递给push5tack()方法。指定的元素会成为新的选中元素，之前选中的元素集则会压入栈中，之后可以用end()方法还原它们:<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> sel = $(<span class=\"string\">\"div\"</span>);             <span class=\"comment\">//选取所有&lt;div&gt;元素</span></span><br><span class=\"line\">sel.pushStack(<span class=\"built_in\">document</span>.getElementsByTagName(<span class=\"string\">\"p\"</span>));      <span class=\"comment\">//修改为所有&lt;P&gt;元素</span></span><br><span class=\"line\">sel.end();                      <span class=\"comment\">//还原为&lt;div&gt;元素</span></span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"<p>上一篇文章<a href=\"https://lovexinforever.github.io/2017/09/26/jQuery选择器和选取方法/\"><code>jQuery选择器和选取方法(一)</code></a>讲解了 JQuery 选择器.今天将说下选择的选取方法.<br>","more":"</p>\n<h2 id=\"选取方法\"><a href=\"#选取方法\" class=\"headerlink\" title=\"选取方法\"></a>选取方法</h2><p>除了$()函数支持的选择器语法，jQuery还定义了一些选取方法。本章中我们已看到过的大部分jQuery方法都是在选中元素上执行某种操作。选取方法不一样:它们会修改选中元素集，对其进行提取、扩充或仅作为新选取操作的起点。</p>\n<p>本节描述这些选取方法。你会注意到这些选取方法中的多数提供的功能与选择器语法的功能是一样的。</p>\n<p>提取选中元素最简单的方式是按位置提取。<code>first()</code>返回的jQuery对象仅包含选中元素中的第一个，<code>last()</code>返回的jQuery对象则只 包含最后一个元素。更通用的是，<code>eq()</code>方法返回物Query对象只包含指定序号的单个选中元素。(在jQuery 1.4中，负序号也是允许的，会从选区的末尾开始计数。)注意这些方法返回的jQuery对象只含有一个元素。这与常见的数组序号是不一样的，数组序号返 回的单一元素没有经过jQuery包装:<br><figure class=\"highlight perl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var paras=$(<span class=\"string\">\"p\"</span>);</span><br><span class=\"line\">paras.first()           //仅选取第一个&lt;p&gt;元素</span><br><span class=\"line\">paras.last()            //仅选取最后一个&lt;P&gt;</span><br><span class=\"line\">paras.e<span class=\"string\">q(1)</span>             //选取第二个&lt;P&gt;</span><br><span class=\"line\">paras.e<span class=\"string\">q(-2)</span>           //选取倒数第二个&lt;P&gt;</span><br><span class=\"line\">paras[<span class=\"number\">1</span>]                //第二个&lt;P&gt;元素自身</span><br></pre></td></tr></table></figure></p>\n<p>通过位置提取选区更通用的方法是slice()o jQuery的slice()方法与Array.slice()方法类似:前者接受开始和结束序号(负序号会从结尾处计算)，返回的jQuery对象包含 从开始到结束序号(但不包含结束序号)处的元素集。如果省略结束序号，返回的对象会包含从开始序号起的所有元素:<br><figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"string\">\"p\"</span>).slice(<span class=\"number\">2</span>,<span class=\"number\">5</span>)       <span class=\"comment\">//选取第3个、第4个和第5个&lt;P&gt;元素</span></span><br><span class=\"line\">$(<span class=\"string\">\"div\"</span>).slice(<span class=\"number\">-3</span>)      <span class=\"comment\">//选取最后3个&lt;div&gt;元素</span></span><br></pre></td></tr></table></figure></p>\n<p><code>filter()</code>是通用的选区过滤方法，有3种调用方式:</p>\n<ul>\n<li>传递选择器字符串给filter()，它会返回一}jQuery对象，仅包含也匹配该选择器的选中元素。</li>\n<li>传递另一个jQuery对象给<code>filter()</code>，它会返回一个新的jQuery对象，该对象包含这两们Query对象的交集。也可以传递元素数组甚至单一文档元素给<code>filter()</code>。</li>\n<li>传递判断函数给<code>filter()</code>，会为每一个匹配元素调用该函数，<code>filter()</code>则返回一个jQuery对象，仅包含判断函数为true(或任意真值)的元素。在调用判断函数时，this值为当前元素，参数是元素序号。</li>\n</ul>\n<figure class=\"highlight mel\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"string\">\"div\"</span>).<span class=\"keyword\">filter</span>(<span class=\"string\">\".note\"</span>)        <span class=\"comment\">//与$(\"div.note\")一样</span></span><br><span class=\"line\">$(<span class=\"string\">\"div\"</span>).<span class=\"keyword\">filter</span>($(<span class=\"string\">\".note\"</span>))     <span class=\"comment\">//与$(\"div.note\")一样</span></span><br><span class=\"line\">$(<span class=\"string\">\"div\"</span>).<span class=\"keyword\">filter</span>(function(idx)&#123;<span class=\"keyword\">return</span> idx%2 == <span class=\"number\">0</span>&#125;)         <span class=\"comment\">//与$(\"div:even\")一样</span></span><br></pre></td></tr></table></figure>\n<p><code>not()</code>方法与<code>filter()</code>一样，除了含义与<code>filter()</code>相反。如果传递选择器字符串给<code>not()</code>它会返回一个新的jQuery对象，该 对象只包含不匹配该选择器的元素。如果传递jQuery对象、元素数组或单一元素给<code>not()</code>，它会返回除了显式排除的元素之外的所有选中元素。如果传递 判断函数给<code>not()</code>，该判断函数的调用就与在<code>filter()</code>中一样，只是返回的jQuery对象仅包含那些使得判断函数返回false或其他假值的元 素:<br><figure class=\"highlight elixir\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$(</span><span class=\"string\">\"div\"</span>).<span class=\"keyword\">not</span>(<span class=\"string\">\"#header, #footer\"</span>);        <span class=\"regexp\">//</span>除了两个特殊元素之外的所有元素</span><br></pre></td></tr></table></figure></p>\n<p>在jQuery 1.4中，提取选区的另一种方式是<code>has()</code>方法。如果传入选择器，<code>has()</code>会返回一个新的jQuery对象，仅包含有子孙元素匹配该选择器的选中元素。如果传入文档元素给has()，它会将选中元素集调整为那些是指定元素祖先节点的选中元素:<br><figure class=\"highlight gams\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">$</span>(<span class=\"string\">\"p\"</span>).has(<span class=\"string\">\"a[href]\"</span>)         <span class=\"comment\">//包含链接的段落</span></span><br></pre></td></tr></table></figure></p>\n<p>add()方法会扩充选区，而不是对其进行过滤或提取。可以将传给$()函数的任何参数(除了函数)照样传给add()方法。add()方法会返回 原来的选中元素，加上传给$()函数的那些参数所选中(或创建)的那些元素。add()会移除重复元素，并对该组合选区进行排序，以便里面的元素按照文档 中的顺序排列:<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//选取所有&lt;div&gt;和所有&lt;P&gt;元素的等价方式</span></span><br><span class=\"line\">$(<span class=\"string\">\"div, p\"</span>)             <span class=\"comment\">//使用选择器组</span></span><br><span class=\"line\">$(<span class=\"string\">\"div\"</span>).add(p)         <span class=\"comment\">//给add()传入选择器</span></span><br><span class=\"line\">$(<span class=\"string\">\"div\"</span>).add($(<span class=\"string\">\"p\"</span>))    <span class=\"comment\">//给add()传入jQuery对象</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> paras = <span class=\"built_in\">document</span>.getElementsByTagName(<span class=\"string\">\"p\"</span>);       <span class=\"comment\">//类数组对象</span></span><br><span class=\"line\">$(<span class=\"string\">\"div\"</span>).add(paras);        <span class=\"comment\">//给add()传入元素数组</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"将选中元素集用做上下文\"><a href=\"#将选中元素集用做上下文\" class=\"headerlink\" title=\"将选中元素集用做上下文\"></a>将选中元素集用做上下文</h2><p>上面描述的filter(). add()、和not()方法会在各自的选中元素集上执行交集、并集和差集运算。jQuery还定义一些其他选取方法可将当前选中元素集作为上下文来使 用。对选中的每一个元素，这些方法会使用该选中元素作为上下文或起始点来得到新的选中元素集，然后返回一个新的jQuery对象，包含所有新的选中元素的 并集。与add()方法类似，会移除重复元素并进行排序，以便元素会按照在文档中出现的顺序排列好。</p>\n<p>该类别选取方法中最通用的是find()。它会在每一个当前选中元素的子孙元素中寻找与指定选择器字符串匹配的元素，然后它返回一个新的 jQuery对象来代表所匹配的子孙元素集。注意这些新选中的元素不会并入已存在的选中元素集中。同时注意find()和filter()不 同，filter()不会选中新元素，只是简单地将当前选中的元素集进行缩减:<br><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\">(<span class=\"string\">\"div\"</span>).find(<span class=\"string\">\"p\"</span>)            //在中查找元素，与$(<span class=\"string\">\"div p\"</span>)相同</span></span><br></pre></td></tr></table></figure></p>\n<p>该类别中的其他方法返回新的jQuery对象，代表当前选中元素集中每一个元素的子元素、兄弟元素或父元素。大部分都接受可选的选择器字符串作为参数。不传入选择器时，它们会返回所有子元素、兄弟元素或父元素。传入选择器时，它们会过滤元素集，仅返回匹配的。</p>\n<p>children()方法返回每一个选中元素的直接子元素，可以用可选的选择器参数进行过滤:<br><figure class=\"highlight livescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"regexp\">//寻找id为\"header\"和\"footer\"元素的子节点元素中的所有&lt;span&gt;元素</span></span><br><span class=\"line\"><span class=\"regexp\">//</span>与$(<span class=\"string\">\"<span class=\"subst\">#header</span>&gt;span, <span class=\"subst\">#footer</span>&gt;span\"</span>)相同</span><br><span class=\"line\">$(<span class=\"string\">\"<span class=\"subst\">#header</span>, <span class=\"subst\">#footer</span>\"</span>).children(<span class=\"string\">\"span\"</span>)</span><br></pre></td></tr></table></figure></p>\n<p>contents()方法与children()方法类似，不同的是它会返回每一个元素的所有子节点，包括文本节点。如果选中元素集中 有<code>&lt;iframe&gt;</code>元素，contents()还会返回该<code>&lt;iframe&gt;</code>内容的文档对象。注意contents()不接受可选 的选择器字符串参数—因为它返回的文档节点不完全是元素，而选择器字符串仅用来描述元素节点。<br>next()和prev()方法返回每一个选中元素的下一个和上一个兄弟元素(如果有的话)。如果传入了选择器，会只选中匹配该选择器的兄弟元素:<br><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\">(<span class=\"string\">\"h1\"</span>).next(<span class=\"string\">\"p\"</span>)      //与$(<span class=\"string\">\"h1+p\"</span>)相同</span></span><br><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\">(<span class=\"string\">\"h1\"</span>).prev()         //&lt;h1&gt;元素前面的兄弟元素</span></span><br></pre></td></tr></table></figure></p>\n<p>nextAll()和prevAll()返回每一个选中元素前面或后面的所有兄弟元素(如果有的话)。siblings()方法则返回每一个选中元素的所有兄弟元素(选中元素本身不是自己的兄弟元素)。如果给这些方法传人选择器，则只会返回匹配的兄弟元素:<br><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\">(<span class=\"string\">\"#footer\"</span>).nextAll(<span class=\"string\">\"p\"</span>)       //紧跟<span class=\"comment\">#footer元素的所有&lt;P&gt;兄弟元素</span></span></span><br><span class=\"line\"><span class=\"meta\">$</span><span class=\"bash\">(<span class=\"string\">\"#footer\"</span>).prevAll()          //<span class=\"comment\">#footer元素前面的所有兄弟元素</span></span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"恢复到之前的选中元素集\"><a href=\"#恢复到之前的选中元素集\" class=\"headerlink\" title=\"恢复到之前的选中元素集\"></a>恢复到之前的选中元素集</h2><p>为了实现方法的链式调用，很多jQuery对象的方法最后都会返回调用对象。然而本节讲述的方法都返回新的jQuery对象。可以链式调用下去，但必须清晰地意识到，在链式调用的后面所操作的元素集，可能已经不是该链式调用开始时的元素集了。</p>\n<p>实际情况还要复杂些。当这里所描述的选取方法在创建或返回一个新的ejQuery对象时，它们会给该对象添加一个到它派生自的旧jQuery对象的 内部引用。这会创建一个jQuery对象的链式表或栈。end()方法用来弹出栈，返回保存的jQuery对象。在链式调用中调用end()会将匹配元素 集还原到之前的状态。考虑以下代码:<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//寻找所有&lt;div&gt;元素，然后在其中寻找&lt;P&gt;元素</span></span><br><span class=\"line\"><span class=\"comment\">//高亮显示&lt;P&gt;元素，然后给&lt;div&gt;元素添加一个边框</span></span><br><span class=\"line\"><span class=\"comment\">//首先，不使用链式调用</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> divs = $(<span class=\"string\">\"div\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> paras = div.find(<span class=\"string\">\"p\"</span>);</span><br><span class=\"line\">paras.addClass(<span class=\"string\">\"highlight\"</span>);</span><br><span class=\"line\">divs.css(<span class=\"string\">\"border\"</span>, <span class=\"string\">\"solid black 1px\"</span>);</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//下面展现如何使用链式调用来实现</span></span><br><span class=\"line\">$(<span class=\"string\">\"div\"</span>).find(<span class=\"string\">\"p\"</span>).addClass(<span class=\"string\">\"highlight\"</span>).end().css(<span class=\"string\">\"border\"</span>, <span class=\"string\">\"solid black 1px\"</span>);</span><br><span class=\"line\"><span class=\"comment\">//还可以将操作调换顺序来避免调用end()</span></span><br><span class=\"line\">$(<span class=\"string\">\"div\"</span>).css(<span class=\"string\">\"border\"</span>, <span class=\"string\">\"solid block 1px\"</span>).find(<span class=\"string\">\"p\"</span>).addClass(<span class=\"string\">\"highlight\"</span>);</span><br></pre></td></tr></table></figure></p>\n<p>如果想手动定义选中元素集，同时保持与end()方法的兼容，可以将新的元素集作为数组或类数组对象传递给push5tack()方法。指定的元素会成为新的选中元素，之前选中的元素集则会压入栈中，之后可以用end()方法还原它们:<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> sel = $(<span class=\"string\">\"div\"</span>);             <span class=\"comment\">//选取所有&lt;div&gt;元素</span></span><br><span class=\"line\">sel.pushStack(<span class=\"built_in\">document</span>.getElementsByTagName(<span class=\"string\">\"p\"</span>));      <span class=\"comment\">//修改为所有&lt;P&gt;元素</span></span><br><span class=\"line\">sel.end();                      <span class=\"comment\">//还原为&lt;div&gt;元素</span></span><br></pre></td></tr></table></figure></p>"},{"title":"jQuery选择器和选取方法(一)","date":"2017-09-26T08:36:10.000Z","essential":true,"_content":"在 h5 开发中,`JQuery` 选择器经常用到,也尤其重要,用好选择器,能让你的开发事半功倍.下面是整理的 jquery 选择的使用和方法.\n<!--more-->\njQuery选择器\n----------\n在CSS3选择器标淮草案定义的选择器语法中，jQuery支持相当完整的一套子集，同时还添加了一些非标准但很有用的伪类。注意:本节讲述的是 jQuery选择器。其中有不少选择器(但不是全部)可以在CSS样式表中使用。选择器语法有三层结构。你肯定已经见过选择器中最简单的形式。`”#test”`选取id属性为”test”的元素。`”blockquote”`选取文档中的所有`<blockquote>`元素，而`”div.note”` 则选取所有class属性为`”note”`的`div`元素。简单选择器可以组合成“组合选择器”，比如 `“div.note>p”`和`“blockquote i”`，只要用组合字符做分隔符就行。简单选择器和组合选择器还可以分组成逗号分隔的列表。这种选择器组是传递给$()函数最常见的形式。在解释组合选择器 和选择器组之前，我们必须先了解简单选择器的语法。\n\n简单选择器\n----------\n简单选择器的开头部分(显式或隐式地)是标签类型声明。例如，如果只对`<p>`元素感兴趣，简单选择器可以用`“p”`开头。如果选取的元素和标签名无关，则可以使用通配符`“*”`号来代替。如果选择器没有以标签名或通配符开头，则隐式含有一个通配符。\n\n标签名或通配符指定了备选文档元素的一个初始集。在简单选择器中，标签类型声明之后的部分由零个或多个过滤器组成。过滤器从左到右应用，和书写顺序一致，其中每一个都会缩小选中元素集。下表列举了jQuery支持的过滤器。\n\n<table><thead><tr><td>标签</td><td>描述</td></tr></thead><tbody><tr><td>#id</td><td>匹配id属性为id的元素。在有效的}ITML文档中，永远不会出现多个元素拥有相同的ID，因此该过滤器通常作为独立选择器来使用</td></tr><tr><td>.class</td><td>匹配class属性(是一串被解析成用空格分隔的单词列表)含有class单词的所有元素</td></tr><tr><td>[attr]</td><td>匹配拥有attr属性(和值无关)的所有元素</td></tr><tr><td>[attr=val]</td><td>匹配拥有attr属性且值为val的所有元素</td></tr><tr><td>[attr!=val]</td><td>匹配没有attr属性、或attr属性的值不为val的所有元素((jQuery的扩展)</td></tr><tr><td>[attr^=val]</td><td>匹配attr属性值以val开头的元素</td></tr><tr><td>[attr$=val]</td><td>匹配attr属性值以val结尾的元素</td></tr><tr><td>[attr*=val]</td><td>匹配attr属性值含有val的元素</td></tr><tr><td>[attr~=val]</td><td>当其attr属性解释为一个由空格分隔的单词列表时，匹配其中包含单词val的元素。因此选择器`“div.note”`与`“div [class~=note]”`相同</td></tr><tr><td>[attr|=val]</td><td>\t匹配正在动画中的元素，该动画是由jQuery产生的</td></tr><tr><td>:button</td><td>匹配`<button type=”button”>`和`<input type=”button”>`元素(jQuery的扩展)</td></tr><tr><td>:checkbox</td><td>匹配`<input type=”checkbox”>`元素( jQuery的扩展)，当显式带有input标签前缀`”input:checkbox”`时，该过滤器更高效</td></tr><tr><td>:checked</td><td>匹配选中的input元素</td></tr><tr><td>:contains(text)</td><td>匹配含有指定text文本的元素(jQuery的扩展)。该过滤器中的圆括号确定了文本的范围—无须添加引号。被过滤的元素的文本是由textContent或innerText属性来决定的—这是原始文档文本，不带标签和注释</td></tr><tr><td>:disabled</td><td>匹配禁用的元素</td></tr><tr><td>:empty</td><td>匹配没有子节点、没有文本内容的元素</td></tr><tr><td>:enabled</td><td>匹配没有禁用的元素</td></tr><tr><td>:eq(n)</td><td>匹配基于文档顺序、序号从0开始的选中列表中的第n个元素(jQuery的扩展)</td></tr><tr><td>:even</td><td>匹配列表中偶数序号的元素。由于第一个元素的序号是0，因此实际上选中的是第1个、第3个、第5个等元素(jQuery的扩展)</td></tr><tr><td>:file</td><td>\t匹配`<input type=”file”>`元素(jQuery的扩展)</td></tr><tr><td>:first</td><td>匹配列表中的第一个元素。和`“:eq(0)”`相同(jQuery的扩展)</td></tr><tr><td>:first-child</td><td>匹配的元素是其父节点的第一个子元素。注意:这与“:first”不同</td></tr><tr><td>:gt(n)</td><td>匹配基于文档顺序、序号从0开始的选中列表中序号大于n的元素( jQuery的扩展)</td></tr><tr><td>:has(sel)</td><td>匹配的元素拥有匹配内嵌选择器sel的子孙元素</td></tr><tr><td>:header</td><td>匹配所有头元素:`<h1>`, `<h2>`, `<h3>`, `<h4>`, `<h5>`或`<h6>` (jQuery的扩展)</td></tr><tr><td>:hidden</td><td>匹配所有在屏幕上不可见的元素:大体上可以认为这些元素的offsetWidth和offsetHeight为0</td></tr><tr><td>:image</td><td>匹配`<input type=”image”>`元素。注意该过滤器不会匹配`<img>`元素( jQuery的扩展)</td></tr><tr><td>:input</td><td>匹配用户输入元素:`<input>`, `<textarea>`, `<select>`和`<button>`</td></tr><tr><td>:last</td><td>匹配选中列表中的最后一个元素</td></tr><tr><td>:last-child</td><td>匹配的元素是其父节点的最后一个子元素。注意:这与`“:last”`不同</td></tr><tr><td>`:lt(n)`</td><td>匹配基于文档顺序、序号从0开始的选中列表中序号小于n的元素</td></tr><tr><td>:not(sel)</td><td>匹配的元素不匹配内嵌选择器sel</td></tr><tr><td>:nth(n)</td><td>与`“:eq(n)”`相同</td></tr><tr><td>:nth-child(n)</td><td>匹配的元素是其父节点的第n个子元素。。可以是数值、单词even,单词odd或计算公式。 使用`“:nth-child(even)”`来选取那些在其父节点的子元素中排行第2或第4等序号的元素。使用`“:nth-child(odd)”`来选取那 些在其父节点的子元素中排行第1、第3等序号的元素。\n更常见的情况是，n是xn或x n+y这种计算公式，其中x和y是整数，n是字面量n。因此可以用`nth-child(3n+1)`来选取第1个、第4个、第7个等元素。\n注意该过滤器的序号是从1开始的，因此如果一个元素是其父节点的第一个子元素，会认为它是奇数元素，匹配的是3n+1，而不是3n。要和`“:even`以及`“:odd”`过滤器区分开来，后者匹配的序号是从0开始的。</td></tr><tr><td>:odd</td><td>匹配列表中奇数(从0开始)序号的元素。注意序号为1和3的元素分别是第2个和第4个匹配元素</td></tr></tbody></table>\n\n注意:表中列举的部分选择器在圆括号中接受参数。例如，下面这个选择器选取的元素在其父节点的子元素中排行第1或第2等，只要它们含有`“JavaScript”`单词，就不包含元素。\n\n```\np:nth-child(3n+1): text (JavaScript):not(:has(a))\n```\n\n通常来说，指定标签类型前缀，可以让过滤器的运行更高效。例如，不要简单使用`”:radio”`来选取单选框按钮，使用`“input:radio”`会 更好。ID过滤器是个例外，不添加标签前缀时它会更高效。例如，选择器“#address”通常比更明确的“form#address”更高效。\n\n组合选择器\n----------\n使用特殊操作符或“组合符”可以将简单选择器组合起来，表达文档树中元素之间的关系。下表列举了jQuery支持的组合选择器。这些组合选择器与CSS3支持的组合选择器是一样的。\n下面是组合选择器的一些例子:\n```\n\"blockquote i\"              //匹配<blockquote>里的<i>元素\n\"ol > li\"                   //<1i>元素是<of>的直接子元素\n\"#output+*\"                 //id=\"output\"元素后面的兄弟元素\n\"div.note > h1+p\"           //紧跟<h1>的<P>元素，在<div class=\"note\">里面\n```\n注意组合选择器并不限于组合两个选择器:组合三个甚至更多选择器也是允许的。组合选择器从左到右处理。\n\n选择器组\n----------\n传递给$()函数(或在样式表中使用)的选择器就是选择器组，这是一个逗号分隔的列表，由一个或多个简单选择器或组合选择器构成。选择器组匹配的元 素只要匹配该选择器组中的任何一个选择器就行。对我们来说，一个简单选择器也可以认为是一个选择器组。下面是选择器组的一些例子:\n```\n\"h1, h2,h3\"             //匹配<h1>, <h2>和<h3>元素\n\"#p1, #p2, #p3\"         //匹配id为p1, p2或p3的元素\n\"div.note, p.note\"      //匹配class=\"note\"的<div>和<P>元素\n\"body>p,div.note>p\"     //<body>和<div class=\"note\">的<P>子元素\n```\n注意:CSS和jQuery选择器语法允许在简单选择器的某些过滤器中使用圆括号，但并不允许使用圆括号来进行更常见的分组。例如，不能把选择器组或组合选择器放在圆括号中并且当成简单选择器:\n```\n(h1, h2, h3)+p          //非法\nh1+p, h2+p, h3+p        //正确的写法\n```\n\n总结语\n----------\n到此讲解了 jquery 的选择器.下一篇文章<a href=\"https://lovexinforever.github.io/2017/09/27/jQuery选择器和选取方法-二/\">将讲解 选择器的选取方法.\n\n","source":"_posts/jQuery选择器和选取方法.md","raw":"---\ntitle: jQuery选择器和选取方法(一)\ndate: 2017-09-26 16:36:10\ntags:\n- HTML5\n- js\n- JQuery\n- 选择器\ncategories:\n- 技术\n- HTML5\n- JS\nessential: true\n---\n在 h5 开发中,`JQuery` 选择器经常用到,也尤其重要,用好选择器,能让你的开发事半功倍.下面是整理的 jquery 选择的使用和方法.\n<!--more-->\njQuery选择器\n----------\n在CSS3选择器标淮草案定义的选择器语法中，jQuery支持相当完整的一套子集，同时还添加了一些非标准但很有用的伪类。注意:本节讲述的是 jQuery选择器。其中有不少选择器(但不是全部)可以在CSS样式表中使用。选择器语法有三层结构。你肯定已经见过选择器中最简单的形式。`”#test”`选取id属性为”test”的元素。`”blockquote”`选取文档中的所有`<blockquote>`元素，而`”div.note”` 则选取所有class属性为`”note”`的`div`元素。简单选择器可以组合成“组合选择器”，比如 `“div.note>p”`和`“blockquote i”`，只要用组合字符做分隔符就行。简单选择器和组合选择器还可以分组成逗号分隔的列表。这种选择器组是传递给$()函数最常见的形式。在解释组合选择器 和选择器组之前，我们必须先了解简单选择器的语法。\n\n简单选择器\n----------\n简单选择器的开头部分(显式或隐式地)是标签类型声明。例如，如果只对`<p>`元素感兴趣，简单选择器可以用`“p”`开头。如果选取的元素和标签名无关，则可以使用通配符`“*”`号来代替。如果选择器没有以标签名或通配符开头，则隐式含有一个通配符。\n\n标签名或通配符指定了备选文档元素的一个初始集。在简单选择器中，标签类型声明之后的部分由零个或多个过滤器组成。过滤器从左到右应用，和书写顺序一致，其中每一个都会缩小选中元素集。下表列举了jQuery支持的过滤器。\n\n<table><thead><tr><td>标签</td><td>描述</td></tr></thead><tbody><tr><td>#id</td><td>匹配id属性为id的元素。在有效的}ITML文档中，永远不会出现多个元素拥有相同的ID，因此该过滤器通常作为独立选择器来使用</td></tr><tr><td>.class</td><td>匹配class属性(是一串被解析成用空格分隔的单词列表)含有class单词的所有元素</td></tr><tr><td>[attr]</td><td>匹配拥有attr属性(和值无关)的所有元素</td></tr><tr><td>[attr=val]</td><td>匹配拥有attr属性且值为val的所有元素</td></tr><tr><td>[attr!=val]</td><td>匹配没有attr属性、或attr属性的值不为val的所有元素((jQuery的扩展)</td></tr><tr><td>[attr^=val]</td><td>匹配attr属性值以val开头的元素</td></tr><tr><td>[attr$=val]</td><td>匹配attr属性值以val结尾的元素</td></tr><tr><td>[attr*=val]</td><td>匹配attr属性值含有val的元素</td></tr><tr><td>[attr~=val]</td><td>当其attr属性解释为一个由空格分隔的单词列表时，匹配其中包含单词val的元素。因此选择器`“div.note”`与`“div [class~=note]”`相同</td></tr><tr><td>[attr|=val]</td><td>\t匹配正在动画中的元素，该动画是由jQuery产生的</td></tr><tr><td>:button</td><td>匹配`<button type=”button”>`和`<input type=”button”>`元素(jQuery的扩展)</td></tr><tr><td>:checkbox</td><td>匹配`<input type=”checkbox”>`元素( jQuery的扩展)，当显式带有input标签前缀`”input:checkbox”`时，该过滤器更高效</td></tr><tr><td>:checked</td><td>匹配选中的input元素</td></tr><tr><td>:contains(text)</td><td>匹配含有指定text文本的元素(jQuery的扩展)。该过滤器中的圆括号确定了文本的范围—无须添加引号。被过滤的元素的文本是由textContent或innerText属性来决定的—这是原始文档文本，不带标签和注释</td></tr><tr><td>:disabled</td><td>匹配禁用的元素</td></tr><tr><td>:empty</td><td>匹配没有子节点、没有文本内容的元素</td></tr><tr><td>:enabled</td><td>匹配没有禁用的元素</td></tr><tr><td>:eq(n)</td><td>匹配基于文档顺序、序号从0开始的选中列表中的第n个元素(jQuery的扩展)</td></tr><tr><td>:even</td><td>匹配列表中偶数序号的元素。由于第一个元素的序号是0，因此实际上选中的是第1个、第3个、第5个等元素(jQuery的扩展)</td></tr><tr><td>:file</td><td>\t匹配`<input type=”file”>`元素(jQuery的扩展)</td></tr><tr><td>:first</td><td>匹配列表中的第一个元素。和`“:eq(0)”`相同(jQuery的扩展)</td></tr><tr><td>:first-child</td><td>匹配的元素是其父节点的第一个子元素。注意:这与“:first”不同</td></tr><tr><td>:gt(n)</td><td>匹配基于文档顺序、序号从0开始的选中列表中序号大于n的元素( jQuery的扩展)</td></tr><tr><td>:has(sel)</td><td>匹配的元素拥有匹配内嵌选择器sel的子孙元素</td></tr><tr><td>:header</td><td>匹配所有头元素:`<h1>`, `<h2>`, `<h3>`, `<h4>`, `<h5>`或`<h6>` (jQuery的扩展)</td></tr><tr><td>:hidden</td><td>匹配所有在屏幕上不可见的元素:大体上可以认为这些元素的offsetWidth和offsetHeight为0</td></tr><tr><td>:image</td><td>匹配`<input type=”image”>`元素。注意该过滤器不会匹配`<img>`元素( jQuery的扩展)</td></tr><tr><td>:input</td><td>匹配用户输入元素:`<input>`, `<textarea>`, `<select>`和`<button>`</td></tr><tr><td>:last</td><td>匹配选中列表中的最后一个元素</td></tr><tr><td>:last-child</td><td>匹配的元素是其父节点的最后一个子元素。注意:这与`“:last”`不同</td></tr><tr><td>`:lt(n)`</td><td>匹配基于文档顺序、序号从0开始的选中列表中序号小于n的元素</td></tr><tr><td>:not(sel)</td><td>匹配的元素不匹配内嵌选择器sel</td></tr><tr><td>:nth(n)</td><td>与`“:eq(n)”`相同</td></tr><tr><td>:nth-child(n)</td><td>匹配的元素是其父节点的第n个子元素。。可以是数值、单词even,单词odd或计算公式。 使用`“:nth-child(even)”`来选取那些在其父节点的子元素中排行第2或第4等序号的元素。使用`“:nth-child(odd)”`来选取那 些在其父节点的子元素中排行第1、第3等序号的元素。\n更常见的情况是，n是xn或x n+y这种计算公式，其中x和y是整数，n是字面量n。因此可以用`nth-child(3n+1)`来选取第1个、第4个、第7个等元素。\n注意该过滤器的序号是从1开始的，因此如果一个元素是其父节点的第一个子元素，会认为它是奇数元素，匹配的是3n+1，而不是3n。要和`“:even`以及`“:odd”`过滤器区分开来，后者匹配的序号是从0开始的。</td></tr><tr><td>:odd</td><td>匹配列表中奇数(从0开始)序号的元素。注意序号为1和3的元素分别是第2个和第4个匹配元素</td></tr></tbody></table>\n\n注意:表中列举的部分选择器在圆括号中接受参数。例如，下面这个选择器选取的元素在其父节点的子元素中排行第1或第2等，只要它们含有`“JavaScript”`单词，就不包含元素。\n\n```\np:nth-child(3n+1): text (JavaScript):not(:has(a))\n```\n\n通常来说，指定标签类型前缀，可以让过滤器的运行更高效。例如，不要简单使用`”:radio”`来选取单选框按钮，使用`“input:radio”`会 更好。ID过滤器是个例外，不添加标签前缀时它会更高效。例如，选择器“#address”通常比更明确的“form#address”更高效。\n\n组合选择器\n----------\n使用特殊操作符或“组合符”可以将简单选择器组合起来，表达文档树中元素之间的关系。下表列举了jQuery支持的组合选择器。这些组合选择器与CSS3支持的组合选择器是一样的。\n下面是组合选择器的一些例子:\n```\n\"blockquote i\"              //匹配<blockquote>里的<i>元素\n\"ol > li\"                   //<1i>元素是<of>的直接子元素\n\"#output+*\"                 //id=\"output\"元素后面的兄弟元素\n\"div.note > h1+p\"           //紧跟<h1>的<P>元素，在<div class=\"note\">里面\n```\n注意组合选择器并不限于组合两个选择器:组合三个甚至更多选择器也是允许的。组合选择器从左到右处理。\n\n选择器组\n----------\n传递给$()函数(或在样式表中使用)的选择器就是选择器组，这是一个逗号分隔的列表，由一个或多个简单选择器或组合选择器构成。选择器组匹配的元 素只要匹配该选择器组中的任何一个选择器就行。对我们来说，一个简单选择器也可以认为是一个选择器组。下面是选择器组的一些例子:\n```\n\"h1, h2,h3\"             //匹配<h1>, <h2>和<h3>元素\n\"#p1, #p2, #p3\"         //匹配id为p1, p2或p3的元素\n\"div.note, p.note\"      //匹配class=\"note\"的<div>和<P>元素\n\"body>p,div.note>p\"     //<body>和<div class=\"note\">的<P>子元素\n```\n注意:CSS和jQuery选择器语法允许在简单选择器的某些过滤器中使用圆括号，但并不允许使用圆括号来进行更常见的分组。例如，不能把选择器组或组合选择器放在圆括号中并且当成简单选择器:\n```\n(h1, h2, h3)+p          //非法\nh1+p, h2+p, h3+p        //正确的写法\n```\n\n总结语\n----------\n到此讲解了 jquery 的选择器.下一篇文章<a href=\"https://lovexinforever.github.io/2017/09/27/jQuery选择器和选取方法-二/\">将讲解 选择器的选取方法.\n\n","slug":"jQuery选择器和选取方法","published":1,"updated":"2018-05-02T05:55:01.749Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhio9nom001g6bfyucvsf8gt","content":"<p>在 h5 开发中,<code>JQuery</code> 选择器经常用到,也尤其重要,用好选择器,能让你的开发事半功倍.下面是整理的 jquery 选择的使用和方法.<br><a id=\"more\"></a></p>\n<h2 id=\"jQuery选择器\"><a href=\"#jQuery选择器\" class=\"headerlink\" title=\"jQuery选择器\"></a>jQuery选择器</h2><p>在CSS3选择器标淮草案定义的选择器语法中，jQuery支持相当完整的一套子集，同时还添加了一些非标准但很有用的伪类。注意:本节讲述的是 jQuery选择器。其中有不少选择器(但不是全部)可以在CSS样式表中使用。选择器语法有三层结构。你肯定已经见过选择器中最简单的形式。<code>”#test”</code>选取id属性为”test”的元素。<code>”blockquote”</code>选取文档中的所有<code>&lt;blockquote&gt;</code>元素，而<code>”div.note”</code> 则选取所有class属性为<code>”note”</code>的<code>div</code>元素。简单选择器可以组合成“组合选择器”，比如 <code>“div.note&gt;p”</code>和<code>“blockquote i”</code>，只要用组合字符做分隔符就行。简单选择器和组合选择器还可以分组成逗号分隔的列表。这种选择器组是传递给$()函数最常见的形式。在解释组合选择器 和选择器组之前，我们必须先了解简单选择器的语法。</p>\n<h2 id=\"简单选择器\"><a href=\"#简单选择器\" class=\"headerlink\" title=\"简单选择器\"></a>简单选择器</h2><p>简单选择器的开头部分(显式或隐式地)是标签类型声明。例如，如果只对<code>&lt;p&gt;</code>元素感兴趣，简单选择器可以用<code>“p”</code>开头。如果选取的元素和标签名无关，则可以使用通配符<code>“*”</code>号来代替。如果选择器没有以标签名或通配符开头，则隐式含有一个通配符。</p>\n<p>标签名或通配符指定了备选文档元素的一个初始集。在简单选择器中，标签类型声明之后的部分由零个或多个过滤器组成。过滤器从左到右应用，和书写顺序一致，其中每一个都会缩小选中元素集。下表列举了jQuery支持的过滤器。</p>\n<table><thead><tr><td>标签</td><td>描述</td></tr></thead><tbody><tr><td>#id</td><td>匹配id属性为id的元素。在有效的}ITML文档中，永远不会出现多个元素拥有相同的ID，因此该过滤器通常作为独立选择器来使用</td></tr><tr><td>.class</td><td>匹配class属性(是一串被解析成用空格分隔的单词列表)含有class单词的所有元素</td></tr><tr><td>[attr]</td><td>匹配拥有attr属性(和值无关)的所有元素</td></tr><tr><td>[attr=val]</td><td>匹配拥有attr属性且值为val的所有元素</td></tr><tr><td>[attr!=val]</td><td>匹配没有attr属性、或attr属性的值不为val的所有元素((jQuery的扩展)</td></tr><tr><td>[attr^=val]</td><td>匹配attr属性值以val开头的元素</td></tr><tr><td>[attr$=val]</td><td>匹配attr属性值以val结尾的元素</td></tr><tr><td>[attr*=val]</td><td>匹配attr属性值含有val的元素</td></tr><tr><td>[attr~=val]</td><td>当其attr属性解释为一个由空格分隔的单词列表时，匹配其中包含单词val的元素。因此选择器<code>“div.note”</code>与<code>“div [class~=note]”</code>相同</td></tr><tr><td>[attr|=val]</td><td>    匹配正在动画中的元素，该动画是由jQuery产生的</td></tr><tr><td>:button</td><td>匹配<code>&lt;button type=”button”&gt;</code>和<code>&lt;input type=”button”&gt;</code>元素(jQuery的扩展)</td></tr><tr><td>:checkbox</td><td>匹配<code>&lt;input type=”checkbox”&gt;</code>元素( jQuery的扩展)，当显式带有input标签前缀<code>”input:checkbox”</code>时，该过滤器更高效</td></tr><tr><td>:checked</td><td>匹配选中的input元素</td></tr><tr><td>:contains(text)</td><td>匹配含有指定text文本的元素(jQuery的扩展)。该过滤器中的圆括号确定了文本的范围—无须添加引号。被过滤的元素的文本是由textContent或innerText属性来决定的—这是原始文档文本，不带标签和注释</td></tr><tr><td>:disabled</td><td>匹配禁用的元素</td></tr><tr><td>:empty</td><td>匹配没有子节点、没有文本内容的元素</td></tr><tr><td>:enabled</td><td>匹配没有禁用的元素</td></tr><tr><td>:eq(n)</td><td>匹配基于文档顺序、序号从0开始的选中列表中的第n个元素(jQuery的扩展)</td></tr><tr><td>:even</td><td>匹配列表中偶数序号的元素。由于第一个元素的序号是0，因此实际上选中的是第1个、第3个、第5个等元素(jQuery的扩展)</td></tr><tr><td>:file</td><td>    匹配<code>&lt;input type=”file”&gt;</code>元素(jQuery的扩展)</td></tr><tr><td>:first</td><td>匹配列表中的第一个元素。和<code>“:eq(0)”</code>相同(jQuery的扩展)</td></tr><tr><td>:first-child</td><td>匹配的元素是其父节点的第一个子元素。注意:这与“:first”不同</td></tr><tr><td>:gt(n)</td><td>匹配基于文档顺序、序号从0开始的选中列表中序号大于n的元素( jQuery的扩展)</td></tr><tr><td>:has(sel)</td><td>匹配的元素拥有匹配内嵌选择器sel的子孙元素</td></tr><tr><td>:header</td><td>匹配所有头元素:<code>&lt;h1&gt;</code>, <code>&lt;h2&gt;</code>, <code>&lt;h3&gt;</code>, <code>&lt;h4&gt;</code>, <code>&lt;h5&gt;</code>或<code>&lt;h6&gt;</code> (jQuery的扩展)</td></tr><tr><td>:hidden</td><td>匹配所有在屏幕上不可见的元素:大体上可以认为这些元素的offsetWidth和offsetHeight为0</td></tr><tr><td>:image</td><td>匹配<code>&lt;input type=”image”&gt;</code>元素。注意该过滤器不会匹配<code>&lt;img&gt;</code>元素( jQuery的扩展)</td></tr><tr><td>:input</td><td>匹配用户输入元素:<code>&lt;input&gt;</code>, <code>&lt;textarea&gt;</code>, <code>&lt;select&gt;</code>和<code>&lt;button&gt;</code></td></tr><tr><td>:last</td><td>匹配选中列表中的最后一个元素</td></tr><tr><td>:last-child</td><td>匹配的元素是其父节点的最后一个子元素。注意:这与<code>“:last”</code>不同</td></tr><tr><td><code>:lt(n)</code></td><td>匹配基于文档顺序、序号从0开始的选中列表中序号小于n的元素</td></tr><tr><td>:not(sel)</td><td>匹配的元素不匹配内嵌选择器sel</td></tr><tr><td>:nth(n)</td><td>与<code>“:eq(n)”</code>相同</td></tr><tr><td>:nth-child(n)</td><td>匹配的元素是其父节点的第n个子元素。。可以是数值、单词even,单词odd或计算公式。 使用<code>“:nth-child(even)”</code>来选取那些在其父节点的子元素中排行第2或第4等序号的元素。使用<code>“:nth-child(odd)”</code>来选取那 些在其父节点的子元素中排行第1、第3等序号的元素。<br>更常见的情况是，n是xn或x n+y这种计算公式，其中x和y是整数，n是字面量n。因此可以用<code>nth-child(3n+1)</code>来选取第1个、第4个、第7个等元素。<br>注意该过滤器的序号是从1开始的，因此如果一个元素是其父节点的第一个子元素，会认为它是奇数元素，匹配的是3n+1，而不是3n。要和<code>“:even</code>以及<code>“:odd”</code>过滤器区分开来，后者匹配的序号是从0开始的。</td></tr><tr><td>:odd</td><td>匹配列表中奇数(从0开始)序号的元素。注意序号为1和3的元素分别是第2个和第4个匹配元素</td></tr></tbody></table>\n\n<p>注意:表中列举的部分选择器在圆括号中接受参数。例如，下面这个选择器选取的元素在其父节点的子元素中排行第1或第2等，只要它们含有<code>“JavaScript”</code>单词，就不包含元素。</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">p</span><span class=\"selector-pseudo\">:nth-child(3n+1)</span>: <span class=\"selector-tag\">text</span> (<span class=\"selector-tag\">JavaScript</span>)<span class=\"selector-pseudo\">:not(</span><span class=\"selector-pseudo\">:has(a))</span></span><br></pre></td></tr></table></figure>\n<p>通常来说，指定标签类型前缀，可以让过滤器的运行更高效。例如，不要简单使用<code>”:radio”</code>来选取单选框按钮，使用<code>“input:radio”</code>会 更好。ID过滤器是个例外，不添加标签前缀时它会更高效。例如，选择器“#address”通常比更明确的“form#address”更高效。</p>\n<h2 id=\"组合选择器\"><a href=\"#组合选择器\" class=\"headerlink\" title=\"组合选择器\"></a>组合选择器</h2><p>使用特殊操作符或“组合符”可以将简单选择器组合起来，表达文档树中元素之间的关系。下表列举了jQuery支持的组合选择器。这些组合选择器与CSS3支持的组合选择器是一样的。<br>下面是组合选择器的一些例子:<br><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"blockquote i\"</span>              //匹配<span class=\"variable\">&lt;blockquote&gt;</span>里的<span class=\"variable\">&lt;i&gt;</span>元素</span><br><span class=\"line\"><span class=\"string\">\"ol &gt; li\"</span>                   //<span class=\"variable\">&lt;1i&gt;</span>元素是<span class=\"variable\">&lt;of&gt;</span>的直接子元素</span><br><span class=\"line\"><span class=\"string\">\"#output+*\"</span>                 //id=<span class=\"string\">\"output\"</span>元素后面的兄弟元素</span><br><span class=\"line\"><span class=\"string\">\"div.note &gt; h1+p\"</span>           //紧跟<span class=\"variable\">&lt;h1&gt;</span>的<span class=\"variable\">&lt;P&gt;</span>元素，在<span class=\"variable\">&lt;div class=\"note\"&gt;</span>里面</span><br></pre></td></tr></table></figure></p>\n<p>注意组合选择器并不限于组合两个选择器:组合三个甚至更多选择器也是允许的。组合选择器从左到右处理。</p>\n<h2 id=\"选择器组\"><a href=\"#选择器组\" class=\"headerlink\" title=\"选择器组\"></a>选择器组</h2><p>传递给$()函数(或在样式表中使用)的选择器就是选择器组，这是一个逗号分隔的列表，由一个或多个简单选择器或组合选择器构成。选择器组匹配的元 素只要匹配该选择器组中的任何一个选择器就行。对我们来说，一个简单选择器也可以认为是一个选择器组。下面是选择器组的一些例子:<br><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"h1, h2,h3\"</span>             //匹配<span class=\"variable\">&lt;h1&gt;</span>, <span class=\"variable\">&lt;h2&gt;</span>和<span class=\"variable\">&lt;h3&gt;</span>元素</span><br><span class=\"line\"><span class=\"string\">\"#p1, #p2, #p3\"</span>         //匹配id为p1, p2或p3的元素</span><br><span class=\"line\"><span class=\"string\">\"div.note, p.note\"</span>      //匹配class=<span class=\"string\">\"note\"</span>的<span class=\"variable\">&lt;div&gt;</span>和<span class=\"variable\">&lt;P&gt;</span>元素</span><br><span class=\"line\"><span class=\"string\">\"body&gt;p,div.note&gt;p\"</span>     //<span class=\"variable\">&lt;body&gt;</span>和<span class=\"variable\">&lt;div class=\"note\"&gt;</span>的<span class=\"variable\">&lt;P&gt;</span>子元素</span><br></pre></td></tr></table></figure></p>\n<p>注意:CSS和jQuery选择器语法允许在简单选择器的某些过滤器中使用圆括号，但并不允许使用圆括号来进行更常见的分组。例如，不能把选择器组或组合选择器放在圆括号中并且当成简单选择器:<br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"selector-tag\">h1</span>, <span class=\"selector-tag\">h2</span>, h3)+<span class=\"selector-tag\">p</span>          <span class=\"comment\">//非法</span></span><br><span class=\"line\">h1+<span class=\"selector-tag\">p</span>, h2+<span class=\"selector-tag\">p</span>, h3+<span class=\"selector-tag\">p</span>        <span class=\"comment\">//正确的写法</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"总结语\"><a href=\"#总结语\" class=\"headerlink\" title=\"总结语\"></a>总结语</h2><p>到此讲解了 jquery 的选择器.下一篇文章<a href=\"https://lovexinforever.github.io/2017/09/27/jQuery选择器和选取方法-二/\">将讲解 选择器的选取方法.</a></p>\n","site":{"data":{}},"excerpt":"<p>在 h5 开发中,<code>JQuery</code> 选择器经常用到,也尤其重要,用好选择器,能让你的开发事半功倍.下面是整理的 jquery 选择的使用和方法.<br>","more":"</p>\n<h2 id=\"jQuery选择器\"><a href=\"#jQuery选择器\" class=\"headerlink\" title=\"jQuery选择器\"></a>jQuery选择器</h2><p>在CSS3选择器标淮草案定义的选择器语法中，jQuery支持相当完整的一套子集，同时还添加了一些非标准但很有用的伪类。注意:本节讲述的是 jQuery选择器。其中有不少选择器(但不是全部)可以在CSS样式表中使用。选择器语法有三层结构。你肯定已经见过选择器中最简单的形式。<code>”#test”</code>选取id属性为”test”的元素。<code>”blockquote”</code>选取文档中的所有<code>&lt;blockquote&gt;</code>元素，而<code>”div.note”</code> 则选取所有class属性为<code>”note”</code>的<code>div</code>元素。简单选择器可以组合成“组合选择器”，比如 <code>“div.note&gt;p”</code>和<code>“blockquote i”</code>，只要用组合字符做分隔符就行。简单选择器和组合选择器还可以分组成逗号分隔的列表。这种选择器组是传递给$()函数最常见的形式。在解释组合选择器 和选择器组之前，我们必须先了解简单选择器的语法。</p>\n<h2 id=\"简单选择器\"><a href=\"#简单选择器\" class=\"headerlink\" title=\"简单选择器\"></a>简单选择器</h2><p>简单选择器的开头部分(显式或隐式地)是标签类型声明。例如，如果只对<code>&lt;p&gt;</code>元素感兴趣，简单选择器可以用<code>“p”</code>开头。如果选取的元素和标签名无关，则可以使用通配符<code>“*”</code>号来代替。如果选择器没有以标签名或通配符开头，则隐式含有一个通配符。</p>\n<p>标签名或通配符指定了备选文档元素的一个初始集。在简单选择器中，标签类型声明之后的部分由零个或多个过滤器组成。过滤器从左到右应用，和书写顺序一致，其中每一个都会缩小选中元素集。下表列举了jQuery支持的过滤器。</p>\n<table><thead><tr><td>标签</td><td>描述</td></tr></thead><tbody><tr><td>#id</td><td>匹配id属性为id的元素。在有效的}ITML文档中，永远不会出现多个元素拥有相同的ID，因此该过滤器通常作为独立选择器来使用</td></tr><tr><td>.class</td><td>匹配class属性(是一串被解析成用空格分隔的单词列表)含有class单词的所有元素</td></tr><tr><td>[attr]</td><td>匹配拥有attr属性(和值无关)的所有元素</td></tr><tr><td>[attr=val]</td><td>匹配拥有attr属性且值为val的所有元素</td></tr><tr><td>[attr!=val]</td><td>匹配没有attr属性、或attr属性的值不为val的所有元素((jQuery的扩展)</td></tr><tr><td>[attr^=val]</td><td>匹配attr属性值以val开头的元素</td></tr><tr><td>[attr$=val]</td><td>匹配attr属性值以val结尾的元素</td></tr><tr><td>[attr*=val]</td><td>匹配attr属性值含有val的元素</td></tr><tr><td>[attr~=val]</td><td>当其attr属性解释为一个由空格分隔的单词列表时，匹配其中包含单词val的元素。因此选择器<code>“div.note”</code>与<code>“div [class~=note]”</code>相同</td></tr><tr><td>[attr|=val]</td><td>    匹配正在动画中的元素，该动画是由jQuery产生的</td></tr><tr><td>:button</td><td>匹配<code>&lt;button type=”button”&gt;</code>和<code>&lt;input type=”button”&gt;</code>元素(jQuery的扩展)</td></tr><tr><td>:checkbox</td><td>匹配<code>&lt;input type=”checkbox”&gt;</code>元素( jQuery的扩展)，当显式带有input标签前缀<code>”input:checkbox”</code>时，该过滤器更高效</td></tr><tr><td>:checked</td><td>匹配选中的input元素</td></tr><tr><td>:contains(text)</td><td>匹配含有指定text文本的元素(jQuery的扩展)。该过滤器中的圆括号确定了文本的范围—无须添加引号。被过滤的元素的文本是由textContent或innerText属性来决定的—这是原始文档文本，不带标签和注释</td></tr><tr><td>:disabled</td><td>匹配禁用的元素</td></tr><tr><td>:empty</td><td>匹配没有子节点、没有文本内容的元素</td></tr><tr><td>:enabled</td><td>匹配没有禁用的元素</td></tr><tr><td>:eq(n)</td><td>匹配基于文档顺序、序号从0开始的选中列表中的第n个元素(jQuery的扩展)</td></tr><tr><td>:even</td><td>匹配列表中偶数序号的元素。由于第一个元素的序号是0，因此实际上选中的是第1个、第3个、第5个等元素(jQuery的扩展)</td></tr><tr><td>:file</td><td>    匹配<code>&lt;input type=”file”&gt;</code>元素(jQuery的扩展)</td></tr><tr><td>:first</td><td>匹配列表中的第一个元素。和<code>“:eq(0)”</code>相同(jQuery的扩展)</td></tr><tr><td>:first-child</td><td>匹配的元素是其父节点的第一个子元素。注意:这与“:first”不同</td></tr><tr><td>:gt(n)</td><td>匹配基于文档顺序、序号从0开始的选中列表中序号大于n的元素( jQuery的扩展)</td></tr><tr><td>:has(sel)</td><td>匹配的元素拥有匹配内嵌选择器sel的子孙元素</td></tr><tr><td>:header</td><td>匹配所有头元素:<code>&lt;h1&gt;</code>, <code>&lt;h2&gt;</code>, <code>&lt;h3&gt;</code>, <code>&lt;h4&gt;</code>, <code>&lt;h5&gt;</code>或<code>&lt;h6&gt;</code> (jQuery的扩展)</td></tr><tr><td>:hidden</td><td>匹配所有在屏幕上不可见的元素:大体上可以认为这些元素的offsetWidth和offsetHeight为0</td></tr><tr><td>:image</td><td>匹配<code>&lt;input type=”image”&gt;</code>元素。注意该过滤器不会匹配<code>&lt;img&gt;</code>元素( jQuery的扩展)</td></tr><tr><td>:input</td><td>匹配用户输入元素:<code>&lt;input&gt;</code>, <code>&lt;textarea&gt;</code>, <code>&lt;select&gt;</code>和<code>&lt;button&gt;</code></td></tr><tr><td>:last</td><td>匹配选中列表中的最后一个元素</td></tr><tr><td>:last-child</td><td>匹配的元素是其父节点的最后一个子元素。注意:这与<code>“:last”</code>不同</td></tr><tr><td><code>:lt(n)</code></td><td>匹配基于文档顺序、序号从0开始的选中列表中序号小于n的元素</td></tr><tr><td>:not(sel)</td><td>匹配的元素不匹配内嵌选择器sel</td></tr><tr><td>:nth(n)</td><td>与<code>“:eq(n)”</code>相同</td></tr><tr><td>:nth-child(n)</td><td>匹配的元素是其父节点的第n个子元素。。可以是数值、单词even,单词odd或计算公式。 使用<code>“:nth-child(even)”</code>来选取那些在其父节点的子元素中排行第2或第4等序号的元素。使用<code>“:nth-child(odd)”</code>来选取那 些在其父节点的子元素中排行第1、第3等序号的元素。<br>更常见的情况是，n是xn或x n+y这种计算公式，其中x和y是整数，n是字面量n。因此可以用<code>nth-child(3n+1)</code>来选取第1个、第4个、第7个等元素。<br>注意该过滤器的序号是从1开始的，因此如果一个元素是其父节点的第一个子元素，会认为它是奇数元素，匹配的是3n+1，而不是3n。要和<code>“:even</code>以及<code>“:odd”</code>过滤器区分开来，后者匹配的序号是从0开始的。</td></tr><tr><td>:odd</td><td>匹配列表中奇数(从0开始)序号的元素。注意序号为1和3的元素分别是第2个和第4个匹配元素</td></tr></tbody></table>\n\n<p>注意:表中列举的部分选择器在圆括号中接受参数。例如，下面这个选择器选取的元素在其父节点的子元素中排行第1或第2等，只要它们含有<code>“JavaScript”</code>单词，就不包含元素。</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">p</span><span class=\"selector-pseudo\">:nth-child(3n+1)</span>: <span class=\"selector-tag\">text</span> (<span class=\"selector-tag\">JavaScript</span>)<span class=\"selector-pseudo\">:not(</span><span class=\"selector-pseudo\">:has(a))</span></span><br></pre></td></tr></table></figure>\n<p>通常来说，指定标签类型前缀，可以让过滤器的运行更高效。例如，不要简单使用<code>”:radio”</code>来选取单选框按钮，使用<code>“input:radio”</code>会 更好。ID过滤器是个例外，不添加标签前缀时它会更高效。例如，选择器“#address”通常比更明确的“form#address”更高效。</p>\n<h2 id=\"组合选择器\"><a href=\"#组合选择器\" class=\"headerlink\" title=\"组合选择器\"></a>组合选择器</h2><p>使用特殊操作符或“组合符”可以将简单选择器组合起来，表达文档树中元素之间的关系。下表列举了jQuery支持的组合选择器。这些组合选择器与CSS3支持的组合选择器是一样的。<br>下面是组合选择器的一些例子:<br><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"blockquote i\"</span>              //匹配<span class=\"variable\">&lt;blockquote&gt;</span>里的<span class=\"variable\">&lt;i&gt;</span>元素</span><br><span class=\"line\"><span class=\"string\">\"ol &gt; li\"</span>                   //<span class=\"variable\">&lt;1i&gt;</span>元素是<span class=\"variable\">&lt;of&gt;</span>的直接子元素</span><br><span class=\"line\"><span class=\"string\">\"#output+*\"</span>                 //id=<span class=\"string\">\"output\"</span>元素后面的兄弟元素</span><br><span class=\"line\"><span class=\"string\">\"div.note &gt; h1+p\"</span>           //紧跟<span class=\"variable\">&lt;h1&gt;</span>的<span class=\"variable\">&lt;P&gt;</span>元素，在<span class=\"variable\">&lt;div class=\"note\"&gt;</span>里面</span><br></pre></td></tr></table></figure></p>\n<p>注意组合选择器并不限于组合两个选择器:组合三个甚至更多选择器也是允许的。组合选择器从左到右处理。</p>\n<h2 id=\"选择器组\"><a href=\"#选择器组\" class=\"headerlink\" title=\"选择器组\"></a>选择器组</h2><p>传递给$()函数(或在样式表中使用)的选择器就是选择器组，这是一个逗号分隔的列表，由一个或多个简单选择器或组合选择器构成。选择器组匹配的元 素只要匹配该选择器组中的任何一个选择器就行。对我们来说，一个简单选择器也可以认为是一个选择器组。下面是选择器组的一些例子:<br><figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">\"h1, h2,h3\"</span>             //匹配<span class=\"variable\">&lt;h1&gt;</span>, <span class=\"variable\">&lt;h2&gt;</span>和<span class=\"variable\">&lt;h3&gt;</span>元素</span><br><span class=\"line\"><span class=\"string\">\"#p1, #p2, #p3\"</span>         //匹配id为p1, p2或p3的元素</span><br><span class=\"line\"><span class=\"string\">\"div.note, p.note\"</span>      //匹配class=<span class=\"string\">\"note\"</span>的<span class=\"variable\">&lt;div&gt;</span>和<span class=\"variable\">&lt;P&gt;</span>元素</span><br><span class=\"line\"><span class=\"string\">\"body&gt;p,div.note&gt;p\"</span>     //<span class=\"variable\">&lt;body&gt;</span>和<span class=\"variable\">&lt;div class=\"note\"&gt;</span>的<span class=\"variable\">&lt;P&gt;</span>子元素</span><br></pre></td></tr></table></figure></p>\n<p>注意:CSS和jQuery选择器语法允许在简单选择器的某些过滤器中使用圆括号，但并不允许使用圆括号来进行更常见的分组。例如，不能把选择器组或组合选择器放在圆括号中并且当成简单选择器:<br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"selector-tag\">h1</span>, <span class=\"selector-tag\">h2</span>, h3)+<span class=\"selector-tag\">p</span>          <span class=\"comment\">//非法</span></span><br><span class=\"line\">h1+<span class=\"selector-tag\">p</span>, h2+<span class=\"selector-tag\">p</span>, h3+<span class=\"selector-tag\">p</span>        <span class=\"comment\">//正确的写法</span></span><br></pre></td></tr></table></figure></p>\n<h2 id=\"总结语\"><a href=\"#总结语\" class=\"headerlink\" title=\"总结语\"></a>总结语</h2><p>到此讲解了 jquery 的选择器.下一篇文章<a href=\"https://lovexinforever.github.io/2017/09/27/jQuery选择器和选取方法-二/\">将讲解 选择器的选取方法.</a></p>"},{"title":"js 正则判断是否是手机号","date":"2017-09-14T03:20:14.000Z","_content":"做项目时,遇到手机号注册,需要判断用户输入是否为手机号,就写了段正则判断.\n<!-- more -->\n\njs 如下\n```\nfunction checkMobile(str) {\n    var re = /^1\\d{10}$/\n    if (re.test(str)) {\n        return true;\n    } else {\n        return false;\n    }\n}\n```\n\n","source":"_posts/js-正则判断是否是手机号.md","raw":"---\ntitle: js 正则判断是否是手机号\ndate: 2017-09-14 11:20:14\ntags:\n- js\n- 正则\n- 判断手机号\ncategories:\n- 技术\n---\n做项目时,遇到手机号注册,需要判断用户输入是否为手机号,就写了段正则判断.\n<!-- more -->\n\njs 如下\n```\nfunction checkMobile(str) {\n    var re = /^1\\d{10}$/\n    if (re.test(str)) {\n        return true;\n    } else {\n        return false;\n    }\n}\n```\n\n","slug":"js-正则判断是否是手机号","published":1,"updated":"2018-05-02T05:55:01.749Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhio9non001k6bfyof9esn65","content":"<p>做项目时,遇到手机号注册,需要判断用户输入是否为手机号,就写了段正则判断.<br><a id=\"more\"></a></p>\n<p>js 如下<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">checkMobile</span>(<span class=\"params\">str</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> re = <span class=\"regexp\">/^1\\d&#123;10&#125;$/</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (re.test(str)) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"<p>做项目时,遇到手机号注册,需要判断用户输入是否为手机号,就写了段正则判断.<br>","more":"</p>\n<p>js 如下<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">checkMobile</span>(<span class=\"params\">str</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> re = <span class=\"regexp\">/^1\\d&#123;10&#125;$/</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (re.test(str)) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>"},{"title":"python-冒泡排序","date":"2017-10-16T07:04:38.000Z","essential":true,"_content":"\n之前文章中介绍了怎样用 `hexo + next` 生成相册.由于相册图片命名方式为 `yyyy-MM-dd_des.jpg` 形式,导致在取9月和10月的时候,会发生顺序上的错误.这是由于10的排序比9的排序靠前.所以就想到了用冒泡排序来解决这个问题\n<!-- more -->\n冒泡排序的时间复杂度\n----------\n冒泡排序的时间复杂度是O(N^2)\n\n冒泡排序的思想\n----------\n每次比较两个相邻的元素, 如果他们的顺序错误就把他们交换位置\n\n比如有五个数: `12, 35, 99, 18, 76`, 从大到小排序, 对相邻的两位进行比较\n\n第一趟:\n- 第一次比较: 35, 12, 99, 18, 76\n- 第二次比较: 35, 99, 12, 18, 76\n- 第三次比较: 35, 99, 18, 12, 76\n- 第四次比较: 35, 99, 18, 76, 12\n\n经过第一趟比较后, 五个数中最小的数已经在最后面了, 接下来只比较前四个数, 依次类推\n\n第二趟:\n- 99, 35, 76, 18, 12\n\n第三趟:\n- 99, 76, 35, 18, 12\n\n第四趟:\n- 99, 76, 35, 18, 12\n\n比较完成\n\n冒泡排序原理\n----------\n每一趟只能将一个数归位, 如果有n个数进行排序,只需将n-1个数归位, 也就是说要进行n-1趟操作(已经归位的数不用再比较)\n\n```\n#!/usr/bin/env python\n# coding:utf-8\n\ndef bubbleSort(nums):\n    for i in range(len(nums)-1):    # 这个循环负责设置冒泡排序进行的次数\n        for j in range(len(nums)-i-1):  # ｊ为列表下标\n            if nums[j] > nums[j+1]:\n                nums[j], nums[j+1] = nums[j+1], nums[j]\n    return nums\n\nnums = [5,2,45,6,8,2,1]\n\nprint bubbleSort(nums)\n```\n缺点\n----------\n冒泡排序解决了桶排序浪费空间的问题, 但是冒泡排序的效率特别低\n\n引用\n----------\n打开 tool.py,添加冒泡排序方法\n```\ndef bubble(bubbleList):\n    listLength = len(bubbleList)\n    while listLength > 0:\n        for i in range(listLength - 1):    # 这个循环负责设置冒泡排序进行的次数\n            for j in range(listLength-i-1):  # ｊ为列表下标\n                if(bubbleList[j].get('arr').get('year') == bubbleList[j+1].get('arr').get('year')):\n                    if bubbleList[j].get('arr').get('month') < bubbleList[j+1].get('arr').get('month'):\n                \n                        bubbleList[j], bubbleList[j+1] = bubbleList[j+1], bubbleList[j]\n        return bubbleList\n```\n在 `handle_photo` 中引用 `bubble`\n在 `list_info.reverse()  # 翻转` 下面添加 `bubble(list_info)`\n\n到此就完成了 10月排在9月前面的工作.\n\n\n","source":"_posts/python-冒泡排序.md","raw":"---\ntitle: python-冒泡排序\ndate: 2017-10-16 15:04:38\ntags:\n- python\n- 排序\n- 冒泡排序\ncategories:\n- 技术\n- Python\nessential: true\n---\n\n之前文章中介绍了怎样用 `hexo + next` 生成相册.由于相册图片命名方式为 `yyyy-MM-dd_des.jpg` 形式,导致在取9月和10月的时候,会发生顺序上的错误.这是由于10的排序比9的排序靠前.所以就想到了用冒泡排序来解决这个问题\n<!-- more -->\n冒泡排序的时间复杂度\n----------\n冒泡排序的时间复杂度是O(N^2)\n\n冒泡排序的思想\n----------\n每次比较两个相邻的元素, 如果他们的顺序错误就把他们交换位置\n\n比如有五个数: `12, 35, 99, 18, 76`, 从大到小排序, 对相邻的两位进行比较\n\n第一趟:\n- 第一次比较: 35, 12, 99, 18, 76\n- 第二次比较: 35, 99, 12, 18, 76\n- 第三次比较: 35, 99, 18, 12, 76\n- 第四次比较: 35, 99, 18, 76, 12\n\n经过第一趟比较后, 五个数中最小的数已经在最后面了, 接下来只比较前四个数, 依次类推\n\n第二趟:\n- 99, 35, 76, 18, 12\n\n第三趟:\n- 99, 76, 35, 18, 12\n\n第四趟:\n- 99, 76, 35, 18, 12\n\n比较完成\n\n冒泡排序原理\n----------\n每一趟只能将一个数归位, 如果有n个数进行排序,只需将n-1个数归位, 也就是说要进行n-1趟操作(已经归位的数不用再比较)\n\n```\n#!/usr/bin/env python\n# coding:utf-8\n\ndef bubbleSort(nums):\n    for i in range(len(nums)-1):    # 这个循环负责设置冒泡排序进行的次数\n        for j in range(len(nums)-i-1):  # ｊ为列表下标\n            if nums[j] > nums[j+1]:\n                nums[j], nums[j+1] = nums[j+1], nums[j]\n    return nums\n\nnums = [5,2,45,6,8,2,1]\n\nprint bubbleSort(nums)\n```\n缺点\n----------\n冒泡排序解决了桶排序浪费空间的问题, 但是冒泡排序的效率特别低\n\n引用\n----------\n打开 tool.py,添加冒泡排序方法\n```\ndef bubble(bubbleList):\n    listLength = len(bubbleList)\n    while listLength > 0:\n        for i in range(listLength - 1):    # 这个循环负责设置冒泡排序进行的次数\n            for j in range(listLength-i-1):  # ｊ为列表下标\n                if(bubbleList[j].get('arr').get('year') == bubbleList[j+1].get('arr').get('year')):\n                    if bubbleList[j].get('arr').get('month') < bubbleList[j+1].get('arr').get('month'):\n                \n                        bubbleList[j], bubbleList[j+1] = bubbleList[j+1], bubbleList[j]\n        return bubbleList\n```\n在 `handle_photo` 中引用 `bubble`\n在 `list_info.reverse()  # 翻转` 下面添加 `bubble(list_info)`\n\n到此就完成了 10月排在9月前面的工作.\n\n\n","slug":"python-冒泡排序","published":1,"updated":"2018-05-02T05:55:01.749Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhio9nop001m6bfyzcw5wsvh","content":"<p>之前文章中介绍了怎样用 <code>hexo + next</code> 生成相册.由于相册图片命名方式为 <code>yyyy-MM-dd_des.jpg</code> 形式,导致在取9月和10月的时候,会发生顺序上的错误.这是由于10的排序比9的排序靠前.所以就想到了用冒泡排序来解决这个问题<br><a id=\"more\"></a></p>\n<h2 id=\"冒泡排序的时间复杂度\"><a href=\"#冒泡排序的时间复杂度\" class=\"headerlink\" title=\"冒泡排序的时间复杂度\"></a>冒泡排序的时间复杂度</h2><p>冒泡排序的时间复杂度是O(N^2)</p>\n<h2 id=\"冒泡排序的思想\"><a href=\"#冒泡排序的思想\" class=\"headerlink\" title=\"冒泡排序的思想\"></a>冒泡排序的思想</h2><p>每次比较两个相邻的元素, 如果他们的顺序错误就把他们交换位置</p>\n<p>比如有五个数: <code>12, 35, 99, 18, 76</code>, 从大到小排序, 对相邻的两位进行比较</p>\n<p>第一趟:</p>\n<ul>\n<li>第一次比较: 35, 12, 99, 18, 76</li>\n<li>第二次比较: 35, 99, 12, 18, 76</li>\n<li>第三次比较: 35, 99, 18, 12, 76</li>\n<li>第四次比较: 35, 99, 18, 76, 12</li>\n</ul>\n<p>经过第一趟比较后, 五个数中最小的数已经在最后面了, 接下来只比较前四个数, 依次类推</p>\n<p>第二趟:</p>\n<ul>\n<li>99, 35, 76, 18, 12</li>\n</ul>\n<p>第三趟:</p>\n<ul>\n<li>99, 76, 35, 18, 12</li>\n</ul>\n<p>第四趟:</p>\n<ul>\n<li>99, 76, 35, 18, 12</li>\n</ul>\n<p>比较完成</p>\n<h2 id=\"冒泡排序原理\"><a href=\"#冒泡排序原理\" class=\"headerlink\" title=\"冒泡排序原理\"></a>冒泡排序原理</h2><p>每一趟只能将一个数归位, 如果有n个数进行排序,只需将n-1个数归位, 也就是说要进行n-1趟操作(已经归位的数不用再比较)</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/env python</span></span><br><span class=\"line\"><span class=\"comment\"># coding:utf-8</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">bubbleSort</span><span class=\"params\">(nums)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(nums)<span class=\"number\">-1</span>):    <span class=\"comment\"># 这个循环负责设置冒泡排序进行的次数</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(len(nums)-i<span class=\"number\">-1</span>):  <span class=\"comment\"># ｊ为列表下标</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> nums[j] &gt; nums[j+<span class=\"number\">1</span>]:</span><br><span class=\"line\">                nums[j], nums[j+<span class=\"number\">1</span>] = nums[j+<span class=\"number\">1</span>], nums[j]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> nums</span><br><span class=\"line\"></span><br><span class=\"line\">nums = [<span class=\"number\">5</span>,<span class=\"number\">2</span>,<span class=\"number\">45</span>,<span class=\"number\">6</span>,<span class=\"number\">8</span>,<span class=\"number\">2</span>,<span class=\"number\">1</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">print</span> bubbleSort(nums)</span><br></pre></td></tr></table></figure>\n<h2 id=\"缺点\"><a href=\"#缺点\" class=\"headerlink\" title=\"缺点\"></a>缺点</h2><p>冒泡排序解决了桶排序浪费空间的问题, 但是冒泡排序的效率特别低</p>\n<h2 id=\"引用\"><a href=\"#引用\" class=\"headerlink\" title=\"引用\"></a>引用</h2><p>打开 tool.py,添加冒泡排序方法<br><figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def bubble(bubbleList):</span><br><span class=\"line\">    listLength = <span class=\"built_in\">len</span>(bubbleList)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> listLength &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(listLength - <span class=\"number\">1</span>):    <span class=\"comment\"># 这个循环负责设置冒泡排序进行的次数</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(listLength-i<span class=\"number\">-1</span>):  <span class=\"comment\"># ｊ为列表下标</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span>(bubbleList[j].<span class=\"built_in\">get</span>(<span class=\"string\">'arr'</span>).<span class=\"built_in\">get</span>(<span class=\"string\">'year'</span>) == bubbleList[j+<span class=\"number\">1</span>].<span class=\"built_in\">get</span>(<span class=\"string\">'arr'</span>).<span class=\"built_in\">get</span>(<span class=\"string\">'year'</span>)):</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> bubbleList[j].<span class=\"built_in\">get</span>(<span class=\"string\">'arr'</span>).<span class=\"built_in\">get</span>(<span class=\"string\">'month'</span>) &lt; bubbleList[j+<span class=\"number\">1</span>].<span class=\"built_in\">get</span>(<span class=\"string\">'arr'</span>).<span class=\"built_in\">get</span>(<span class=\"string\">'month'</span>):</span><br><span class=\"line\">                </span><br><span class=\"line\">                        bubbleList[j], bubbleList[j+<span class=\"number\">1</span>] = bubbleList[j+<span class=\"number\">1</span>], bubbleList[j]</span><br><span class=\"line\">        <span class=\"literal\">return</span> bubbleList</span><br></pre></td></tr></table></figure></p>\n<p>在 <code>handle_photo</code> 中引用 <code>bubble</code><br>在 <code>list_info.reverse()  # 翻转</code> 下面添加 <code>bubble(list_info)</code></p>\n<p>到此就完成了 10月排在9月前面的工作.</p>\n","site":{"data":{}},"excerpt":"<p>之前文章中介绍了怎样用 <code>hexo + next</code> 生成相册.由于相册图片命名方式为 <code>yyyy-MM-dd_des.jpg</code> 形式,导致在取9月和10月的时候,会发生顺序上的错误.这是由于10的排序比9的排序靠前.所以就想到了用冒泡排序来解决这个问题<br>","more":"</p>\n<h2 id=\"冒泡排序的时间复杂度\"><a href=\"#冒泡排序的时间复杂度\" class=\"headerlink\" title=\"冒泡排序的时间复杂度\"></a>冒泡排序的时间复杂度</h2><p>冒泡排序的时间复杂度是O(N^2)</p>\n<h2 id=\"冒泡排序的思想\"><a href=\"#冒泡排序的思想\" class=\"headerlink\" title=\"冒泡排序的思想\"></a>冒泡排序的思想</h2><p>每次比较两个相邻的元素, 如果他们的顺序错误就把他们交换位置</p>\n<p>比如有五个数: <code>12, 35, 99, 18, 76</code>, 从大到小排序, 对相邻的两位进行比较</p>\n<p>第一趟:</p>\n<ul>\n<li>第一次比较: 35, 12, 99, 18, 76</li>\n<li>第二次比较: 35, 99, 12, 18, 76</li>\n<li>第三次比较: 35, 99, 18, 12, 76</li>\n<li>第四次比较: 35, 99, 18, 76, 12</li>\n</ul>\n<p>经过第一趟比较后, 五个数中最小的数已经在最后面了, 接下来只比较前四个数, 依次类推</p>\n<p>第二趟:</p>\n<ul>\n<li>99, 35, 76, 18, 12</li>\n</ul>\n<p>第三趟:</p>\n<ul>\n<li>99, 76, 35, 18, 12</li>\n</ul>\n<p>第四趟:</p>\n<ul>\n<li>99, 76, 35, 18, 12</li>\n</ul>\n<p>比较完成</p>\n<h2 id=\"冒泡排序原理\"><a href=\"#冒泡排序原理\" class=\"headerlink\" title=\"冒泡排序原理\"></a>冒泡排序原理</h2><p>每一趟只能将一个数归位, 如果有n个数进行排序,只需将n-1个数归位, 也就是说要进行n-1趟操作(已经归位的数不用再比较)</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/env python</span></span><br><span class=\"line\"><span class=\"comment\"># coding:utf-8</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">bubbleSort</span><span class=\"params\">(nums)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(nums)<span class=\"number\">-1</span>):    <span class=\"comment\"># 这个循环负责设置冒泡排序进行的次数</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(len(nums)-i<span class=\"number\">-1</span>):  <span class=\"comment\"># ｊ为列表下标</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> nums[j] &gt; nums[j+<span class=\"number\">1</span>]:</span><br><span class=\"line\">                nums[j], nums[j+<span class=\"number\">1</span>] = nums[j+<span class=\"number\">1</span>], nums[j]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> nums</span><br><span class=\"line\"></span><br><span class=\"line\">nums = [<span class=\"number\">5</span>,<span class=\"number\">2</span>,<span class=\"number\">45</span>,<span class=\"number\">6</span>,<span class=\"number\">8</span>,<span class=\"number\">2</span>,<span class=\"number\">1</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">print</span> bubbleSort(nums)</span><br></pre></td></tr></table></figure>\n<h2 id=\"缺点\"><a href=\"#缺点\" class=\"headerlink\" title=\"缺点\"></a>缺点</h2><p>冒泡排序解决了桶排序浪费空间的问题, 但是冒泡排序的效率特别低</p>\n<h2 id=\"引用\"><a href=\"#引用\" class=\"headerlink\" title=\"引用\"></a>引用</h2><p>打开 tool.py,添加冒泡排序方法<br><figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def bubble(bubbleList):</span><br><span class=\"line\">    listLength = <span class=\"built_in\">len</span>(bubbleList)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> listLength &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(listLength - <span class=\"number\">1</span>):    <span class=\"comment\"># 这个循环负责设置冒泡排序进行的次数</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(listLength-i<span class=\"number\">-1</span>):  <span class=\"comment\"># ｊ为列表下标</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span>(bubbleList[j].<span class=\"built_in\">get</span>(<span class=\"string\">'arr'</span>).<span class=\"built_in\">get</span>(<span class=\"string\">'year'</span>) == bubbleList[j+<span class=\"number\">1</span>].<span class=\"built_in\">get</span>(<span class=\"string\">'arr'</span>).<span class=\"built_in\">get</span>(<span class=\"string\">'year'</span>)):</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> bubbleList[j].<span class=\"built_in\">get</span>(<span class=\"string\">'arr'</span>).<span class=\"built_in\">get</span>(<span class=\"string\">'month'</span>) &lt; bubbleList[j+<span class=\"number\">1</span>].<span class=\"built_in\">get</span>(<span class=\"string\">'arr'</span>).<span class=\"built_in\">get</span>(<span class=\"string\">'month'</span>):</span><br><span class=\"line\">                </span><br><span class=\"line\">                        bubbleList[j], bubbleList[j+<span class=\"number\">1</span>] = bubbleList[j+<span class=\"number\">1</span>], bubbleList[j]</span><br><span class=\"line\">        <span class=\"literal\">return</span> bubbleList</span><br></pre></td></tr></table></figure></p>\n<p>在 <code>handle_photo</code> 中引用 <code>bubble</code><br>在 <code>list_info.reverse()  # 翻转</code> 下面添加 <code>bubble(list_info)</code></p>\n<p>到此就完成了 10月排在9月前面的工作.</p>"},{"title":"七阶魔方中心块合并公式(含五阶魔方)","date":"2017-10-26T07:33:02.000Z","essential":true,"photos":["http://images.onccc.com/i003/2014/08/30/40/big_252ff28ae9df098fe685a0518cf68a4d.jpg"],"_content":"\n分享一下 七阶魔方5乘5中心块拼法.\n<!-- more-->\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_img/master/3bf33a87e950352a6765ac4a5143fbf2b2118b68.jpg\">\n\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_img/master/0eb30f2442a7d933e3f26d31af4bd11373f0011d.jpg\">\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_img/master/4a36acaf2edda3ccc5c8306203e93901213f9240%20(1).jpg\">\n\n\n确实,一条一条拼中心实在不是个办法,我们只追求最笨,但最可靠的方法.\n如图1的红框内的中心,数字代表我们拼中心块的顺序,仔细观察一下,共5步,前后次序千万不能颠倒了.\n \n咱们的思路是：先完成中间的3×3的中心块,再完成周围的5×5的中心块.而且这套公式不会破坏彼此的拼合（口诀：从三到五,先角后棱）.下面如果没有特殊说明,做公式时把魔方就放成图中那样,对着自己做公式.\n\n一、3×3中心块：先完成序号1,再完成序号2.\n\n1、序号1的公式：如图4,做公式：\nTR U TR' U TR U2 TR'  \n这样就完成一块,每一块都这样拼.\n \n2、序号2公式,如图3,做公式：\nTR' F' MR' F TR F' MR    \n也一样,每块都这样拼.\n以上就完成了3×3的中心块.\n \n \n二、5×5中心块：按照序号345来拼.\n\n1、序号3的公式其实和序号1的一样,公式套用7阶的写法很复杂,由于此公式在使用中不用7阶专用公式,因此你可以套用五阶的公式来做：\nTR U TR' U TR U2 TR' \n这样就把所有的序号3给还原了.\n \n2、序号4是最难处理的一步,因为这里涉及到左右两种镜像块,这需要你运用你的空间转换思维能力来还原,必须懂得变通才行,方法主要是参考序号2的公式,虽然有两种块,但都能按照“对应右面缺口”的方法来进行.如图2,把需要拼的绿色块放到相应位置,其目的是要拼到下方的红色方格内.\n \n3、序号5就简单多了,完全参考序号2的公式就能全部解决：\nTR' F' MR' F TR F' MR （TR也是右边两层一起转,MR同样是右边第二层单独转）\n这样把所有的序号5也还原了.\n \nPS：序号4,你可以自行多研究研究,我真的好久不玩了,这套中心的拼法可以套用任何更高阶的魔方（N阶）,并且不会破坏任何联结,只要对应住缺口摆成图中的样子即可.另外图1中的蓝色部分其实也可以无视先后次序,关键在于理解.\n","source":"_posts/七阶魔方中心块合并公式-含五阶魔方.md","raw":"---\ntitle: 七阶魔方中心块合并公式(含五阶魔方)\ndate: 2017-10-26 15:33:02\ntags:\n- 魔方\n- 七阶\n- 五阶\n- 中心块\ncategories:\n- 娱乐\n- 魔方\nessential: true\nphotos: \n- http://images.onccc.com/i003/2014/08/30/40/big_252ff28ae9df098fe685a0518cf68a4d.jpg\n---\n\n分享一下 七阶魔方5乘5中心块拼法.\n<!-- more-->\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_img/master/3bf33a87e950352a6765ac4a5143fbf2b2118b68.jpg\">\n\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_img/master/0eb30f2442a7d933e3f26d31af4bd11373f0011d.jpg\">\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_img/master/4a36acaf2edda3ccc5c8306203e93901213f9240%20(1).jpg\">\n\n\n确实,一条一条拼中心实在不是个办法,我们只追求最笨,但最可靠的方法.\n如图1的红框内的中心,数字代表我们拼中心块的顺序,仔细观察一下,共5步,前后次序千万不能颠倒了.\n \n咱们的思路是：先完成中间的3×3的中心块,再完成周围的5×5的中心块.而且这套公式不会破坏彼此的拼合（口诀：从三到五,先角后棱）.下面如果没有特殊说明,做公式时把魔方就放成图中那样,对着自己做公式.\n\n一、3×3中心块：先完成序号1,再完成序号2.\n\n1、序号1的公式：如图4,做公式：\nTR U TR' U TR U2 TR'  \n这样就完成一块,每一块都这样拼.\n \n2、序号2公式,如图3,做公式：\nTR' F' MR' F TR F' MR    \n也一样,每块都这样拼.\n以上就完成了3×3的中心块.\n \n \n二、5×5中心块：按照序号345来拼.\n\n1、序号3的公式其实和序号1的一样,公式套用7阶的写法很复杂,由于此公式在使用中不用7阶专用公式,因此你可以套用五阶的公式来做：\nTR U TR' U TR U2 TR' \n这样就把所有的序号3给还原了.\n \n2、序号4是最难处理的一步,因为这里涉及到左右两种镜像块,这需要你运用你的空间转换思维能力来还原,必须懂得变通才行,方法主要是参考序号2的公式,虽然有两种块,但都能按照“对应右面缺口”的方法来进行.如图2,把需要拼的绿色块放到相应位置,其目的是要拼到下方的红色方格内.\n \n3、序号5就简单多了,完全参考序号2的公式就能全部解决：\nTR' F' MR' F TR F' MR （TR也是右边两层一起转,MR同样是右边第二层单独转）\n这样把所有的序号5也还原了.\n \nPS：序号4,你可以自行多研究研究,我真的好久不玩了,这套中心的拼法可以套用任何更高阶的魔方（N阶）,并且不会破坏任何联结,只要对应住缺口摆成图中的样子即可.另外图1中的蓝色部分其实也可以无视先后次序,关键在于理解.\n","slug":"七阶魔方中心块合并公式-含五阶魔方","published":1,"updated":"2018-05-02T05:55:01.750Z","comments":1,"layout":"post","link":"","_id":"cjhio9noq001q6bfy6wfmls77","content":"<p>分享一下 七阶魔方5乘5中心块拼法.<br><a id=\"more\"></a><br><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_img/master/3bf33a87e950352a6765ac4a5143fbf2b2118b68.jpg\"></p>\n<p><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_img/master/0eb30f2442a7d933e3f26d31af4bd11373f0011d.jpg\"><br><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_img/master/4a36acaf2edda3ccc5c8306203e93901213f9240%20(1).jpg\"></p>\n<p>确实,一条一条拼中心实在不是个办法,我们只追求最笨,但最可靠的方法.<br>如图1的红框内的中心,数字代表我们拼中心块的顺序,仔细观察一下,共5步,前后次序千万不能颠倒了.</p>\n<p>咱们的思路是：先完成中间的3×3的中心块,再完成周围的5×5的中心块.而且这套公式不会破坏彼此的拼合（口诀：从三到五,先角后棱）.下面如果没有特殊说明,做公式时把魔方就放成图中那样,对着自己做公式.</p>\n<p>一、3×3中心块：先完成序号1,再完成序号2.</p>\n<p>1、序号1的公式：如图4,做公式：<br>TR U TR’ U TR U2 TR’<br>这样就完成一块,每一块都这样拼.</p>\n<p>2、序号2公式,如图3,做公式：<br>TR’ F’ MR’ F TR F’ MR<br>也一样,每块都这样拼.<br>以上就完成了3×3的中心块.</p>\n<p>二、5×5中心块：按照序号345来拼.</p>\n<p>1、序号3的公式其实和序号1的一样,公式套用7阶的写法很复杂,由于此公式在使用中不用7阶专用公式,因此你可以套用五阶的公式来做：<br>TR U TR’ U TR U2 TR’<br>这样就把所有的序号3给还原了.</p>\n<p>2、序号4是最难处理的一步,因为这里涉及到左右两种镜像块,这需要你运用你的空间转换思维能力来还原,必须懂得变通才行,方法主要是参考序号2的公式,虽然有两种块,但都能按照“对应右面缺口”的方法来进行.如图2,把需要拼的绿色块放到相应位置,其目的是要拼到下方的红色方格内.</p>\n<p>3、序号5就简单多了,完全参考序号2的公式就能全部解决：<br>TR’ F’ MR’ F TR F’ MR （TR也是右边两层一起转,MR同样是右边第二层单独转）<br>这样把所有的序号5也还原了.</p>\n<p>PS：序号4,你可以自行多研究研究,我真的好久不玩了,这套中心的拼法可以套用任何更高阶的魔方（N阶）,并且不会破坏任何联结,只要对应住缺口摆成图中的样子即可.另外图1中的蓝色部分其实也可以无视先后次序,关键在于理解.</p>\n","site":{"data":{}},"excerpt":"<p>分享一下 七阶魔方5乘5中心块拼法.<br>","more":"<br><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_img/master/3bf33a87e950352a6765ac4a5143fbf2b2118b68.jpg\"></p>\n<p><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_img/master/0eb30f2442a7d933e3f26d31af4bd11373f0011d.jpg\"><br><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_img/master/4a36acaf2edda3ccc5c8306203e93901213f9240%20(1).jpg\"></p>\n<p>确实,一条一条拼中心实在不是个办法,我们只追求最笨,但最可靠的方法.<br>如图1的红框内的中心,数字代表我们拼中心块的顺序,仔细观察一下,共5步,前后次序千万不能颠倒了.</p>\n<p>咱们的思路是：先完成中间的3×3的中心块,再完成周围的5×5的中心块.而且这套公式不会破坏彼此的拼合（口诀：从三到五,先角后棱）.下面如果没有特殊说明,做公式时把魔方就放成图中那样,对着自己做公式.</p>\n<p>一、3×3中心块：先完成序号1,再完成序号2.</p>\n<p>1、序号1的公式：如图4,做公式：<br>TR U TR’ U TR U2 TR’<br>这样就完成一块,每一块都这样拼.</p>\n<p>2、序号2公式,如图3,做公式：<br>TR’ F’ MR’ F TR F’ MR<br>也一样,每块都这样拼.<br>以上就完成了3×3的中心块.</p>\n<p>二、5×5中心块：按照序号345来拼.</p>\n<p>1、序号3的公式其实和序号1的一样,公式套用7阶的写法很复杂,由于此公式在使用中不用7阶专用公式,因此你可以套用五阶的公式来做：<br>TR U TR’ U TR U2 TR’<br>这样就把所有的序号3给还原了.</p>\n<p>2、序号4是最难处理的一步,因为这里涉及到左右两种镜像块,这需要你运用你的空间转换思维能力来还原,必须懂得变通才行,方法主要是参考序号2的公式,虽然有两种块,但都能按照“对应右面缺口”的方法来进行.如图2,把需要拼的绿色块放到相应位置,其目的是要拼到下方的红色方格内.</p>\n<p>3、序号5就简单多了,完全参考序号2的公式就能全部解决：<br>TR’ F’ MR’ F TR F’ MR （TR也是右边两层一起转,MR同样是右边第二层单独转）<br>这样把所有的序号5也还原了.</p>\n<p>PS：序号4,你可以自行多研究研究,我真的好久不玩了,这套中心的拼法可以套用任何更高阶的魔方（N阶）,并且不会破坏任何联结,只要对应住缺口摆成图中的样子即可.另外图1中的蓝色部分其实也可以无视先后次序,关键在于理解.</p>"},{"title":"六一儿童节","date":"2016-06-01T01:44:58.000Z","_content":"<img src=\"/imgs/bg.jpg\" class=\"full-image\" />\n<blockquote class=\"blockquote-center\"><h2>世上无难事,只怕有心人</h2></br>总有刁民想害朕</blockquote>\n\n六一儿童节新规定\n=======\n### 公司规定必须穿西装,皮鞋,衬衫.我去,感觉跟卖房子的一样!!!\n<!-- more -->\n但还是乖乖的穿上了.\n","source":"_posts/六一儿童节.md","raw":"---\ntitle: 六一儿童节\ndate: 2016-06-01 09:44:58\ntags:\n- hexo\n- node.js\ncategories: \n- 日志\n\n\n---\n<img src=\"/imgs/bg.jpg\" class=\"full-image\" />\n<blockquote class=\"blockquote-center\"><h2>世上无难事,只怕有心人</h2></br>总有刁民想害朕</blockquote>\n\n六一儿童节新规定\n=======\n### 公司规定必须穿西装,皮鞋,衬衫.我去,感觉跟卖房子的一样!!!\n<!-- more -->\n但还是乖乖的穿上了.\n","slug":"六一儿童节","published":1,"updated":"2018-05-02T05:55:01.750Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhio9nor001t6bfyl2tcnecv","content":"<p><img src=\"/imgs/bg.jpg\" class=\"full-image\"></p>\n<blockquote class=\"blockquote-center\"><h2>世上无难事,只怕有心人</h2><br>总有刁民想害朕</blockquote>\n\n<h1 id=\"六一儿童节新规定\"><a href=\"#六一儿童节新规定\" class=\"headerlink\" title=\"六一儿童节新规定\"></a>六一儿童节新规定</h1><h3 id=\"公司规定必须穿西装-皮鞋-衬衫-我去-感觉跟卖房子的一样\"><a href=\"#公司规定必须穿西装-皮鞋-衬衫-我去-感觉跟卖房子的一样\" class=\"headerlink\" title=\"公司规定必须穿西装,皮鞋,衬衫.我去,感觉跟卖房子的一样!!!\"></a>公司规定必须穿西装,皮鞋,衬衫.我去,感觉跟卖房子的一样!!!</h3><a id=\"more\"></a>\n<p>但还是乖乖的穿上了.</p>\n","site":{"data":{}},"excerpt":"<p><img src=\"/imgs/bg.jpg\" class=\"full-image\"></p>\n<blockquote class=\"blockquote-center\"><h2>世上无难事,只怕有心人</h2><br>总有刁民想害朕</blockquote>\n\n<h1 id=\"六一儿童节新规定\"><a href=\"#六一儿童节新规定\" class=\"headerlink\" title=\"六一儿童节新规定\"></a>六一儿童节新规定</h1><h3 id=\"公司规定必须穿西装-皮鞋-衬衫-我去-感觉跟卖房子的一样\"><a href=\"#公司规定必须穿西装-皮鞋-衬衫-我去-感觉跟卖房子的一样\" class=\"headerlink\" title=\"公司规定必须穿西装,皮鞋,衬衫.我去,感觉跟卖房子的一样!!!\"></a>公司规定必须穿西装,皮鞋,衬衫.我去,感觉跟卖房子的一样!!!</h3>","more":"<p>但还是乖乖的穿上了.</p>"},{"title":"关于用 hexo d 失败的解决方法","date":"2015-12-25T05:25:05.000Z","_content":" ### 搭建 hexo，在执行 hexo deploy 后,出现 <font color=\"#f00\">`error deployer not found:github`</font> 的错误\n <!-- more -->\n \n 这是hexo 更新到3.0 会出现的错误\n \n \n <strong>解决方法</strong>  在_config.yml 中配置如下\n <img src=\"/imgs/blog6/img1.png\"/>\n 其中红色部分是你的github名.\n \n \n","source":"_posts/关于用-hexo-d-失败的解决方法.md","raw":"---\ntitle: 关于用 hexo d 失败的解决方法\ndate: 2015-12-25 13:25:05\ntags: hexo\ncategories: 技术\n---\n ### 搭建 hexo，在执行 hexo deploy 后,出现 <font color=\"#f00\">`error deployer not found:github`</font> 的错误\n <!-- more -->\n \n 这是hexo 更新到3.0 会出现的错误\n \n \n <strong>解决方法</strong>  在_config.yml 中配置如下\n <img src=\"/imgs/blog6/img1.png\"/>\n 其中红色部分是你的github名.\n \n \n","slug":"关于用-hexo-d-失败的解决方法","published":1,"updated":"2018-05-02T05:55:01.750Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhio9nos001x6bfys6256o7x","content":"<h3 id=\"搭建-hexo，在执行-hexo-deploy-后-出现-error-deployer-not-found-github-的错误\"><a href=\"#搭建-hexo，在执行-hexo-deploy-后-出现-error-deployer-not-found-github-的错误\" class=\"headerlink\" title=\"搭建 hexo，在执行 hexo deploy 后,出现 error deployer not found:github 的错误\"></a>搭建 hexo，在执行 hexo deploy 后,出现 <font color=\"#f00\"><code>error deployer not found:github</code></font> 的错误</h3> <a id=\"more\"></a>\n<p> 这是hexo 更新到3.0 会出现的错误</p>\n<p> <strong>解决方法</strong>  在_config.yml 中配置如下<br> <img src=\"/imgs/blog6/img1.png\"><br> 其中红色部分是你的github名.</p>\n","site":{"data":{}},"excerpt":"<h3 id=\"搭建-hexo，在执行-hexo-deploy-后-出现-error-deployer-not-found-github-的错误\"><a href=\"#搭建-hexo，在执行-hexo-deploy-后-出现-error-deployer-not-found-github-的错误\" class=\"headerlink\" title=\"搭建 hexo，在执行 hexo deploy 后,出现 error deployer not found:github 的错误\"></a>搭建 hexo，在执行 hexo deploy 后,出现 <font color=\"#f00\"><code>error deployer not found:github</code></font> 的错误</h3>","more":"<p> 这是hexo 更新到3.0 会出现的错误</p>\n<p> <strong>解决方法</strong>  在_config.yml 中配置如下<br> <img src=\"/imgs/blog6/img1.png\"><br> 其中红色部分是你的github名.</p>"},{"title":"搬家","date":"2016-05-30T08:59:48.000Z","_content":"","source":"_posts/搬家.md","raw":"---\ntitle: 搬家\ndate: 2016-05-30 16:59:48\ntags:\n---\n","slug":"搬家","published":1,"updated":"2018-05-02T05:55:01.750Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjhio9nou00216bfyjethzfi6","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"杂想","date":"2017-09-20T12:53:44.000Z","updated":"2017-09-21T05:30:23.000Z","_content":"什么都不想写 ,好累!!困!!!!!!!!!\n\n","source":"_posts/杂想.md","raw":"---\ntitle: 杂想\ndate: 2017-09-20 20:53:44\nupdated: 2017-09-21 13:30:23\ntags:\n---\n什么都不想写 ,好累!!困!!!!!!!!!\n\n","slug":"杂想","published":1,"comments":1,"layout":"post","photos":[],"link":"","_id":"cjhio9nov00256bfydodebehj","content":"<p>什么都不想写 ,好累!!困!!!!!!!!!</p>\n","site":{"data":{}},"excerpt":"","more":"<p>什么都不想写 ,好累!!困!!!!!!!!!</p>\n"},{"title":"热修复方案设计文档","date":"2018-05-08T04:46:41.000Z","categroies":["技术"],"top":7,"essential":true,"photos":["https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/photos/2018-4-28_孤舟.jpg"],"_content":"本文主要描述完整可行的热修复技术设计方案,给出客户端与服务器端的相应改造, 并介绍核心实现原理、分析主流框架的优劣势.由于与插件化开发有一定重叠,因此也简单 介绍插件化应用的原理.\n<!-- more -->\n## 整体方案\n\n### 背景\n当应用发布之后，突然发现严重 bug 需要紧急修复.传统做法是修复后打包为新版 本 App, 再通过应用商店发布新版本,缺点是从修复到用户更新的过程非常缓慢,无法解 决紧急问题.\n热修复技术通过线上发布补丁, 客户端自动获取补丁后立即加载,即时生效,可以非 常迅速的修复线上问题.\n### 流程\n本地、服务端、线上版本三方工作时序:\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_1.png\" />\n1) 通过各种途径获知 bug存在\n2) 定位并在本地修复\n3) 制作补丁包\n4) 发布到服务器端\n5) 线上版本收到推送\n6) 下载后加载补丁\n\n### 时序\n\n#### 触发\n分为客户端主动触发与被动触发:\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_2.png\" />\n<img src=\"\" />\n\n#### 加载补丁\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_3.png\" />\n\n### 业务全景\n\n#### 全模块\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_4.png\" />\n\n#### 客户端\n1) 推送模块 PUSH\n接收推送消息,分发补丁操作的指令.\n2) 补丁管理模块 PatchManager\n补丁持久化, 开机自检:管理存储空间,清除临时文件, 维护补丁版本与主程序版本的对应关系, 响应四种推送消息:增、删、改、查: 下 载补丁并加载,\n删除指定补丁,\n删除后重下载, 查询当前补丁数量和版本号.\n3) 安全模块 Secure 校验补丁文件有效性,合法性, 校验文件指纹, 删除非法文件.\n4) 热修复模块 Core 加载补丁.\n5) 全局异常模块 UncaughtException 捕获全局异常,触发补丁自动下载.\n6) 日志模块 Logger 管理日志,\n主动上送运行异常.\n7) 容错模块 ErrorHandler\n校验叠加版本:当前主程序版本+补丁版本 回退机制:删除所有,删除一段时间, 重加载:触发热修复模块重加载.\n\n#### 服务端\n1) 补丁管理平台 PatchPlatform 提供可视化操作界面: 手动上传、下载补丁文件, 发布补丁,触发推送模块, 统计修复成功率, 登录、用户权限.\n2) 补丁管理模块 PatchManager 维护补丁版本与主程序版本对应关系, 配 置补丁属性:版本号,对应主程序版本, 增 删改查.\n3) 推送模块 Push 推送补丁管理的相应指令, 推送日志操作的相应指令.\n4) 日志模块 Logger 主动或被动获取日志, 跟踪设备使用情况.\n\n## 热修复技术\n\n### 实现原理\n实现热修复功能的大方向有两种:NativeHook与替换 Dex.两种流派都各有优缺点, 目前并没有百分之百完美的方案.\n#### Native Hook 方式\n一般情况下,导致 crash 的代码都能最终定位到某一具体的函数, 例如最常见的空\n指针异常:\n```\ncom.tim.patcher E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.tim.patcher, PID: 20275\njava.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String java.lang.String.toString()' on a null object reference\nat com.tim.patcher.MainActivity$1$override.onClick(MainActivity.java:25)\nat android.app.ActivityThread.main(ActivityThread.java:5314) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:693)\n```\n线下修复的做法是通过上述栈信息找到 MainActivity类,修改第 25行的onClick方法, 而后打包发布.\nNative 方式的出发点由此而来,如果能动态的将问题函数替换为需要的函数,使程 序在运行到这一步时不执行原函数而去执行新的函数,就能完成热修复了.示意图如下:\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_5.png\" />\nonClick()是问题函数,onClick_fix()是修复后的函数.执行 dispatch()后绕开 onClick(),转而执行 onClick_fix(),达到修复的目的.关键是用 onClick_fix()替代 onClick()这一步.\n在 native层, java方法在 Dalvik/ART虚拟机中的实现都会由 C++的 ClassObject 和 Method对象表示,ClassObject记录类的属性,Method记录方法字节码的地址. 只要 在虚拟机执行到要修改的方法前通过其所在的 ClassObject 找到对应的 Method,将 Method的指针指向目标方法就能达到” 绕开” 的目的.\n具体来说,在这个例子中先将onClick()标记为native方法,然后就可以在jni中获 取它的 ClassObject,通过 ClassObject获取 Method对象,再把 Method指向 java层的 onClick_fix()方法.\n上述步骤只能替换特定的函数,因为最后一步 Method 指针指向了一个具体的函数. 站在” 造轮子” 的角度上看,实际的使用场景是事先并不能获知目标方法具体是什 么, 因此 Method 指向的目标一定要是可即时改变的.所以在此基础上再进一步,只需要 将指向具体的修复后函数改为指向一个 api 钩子,实现它的回调,就能适用于实际使用场 景, 替换任何待定的函数.\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_6.png\" />\n#### Dex 合并方式\nDex合并的方式来源于MultiDex还未发布时,为解决方法数限制2^16这一问题而 诞生的 Dex 分包方案.Dex 分包实现了动态加载,动态加载是插件化开发的基础,插件技术 后来引申出了这一类热修复方式.\n一般来说,插件化是通过动态加载技术实现的,对插件框架稍加改造就可以实现热 修复,因此先简单介绍 Dex分包和插件技术.\n##### Dex分包\n谷歌为了优化安卓应用的运行性能,提出了数据结构和效率比 jar 更好的 dex 格式 .dex 类似于 jar,是一种储存字节码的归档文件.系统启动应用时会先对首次加载的 dex做优化,称为 DexOpt,它会生成一个 Optimised Dex文件.ODex会把应用中所有方 法的 id存储在链表中,但谷歌在这里犯了一个错误,用 short类型保存了这个链表的长度, 导致长度不能超过 short类型最大值 2^16.这就是方法数不能超过 65535的由来.Dex分 包通过将一个应用的 dex拆分成多个来规避这个问题.\n##### 插件技术\n在 Java工程中可以很方便的把 class文件放到jar中直接实现动态加载,但安卓系统 并不支持这样做,因为 jvm执行 class文件而 dvm执行 dex文件.安卓虚拟机不能识别 java的字节码,要将 class转换成 dex文件才能识别,所以拆分的最小单位是 dex.\n插件技术的关键在于如何动态加载多个 dex.加载插件的过程可以分解为加载代码 (.java)和加载资源(R resource),资源的加载和热修复无关,因此这里只介绍加载类的方 法.\nJava中用 ClassLoader加载 jar,Android也有自己的 ClassLoader体系,通过这个 体系完成类的加载.如图所示:\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_7.png\"/>\n\nDexClassLoader和 PathClassLoader是 BaseDexClassLoader的两种实现,他们都能 使被加载的类可以正常识别.两者的区别是 DexClassLoader 可以加载文件系统上的 jar,dex以及 apk,而 PathClassLoader需要提供固定的文件路径(比如\n/data/app/com.bill99.ian.patcher/base-1.apk ),只能加载已安装到/data/app 下的应用. 在 Application 中系统分配了两种加载方式,安卓系统应用使用 DexClassLoader而非系统应用使用 PathClassLoader加载.\n插件架构有自己重写 ClassLoader的方案也有直接使用 DexClassLoader让系统 帮助加载的方案.而使用 DexClassLoader的方案与合并 Dex完成热修复的方法非常接 近, 因此下面讨论通过 DexClassLoader加载类的方案.\nDexClassLoader提供了 loadClass()方法进行类的加载 .loadClass()调用 BaseDexClassLoader中的 findClass(),findClass()根据类名查找到 dex中的 class文件 :\n```\n@Override\nprotected Class<?> findClass (String name) throws ClassNotFoundException {\nList<Throwable> suppressedExceptions = new ArrayList<Throwable>(); Class c = pathList.findClass(name, suppressedExceptions);\nif (c == null) {\nClassNotFoundException cnfe = new ClassNotFoundException(\"Didn't find class \\\"\" + name + \"\\\" on path: \" + pathList);\nfor (Throwable t : suppressedExceptions) { cnfe.addSuppressed(t);\n}\nthrow cnfe; }\nreturn c; }\n```\n源码中, findClass()实际上调用了 pathList 的 findClass(),pathList 是在 BaseDexClassLoader中创建的 DexPathList对象的实例,DexPathList中 findClass() 代码如下:\n```\npublic Class findClass(String name, List<Throwable> suppressed) { for (Element element : dexElements) {\nDexFile dex = element.dexFile; if (dex != null) {\nClass clazz = dex.loadClassBinaryName(name, definingContext, suppressed);\nif (clazz != null) { return clazz;\n} }\n}\nif (dexElementsSuppressedExceptions != null) {\nsuppressed.addAll(Arrays.asList(dexElementsSuppressedExceptions)); }\nreturn null; }\n```\n其实就是遍历 dexElements,调用每个元素的 dexFile对象的 loadClassBinaryName\n方法.其中 dexElement在 DexPathList中创建:\n```\n this.dexElements = makeDexElements(splitDexPath(dexPath), optimizedDirectory, suppressedExceptions);\n```\nmakeDexElements最终会调用 dvm对 dex文件进行优化和映射,完成类加载.\n仅仅加载类文件是不够的,Activity,Service 等组件原来由 AMS 管理生命周期,单纯 的加载 Activity 等类后他们也没有了组件的特殊性,和普通的类没有任何区别.有一种解 决方法是通过在接口中定义各种生命周期方法,由插件的 Activity 实现接口,然后在主程 序中调用接口,人工的制造出生命周期.\n##### Dex替换\n插件动态加载的核心是通过ClassLoader加载多个不同的dex,每个dex中类的完整 路径不允许重复,否则会导致不同 dex之间的类加载错乱.而合并 Dex的热修复方式反其 道而行之,它加载一个命名空间和主程序重复的dex.\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_8.png\" />\n上图是DexClassLoader加载类的流程,关键是DexPathList中的dexElements数组. ClassLoader 会遍历数组中的 dex,从中找到与要加载的类名对应的 dex,加载完成后返 回 class文件.根据流程图能够得出热修复的关键线索:如果有两个 dex同时能够加载这个 类,也就是两个dex具有重复全路径的类,那么 ClassLoader会调用 dexElements数组中 排在前列的 dex去加载这个类,加载完成后立即返回,顺序排在其后的 dex不会被访问到.\n对于动态加载框架来说,如果能把dex文件插入这个数组就能加载自己的类.而对于 热修复框架来说,把 dex 插入这个数组并保证其位置在数组最前就能将问题类替换成修复后的类.\n由于系统没有提供 API 操作 DexPathList 或是 dexElements,需要通过反射从 BaseDexClassLoader 获取 dexPathList,再通过 DexPathList 获取 dexElements,反射 Element 的构造方法创建一个插件的 dexElement,再创建一个新的数组,长度为 dexEments 的长度加上插件 dexElement 的数量,把反射得到的 dexElements 和插件 dexElement对象一并插入数组,最后用新创建的数组替换原来的数组.过程如下图:\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_9.png\" />\n一般在 Application 的 onCreate()或 attachBaseContext()完成数组替换.至此已 经已经完成了热修复的主体.实际运行过程中还有其他问题,当一个类引用另一个类且他们不在同一个 dex中, 系统会抛出异常 Class resolved by unexpected DEX,原因是 从 dexElements查找到需要的 dex并返回 class后系统会对引用者与被引用者的 dex做 校验,当他们不相同时抛出异常.校验方式是如果 A类和 B类在同一个 dex中，那么 A类 就会被打上 CLASS_ISPREVERIFIED标记,A类被打上标记后不能再引用其他 dex中的类 , 否则报错.如果A类还引用了C类,而 C类在其他dex中,那么 A类将不会被打上标记,这 一点被利用来避免 unexpectedDex错误.大部分做法是在所有类的构造函数中都引用一 个空实现的类,将这个类单独打包为一个dex,在应用启动时先加载这个dex.把引用放在 构造函数中是因为构造函数不会导致方法数增加.在所有类中加入引用的工作量很大也 容易出错,可以用 AOP 的编译工具如 AspectJ 在编译源码时加入引用方法,也可以用 JavaAssist插入字节码.\n\n#### 小结\n如上所述,热修复技术的两个流派分别是通过 Native Hook 替换问题函数和通过插 入 Dex替换问题类.\n两个流派都有大规模实际应用,都被证明是稳定的,各有优点也都有不足之处,目前为 止尚未发现十全十美的方法,因此在选型时选择符合当前项目情况和最易使用、能够长 期维护的方案.\nNative 的原理决定了它只能对函数做修改,不能替换资源如布局文件,图片.优点是任 何修复可以立即生效.\nDex 流派能够很好的支持类替换,lib 替换和资源替换,但它的致命缺点是不能即时生 效,加载补丁 dex后必须重启或等待下次开启应用才能生效. \n\n### 主流框架\n两个流派分别选取主流的、具有代表性的,并有实践案例的开源框架作对比.\n\n#### Dexposed\nDexposed是最早开源的热修复SDK, 由阿里巴巴团队基于 Xposed框架实现,还能 用作 AOP编程、插桩、SDKHook,被应用在手机淘宝,天猫,MIUI等应用和系统.属于 Native 流派.\n#### AndFix\nAndFix 是支付宝的开源框架,应用于支付宝等 APP.AndFix 属于 Native 流派,在 Dexposed 基础上做了大量完善,支持 Android2.3-Android7.0 全版本,补丁编写没有 门槛,并提供补丁生成工具.缺点是不支持替换资源,不支持替换 lib,不能新增函数;如果补 丁过多会影响程序运行速度.\n#### Nuwa\nNuwa属 于 Dex流派,是大众点评的一位工程师根据QQ空间团队分享的实现方式做 的. 优点是支持资源,lib 等替换,缺点在于不能实时生效,必须重启应用或下次开启生效.另 外由于所有类都会被打上预加载标记也会造成启动变慢.\n#### Tinker\n微信团队最近开源了 Tinker,我们直接从它的源码入手开始分析. \n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_10.png\" />\n\ndev 分支上是最新的 Tinker1.6.1 版本,从类名可以知道 Tinker 处理了类的加载, 资源的加载以及 so 库的加载.我们的关注点在类加载上,根据经验判断,TinkerLoader 类是类加载模块的入口,因此从该类开始:\n```\n /**\n     * only main process can handle patch version change or incomplete\n     */\n    @Override\n    public Intent tryLoad(TinkerApplication app) {\n        Intent resultIntent = new Intent();\n\n        long begin = SystemClock.elapsedRealtime();\n        tryLoadPatchFilesInternal(app, resultIntent);\n        long cost = SystemClock.elapsedRealtime() - begin;\n        ShareIntentUtil.setIntentPatchCostTime(resultIntent, cost);\n        return resultIntent;\n    }\n```\nTinkerLoader.tryLoad()很明显就是加载 dex 的入口函数,这里微信统计了加载时 间,并进入 tryLoadPatchFilesInternal()方法.这个方法较长,主要是对新旧两个 dex 做 合并,这里截取其中关键的步骤:\n```\n //now we can load patch jar\n        if (isEnabledForDex) {\n            boolean loadTinkerJars = TinkerDexLoader.loadTinkerJars(app, patchVersionDirectory, oatDex, resultIntent, isSystemOTA);\n\n            if (isSystemOTA) {\n                // update fingerprint after load success\n                patchInfo.fingerPrint = Build.FINGERPRINT;\n                patchInfo.oatDir = loadTinkerJars ? ShareConstants.INTERPRET_DEX_OPTIMIZE_PATH : ShareConstants.DEFAULT_DEX_OPTIMIZE_PATH;\n                // reset to false\n                oatModeChanged = false;\n\n                if (!SharePatchInfo.rewritePatchInfoFileWithLock(patchInfoFile, patchInfo, patchInfoLockFile)) {\n                    ShareIntentUtil.setIntentReturnCode(resultIntent, ShareConstants.ERROR_LOAD_PATCH_REWRITE_PATCH_INFO_FAIL);\n                    Log.w(TAG, \"tryLoadPatchFiles:onReWritePatchInfoCorrupted\");\n                    return;\n                }\n                // update oat dir\n                resultIntent.putExtra(ShareIntentUtil.INTENT_PATCH_OAT_DIR, patchInfo.oatDir);\n            }\n            if (!loadTinkerJars) {\n                Log.w(TAG, \"tryLoadPatchFiles:onPatchLoadDexesFail\");\n                return;\n            }\n        }\n```\n做 了 很 多 安 全 校 验 的 机 制 以 保 证 dex 可 用 后 , 调 用 TinkerDexLoader.\nloadTinkerJars()方法.\n```\n @TargetApi(Build.VERSION_CODES.ICE_CREAM_SANDWICH)\n    public static boolean loadTinkerJars(final TinkerApplication application, String directory, String oatDir, Intent intentResult, boolean isSystemOTA) {\n        if (loadDexList.isEmpty() && classNDexInfo.isEmpty()) {\n            Log.w(TAG, \"there is no dex to load\");\n            return true;\n        }\n\n        PathClassLoader classLoader = (PathClassLoader) TinkerDexLoader.class.getClassLoader();\n        if (classLoader != null) {\n            Log.i(TAG, \"classloader: \" + classLoader.toString());\n        } else {\n            Log.e(TAG, \"classloader is null\");\n            ShareIntentUtil.setIntentReturnCode(intentResult, ShareConstants.ERROR_LOAD_PATCH_VERSION_DEX_CLASSLOADER_NULL);\n            return false;\n        }\n        String dexPath = directory + \"/\" + DEX_PATH + \"/\";\n```\nloadTinkerJars()获取 PathClassLoader并读取dex与 dvm优化后的 odex地址,\n```\n // verify merge classN.apk\n        if (isVmArt && !classNDexInfo.isEmpty()) {\n            File classNFile = new File(dexPath + ShareConstants.CLASS_N_APK_NAME);\n            long start = System.currentTimeMillis();\n\n            if (application.isTinkerLoadVerifyFlag()) {\n                for (ShareDexDiffPatchInfo info : classNDexInfo) {\n                    if (!SharePatchFileUtil.verifyDexFileMd5(classNFile, info.rawName, info.destMd5InArt)) {\n                        ShareIntentUtil.setIntentReturnCode(intentResult, ShareConstants.ERROR_LOAD_PATCH_VERSION_DEX_MD5_MISMATCH);\n                        intentResult.putExtra(ShareIntentUtil.INTENT_PATCH_MISMATCH_DEX_PATH,\n                            classNFile.getAbsolutePath());\n                        return false;\n                    }\n                }\n            }\n            Log.i(TAG, \"verify dex file:\" + classNFile.getPath() + \" md5, use time: \" + (System.currentTimeMillis() - start));\n\n            legalFiles.add(classNFile);\n        }\n        File optimizeDir = new File(directory + \"/\" + oatDir);\n```\n接着遍历 dexList,过滤 md5 不符校验不通过的,调用 SystemClassLoaderAdder 的 installDexs()方法.\n```\n @SuppressLint(\"NewApi\")\n    public static void installDexes(Application application, PathClassLoader loader, File dexOptDir, List<File> files)\n        throws Throwable {\n        Log.i(TAG, \"installDexes dexOptDir: \" + dexOptDir.getAbsolutePath() + \", dex size:\" + files.size());\n\n        if (!files.isEmpty()) {\n            files = createSortedAdditionalPathEntries(files);\n            ClassLoader classLoader = loader;\n            if (Build.VERSION.SDK_INT >= 24 && !checkIsProtectedApp(files)) {\n                classLoader = AndroidNClassLoader.inject(loader, application);\n            }\n            //because in dalvik, if inner class is not the same classloader with it wrapper class.\n            //it won't fail at dex2opt\n            if (Build.VERSION.SDK_INT >= 23) {\n                V23.install(classLoader, files, dexOptDir);\n            } else if (Build.VERSION.SDK_INT >= 19) {\n                V19.install(classLoader, files, dexOptDir);\n            } else if (Build.VERSION.SDK_INT >= 14) {\n                V14.install(classLoader, files, dexOptDir);\n            } else {\n                V4.install(classLoader, files, dexOptDir);\n            }\n            //install done\n            sPatchDexCount = files.size();\n            Log.i(TAG, \"after loaded classloader: \" + classLoader + \", dex size:\" + sPatchDexCount);\n\n            if (!checkDexInstall(classLoader)) {\n                //reset patch dex\n                SystemClassLoaderAdder.uninstallPatchDex(classLoader);\n                throw new TinkerRuntimeException(ShareConstants.CHECK_DEX_INSTALL_FAIL);\n            }\n        }\n    }\n```\n可以看到 Tinker 对不同系统版本分开做了处理,这里我们就看使用最广泛的 Android4.4到 Android5.1.\n```\n /**\n     * Installer for platform versions 19.\n     */\n    private static final class V19 {\n\n        private static void install(ClassLoader loader, List<File> additionalClassPathEntries,\n                                    File optimizedDirectory)\n            throws IllegalArgumentException, IllegalAccessException,\n            NoSuchFieldException, InvocationTargetException, NoSuchMethodException, IOException {\n            /* The patched class loader is expected to be a descendant of\n             * dalvik.system.BaseDexClassLoader. We modify its\n             * dalvik.system.DexPathList pathList field to append additional DEX\n             * file entries.\n             */\n            Field pathListField = ShareReflectUtil.findField(loader, \"pathList\");\n            Object dexPathList = pathListField.get(loader);\n            ArrayList<IOException> suppressedExceptions = new ArrayList<IOException>();\n            ShareReflectUtil.expandFieldArray(dexPathList, \"dexElements\", makeDexElements(dexPathList,\n                new ArrayList<File>(additionalClassPathEntries), optimizedDirectory,\n                suppressedExceptions));\n            if (suppressedExceptions.size() > 0) {\n                for (IOException e : suppressedExceptions) {\n                    Log.w(TAG, \"Exception in makeDexElement\", e);\n                    throw e;\n                }\n            }\n        }\n```\nV19.install()中先通过反射获取 BaseDexClassLoader 中的 dexPathList,然后调 用了 ShareReflectUtil.expandFieldArray().值得一提的是微信对异常的处理很细致, 用 List<IOException>接收 dexElements数组中每一个 dex加载抛出的异常而不是笼统 的抛出一个大异常.\n\n接着跟到 shareutil包下的 ShareReflectUtil类,\n```\n/**\n     * Replace the value of a field containing a non null array, by a new array containing the\n     * elements of the original array plus the elements of extraElements.\n     *\n     * @param instance      the instance whose field is to be modified.\n     * @param fieldName     the field to modify.\n     * @param extraElements elements to append at the end of the array.\n     */\n    public static void expandFieldArray(Object instance, String fieldName, Object[] extraElements)\n        throws NoSuchFieldException, IllegalArgumentException, IllegalAccessException {\n        Field jlrField = findField(instance, fieldName);\n\n        Object[] original = (Object[]) jlrField.get(instance);\n        Object[] combined = (Object[]) Array.newInstance(original.getClass().getComponentType(), original.length + extraElements.length);\n\n        // NOTE: changed to copy extraElements first, for patch load first\n\n        System.arraycopy(extraElements, 0, combined, 0, extraElements.length);\n        System.arraycopy(original, 0, combined, extraElements.length, original.length);\n\n        jlrField.set(instance, combined);\n    }\n```\n这里的入参fieldName正是上一步中的” dexElements” ,在这么不起眼的一 个工具类中终于找到了 Dex流派的核心方法\n\n\n和其他Dex流框架的实现几乎一模一样,至此可以看到,虽然微信团队说的天花乱坠, 其本质仍然是用 dexElements中位置靠前的 Dex优先加载类来实现热修复: )\n但传统方法为避免不同dex 中类互相引用而报 unexpectedDEX 错引入了” 插桩 ” 的步骤,给每个类加上一行引用其他类的方法,这样导致第一次加载类时耗时变长.应 用启动时通常会加载大量类,所以对启动时间的影响很可观.Tinker 的亮点是通过全量 替换dex 的方式避免 unexpectedDEX,这样做所有的类自然都在同一个 dex 中.但这会带来补 丁包 dex过大的问题,由此微信自研 DexDiff算法取代传统的 BsDiff极大降低了补丁包 大小,又规避了运行性能问题又减小了补丁包大小,可以说是 Dex流派的一大进步.\n\n#### Robust\n美团的热更新方案Robust借鉴了AndroidStudio2.0版本开始提供的功能Instant Run 的实现,另辟蹊径又比上述两种流派在原理上更简单,但同样也有些难以克服的缺陷.\nRobust在编译阶段给每个类每个函数插入一段代码,例如\n```\npublic long getIndex() { \n    return 100;\n}\n```\n被处理成如下的实现:\n```\npublic static ChangeQuickRedirect changeQuickRedirect; public long getIndex() {\nif(changeQuickRedirect != null) {\n//PatchProxy中封装了获取当前 className和methodName的逻辑，并在其\n//内部最终调用了 changeQuickRedirect 的对应函数\nif(PatchProxy.isSupport(new Object[0], this, changeQuickRedirect, false)) {\nreturn ((Long)PatchProxy.accessDispatch(new Object[0], this, changeQuickRedirect, false)).longValue();\n} }\nreturn 100L; }\n```\n\n每个 class都增加了个类型为 `ChangeQuickRedirect`的静态成员，而在每个方法前 都插入了使用 changeQuickRedirect 相关的逻辑，当 changeQuickRedirect 不为 null 时，可能会执行到 accessDispatch从而替换掉之前老的逻辑，达到 fix的目的。\n如果需将 getIndex 函数的返回值改为 return 106，那么对应生成的 patch，主 要包含两个 class:`PatchesInfoImpl.java`和 `StatePatch.java`。\n\nPatchesInfoImpl.java:\n```\npublic class PatchesInfoImpl implements PatchesInfo { public List<PatchedClassInfo> getPatchedClassesInfo() {\nList<PatchedClassInfo> patchedClassesInfos = new ArrayList<PatchedClassInfo>();\nPatchedClassInfo patchedClass = new PatchedClassInfo(\"com.meituan.sample.d\", StatePatch.class.getCanonicalName());\npatchedClassesInfos.add(patchedClass);\nreturn patchedClassesInfos; }\n}\n```\nStatePatch.java:\n```\npublic class StatePatch implements ChangeQuickRedirect { @Override\npublic Object accessDispatch(String methodSignature, Object[] paramArrayOfObject) { String[] signature = methodSignature.split(\":\");\nif (TextUtils.equals(signature[1], \"a\")) {//long getIndex() -> a\nreturn 106; }\nreturn null; }\n@Override\npublic boolean isSupport(String methodSignature, Object[] paramArrayOfObject) {\nString[] signature = methodSignature.split(\":\");\nif (TextUtils.equals(signature[1], \"a\")) {//long getIndex() -> a\nreturn true; }\nreturn false; }\n}\n```\n客户端拿到含有 PatchesInfoImpl.java和 StatePatch.java的 patch.dex后，用 DexClassLoader加载 patch.dex，反射拿到 PatchesInfoImpl.java这个 class。拿到后， 创建这个 class的一个对象。然后通过这个对象的 getPatchedClassesInfo函数，知道需 要 patch的 class为 com.meituan.sample.d(com.meituan.sample.State混淆后的 名字)，再反射得到当前运行环境中的 com.meituan.sample.d class，将其中的 changeQuickRedirect字段赋值为用 patch.dex中的 StatePatch.java这个 class new出来的对象。这就是打 patch 的主要过程。通过原理分析，其实 Robust 只是在正常的 使用 DexClassLoader，所以可以说这套框架是没有兼容性问题的\n这个实现方式的优点是简单、不涉及底层知识,所以易维护.修复能够立即生效无需重 启.但缺点也很明显,给每个类每个函数都插入一段代码将导致安装包体积大增,同时对运 行性能有影响.","source":"_posts/热修复方案设计文档.md","raw":"---\ntitle: 热修复方案设计文档\ndate: 2018-05-08 12:46:41\ntags:\n- 热修复\n- hook\n- dex\ncategroies:\n- 技术\ntop: 7\nessential: true\nphotos: \n- https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/photos/2018-4-28_孤舟.jpg\n---\n本文主要描述完整可行的热修复技术设计方案,给出客户端与服务器端的相应改造, 并介绍核心实现原理、分析主流框架的优劣势.由于与插件化开发有一定重叠,因此也简单 介绍插件化应用的原理.\n<!-- more -->\n## 整体方案\n\n### 背景\n当应用发布之后，突然发现严重 bug 需要紧急修复.传统做法是修复后打包为新版 本 App, 再通过应用商店发布新版本,缺点是从修复到用户更新的过程非常缓慢,无法解 决紧急问题.\n热修复技术通过线上发布补丁, 客户端自动获取补丁后立即加载,即时生效,可以非 常迅速的修复线上问题.\n### 流程\n本地、服务端、线上版本三方工作时序:\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_1.png\" />\n1) 通过各种途径获知 bug存在\n2) 定位并在本地修复\n3) 制作补丁包\n4) 发布到服务器端\n5) 线上版本收到推送\n6) 下载后加载补丁\n\n### 时序\n\n#### 触发\n分为客户端主动触发与被动触发:\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_2.png\" />\n<img src=\"\" />\n\n#### 加载补丁\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_3.png\" />\n\n### 业务全景\n\n#### 全模块\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_4.png\" />\n\n#### 客户端\n1) 推送模块 PUSH\n接收推送消息,分发补丁操作的指令.\n2) 补丁管理模块 PatchManager\n补丁持久化, 开机自检:管理存储空间,清除临时文件, 维护补丁版本与主程序版本的对应关系, 响应四种推送消息:增、删、改、查: 下 载补丁并加载,\n删除指定补丁,\n删除后重下载, 查询当前补丁数量和版本号.\n3) 安全模块 Secure 校验补丁文件有效性,合法性, 校验文件指纹, 删除非法文件.\n4) 热修复模块 Core 加载补丁.\n5) 全局异常模块 UncaughtException 捕获全局异常,触发补丁自动下载.\n6) 日志模块 Logger 管理日志,\n主动上送运行异常.\n7) 容错模块 ErrorHandler\n校验叠加版本:当前主程序版本+补丁版本 回退机制:删除所有,删除一段时间, 重加载:触发热修复模块重加载.\n\n#### 服务端\n1) 补丁管理平台 PatchPlatform 提供可视化操作界面: 手动上传、下载补丁文件, 发布补丁,触发推送模块, 统计修复成功率, 登录、用户权限.\n2) 补丁管理模块 PatchManager 维护补丁版本与主程序版本对应关系, 配 置补丁属性:版本号,对应主程序版本, 增 删改查.\n3) 推送模块 Push 推送补丁管理的相应指令, 推送日志操作的相应指令.\n4) 日志模块 Logger 主动或被动获取日志, 跟踪设备使用情况.\n\n## 热修复技术\n\n### 实现原理\n实现热修复功能的大方向有两种:NativeHook与替换 Dex.两种流派都各有优缺点, 目前并没有百分之百完美的方案.\n#### Native Hook 方式\n一般情况下,导致 crash 的代码都能最终定位到某一具体的函数, 例如最常见的空\n指针异常:\n```\ncom.tim.patcher E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.tim.patcher, PID: 20275\njava.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String java.lang.String.toString()' on a null object reference\nat com.tim.patcher.MainActivity$1$override.onClick(MainActivity.java:25)\nat android.app.ActivityThread.main(ActivityThread.java:5314) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:693)\n```\n线下修复的做法是通过上述栈信息找到 MainActivity类,修改第 25行的onClick方法, 而后打包发布.\nNative 方式的出发点由此而来,如果能动态的将问题函数替换为需要的函数,使程 序在运行到这一步时不执行原函数而去执行新的函数,就能完成热修复了.示意图如下:\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_5.png\" />\nonClick()是问题函数,onClick_fix()是修复后的函数.执行 dispatch()后绕开 onClick(),转而执行 onClick_fix(),达到修复的目的.关键是用 onClick_fix()替代 onClick()这一步.\n在 native层, java方法在 Dalvik/ART虚拟机中的实现都会由 C++的 ClassObject 和 Method对象表示,ClassObject记录类的属性,Method记录方法字节码的地址. 只要 在虚拟机执行到要修改的方法前通过其所在的 ClassObject 找到对应的 Method,将 Method的指针指向目标方法就能达到” 绕开” 的目的.\n具体来说,在这个例子中先将onClick()标记为native方法,然后就可以在jni中获 取它的 ClassObject,通过 ClassObject获取 Method对象,再把 Method指向 java层的 onClick_fix()方法.\n上述步骤只能替换特定的函数,因为最后一步 Method 指针指向了一个具体的函数. 站在” 造轮子” 的角度上看,实际的使用场景是事先并不能获知目标方法具体是什 么, 因此 Method 指向的目标一定要是可即时改变的.所以在此基础上再进一步,只需要 将指向具体的修复后函数改为指向一个 api 钩子,实现它的回调,就能适用于实际使用场 景, 替换任何待定的函数.\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_6.png\" />\n#### Dex 合并方式\nDex合并的方式来源于MultiDex还未发布时,为解决方法数限制2^16这一问题而 诞生的 Dex 分包方案.Dex 分包实现了动态加载,动态加载是插件化开发的基础,插件技术 后来引申出了这一类热修复方式.\n一般来说,插件化是通过动态加载技术实现的,对插件框架稍加改造就可以实现热 修复,因此先简单介绍 Dex分包和插件技术.\n##### Dex分包\n谷歌为了优化安卓应用的运行性能,提出了数据结构和效率比 jar 更好的 dex 格式 .dex 类似于 jar,是一种储存字节码的归档文件.系统启动应用时会先对首次加载的 dex做优化,称为 DexOpt,它会生成一个 Optimised Dex文件.ODex会把应用中所有方 法的 id存储在链表中,但谷歌在这里犯了一个错误,用 short类型保存了这个链表的长度, 导致长度不能超过 short类型最大值 2^16.这就是方法数不能超过 65535的由来.Dex分 包通过将一个应用的 dex拆分成多个来规避这个问题.\n##### 插件技术\n在 Java工程中可以很方便的把 class文件放到jar中直接实现动态加载,但安卓系统 并不支持这样做,因为 jvm执行 class文件而 dvm执行 dex文件.安卓虚拟机不能识别 java的字节码,要将 class转换成 dex文件才能识别,所以拆分的最小单位是 dex.\n插件技术的关键在于如何动态加载多个 dex.加载插件的过程可以分解为加载代码 (.java)和加载资源(R resource),资源的加载和热修复无关,因此这里只介绍加载类的方 法.\nJava中用 ClassLoader加载 jar,Android也有自己的 ClassLoader体系,通过这个 体系完成类的加载.如图所示:\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_7.png\"/>\n\nDexClassLoader和 PathClassLoader是 BaseDexClassLoader的两种实现,他们都能 使被加载的类可以正常识别.两者的区别是 DexClassLoader 可以加载文件系统上的 jar,dex以及 apk,而 PathClassLoader需要提供固定的文件路径(比如\n/data/app/com.bill99.ian.patcher/base-1.apk ),只能加载已安装到/data/app 下的应用. 在 Application 中系统分配了两种加载方式,安卓系统应用使用 DexClassLoader而非系统应用使用 PathClassLoader加载.\n插件架构有自己重写 ClassLoader的方案也有直接使用 DexClassLoader让系统 帮助加载的方案.而使用 DexClassLoader的方案与合并 Dex完成热修复的方法非常接 近, 因此下面讨论通过 DexClassLoader加载类的方案.\nDexClassLoader提供了 loadClass()方法进行类的加载 .loadClass()调用 BaseDexClassLoader中的 findClass(),findClass()根据类名查找到 dex中的 class文件 :\n```\n@Override\nprotected Class<?> findClass (String name) throws ClassNotFoundException {\nList<Throwable> suppressedExceptions = new ArrayList<Throwable>(); Class c = pathList.findClass(name, suppressedExceptions);\nif (c == null) {\nClassNotFoundException cnfe = new ClassNotFoundException(\"Didn't find class \\\"\" + name + \"\\\" on path: \" + pathList);\nfor (Throwable t : suppressedExceptions) { cnfe.addSuppressed(t);\n}\nthrow cnfe; }\nreturn c; }\n```\n源码中, findClass()实际上调用了 pathList 的 findClass(),pathList 是在 BaseDexClassLoader中创建的 DexPathList对象的实例,DexPathList中 findClass() 代码如下:\n```\npublic Class findClass(String name, List<Throwable> suppressed) { for (Element element : dexElements) {\nDexFile dex = element.dexFile; if (dex != null) {\nClass clazz = dex.loadClassBinaryName(name, definingContext, suppressed);\nif (clazz != null) { return clazz;\n} }\n}\nif (dexElementsSuppressedExceptions != null) {\nsuppressed.addAll(Arrays.asList(dexElementsSuppressedExceptions)); }\nreturn null; }\n```\n其实就是遍历 dexElements,调用每个元素的 dexFile对象的 loadClassBinaryName\n方法.其中 dexElement在 DexPathList中创建:\n```\n this.dexElements = makeDexElements(splitDexPath(dexPath), optimizedDirectory, suppressedExceptions);\n```\nmakeDexElements最终会调用 dvm对 dex文件进行优化和映射,完成类加载.\n仅仅加载类文件是不够的,Activity,Service 等组件原来由 AMS 管理生命周期,单纯 的加载 Activity 等类后他们也没有了组件的特殊性,和普通的类没有任何区别.有一种解 决方法是通过在接口中定义各种生命周期方法,由插件的 Activity 实现接口,然后在主程 序中调用接口,人工的制造出生命周期.\n##### Dex替换\n插件动态加载的核心是通过ClassLoader加载多个不同的dex,每个dex中类的完整 路径不允许重复,否则会导致不同 dex之间的类加载错乱.而合并 Dex的热修复方式反其 道而行之,它加载一个命名空间和主程序重复的dex.\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_8.png\" />\n上图是DexClassLoader加载类的流程,关键是DexPathList中的dexElements数组. ClassLoader 会遍历数组中的 dex,从中找到与要加载的类名对应的 dex,加载完成后返 回 class文件.根据流程图能够得出热修复的关键线索:如果有两个 dex同时能够加载这个 类,也就是两个dex具有重复全路径的类,那么 ClassLoader会调用 dexElements数组中 排在前列的 dex去加载这个类,加载完成后立即返回,顺序排在其后的 dex不会被访问到.\n对于动态加载框架来说,如果能把dex文件插入这个数组就能加载自己的类.而对于 热修复框架来说,把 dex 插入这个数组并保证其位置在数组最前就能将问题类替换成修复后的类.\n由于系统没有提供 API 操作 DexPathList 或是 dexElements,需要通过反射从 BaseDexClassLoader 获取 dexPathList,再通过 DexPathList 获取 dexElements,反射 Element 的构造方法创建一个插件的 dexElement,再创建一个新的数组,长度为 dexEments 的长度加上插件 dexElement 的数量,把反射得到的 dexElements 和插件 dexElement对象一并插入数组,最后用新创建的数组替换原来的数组.过程如下图:\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_9.png\" />\n一般在 Application 的 onCreate()或 attachBaseContext()完成数组替换.至此已 经已经完成了热修复的主体.实际运行过程中还有其他问题,当一个类引用另一个类且他们不在同一个 dex中, 系统会抛出异常 Class resolved by unexpected DEX,原因是 从 dexElements查找到需要的 dex并返回 class后系统会对引用者与被引用者的 dex做 校验,当他们不相同时抛出异常.校验方式是如果 A类和 B类在同一个 dex中，那么 A类 就会被打上 CLASS_ISPREVERIFIED标记,A类被打上标记后不能再引用其他 dex中的类 , 否则报错.如果A类还引用了C类,而 C类在其他dex中,那么 A类将不会被打上标记,这 一点被利用来避免 unexpectedDex错误.大部分做法是在所有类的构造函数中都引用一 个空实现的类,将这个类单独打包为一个dex,在应用启动时先加载这个dex.把引用放在 构造函数中是因为构造函数不会导致方法数增加.在所有类中加入引用的工作量很大也 容易出错,可以用 AOP 的编译工具如 AspectJ 在编译源码时加入引用方法,也可以用 JavaAssist插入字节码.\n\n#### 小结\n如上所述,热修复技术的两个流派分别是通过 Native Hook 替换问题函数和通过插 入 Dex替换问题类.\n两个流派都有大规模实际应用,都被证明是稳定的,各有优点也都有不足之处,目前为 止尚未发现十全十美的方法,因此在选型时选择符合当前项目情况和最易使用、能够长 期维护的方案.\nNative 的原理决定了它只能对函数做修改,不能替换资源如布局文件,图片.优点是任 何修复可以立即生效.\nDex 流派能够很好的支持类替换,lib 替换和资源替换,但它的致命缺点是不能即时生 效,加载补丁 dex后必须重启或等待下次开启应用才能生效. \n\n### 主流框架\n两个流派分别选取主流的、具有代表性的,并有实践案例的开源框架作对比.\n\n#### Dexposed\nDexposed是最早开源的热修复SDK, 由阿里巴巴团队基于 Xposed框架实现,还能 用作 AOP编程、插桩、SDKHook,被应用在手机淘宝,天猫,MIUI等应用和系统.属于 Native 流派.\n#### AndFix\nAndFix 是支付宝的开源框架,应用于支付宝等 APP.AndFix 属于 Native 流派,在 Dexposed 基础上做了大量完善,支持 Android2.3-Android7.0 全版本,补丁编写没有 门槛,并提供补丁生成工具.缺点是不支持替换资源,不支持替换 lib,不能新增函数;如果补 丁过多会影响程序运行速度.\n#### Nuwa\nNuwa属 于 Dex流派,是大众点评的一位工程师根据QQ空间团队分享的实现方式做 的. 优点是支持资源,lib 等替换,缺点在于不能实时生效,必须重启应用或下次开启生效.另 外由于所有类都会被打上预加载标记也会造成启动变慢.\n#### Tinker\n微信团队最近开源了 Tinker,我们直接从它的源码入手开始分析. \n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_10.png\" />\n\ndev 分支上是最新的 Tinker1.6.1 版本,从类名可以知道 Tinker 处理了类的加载, 资源的加载以及 so 库的加载.我们的关注点在类加载上,根据经验判断,TinkerLoader 类是类加载模块的入口,因此从该类开始:\n```\n /**\n     * only main process can handle patch version change or incomplete\n     */\n    @Override\n    public Intent tryLoad(TinkerApplication app) {\n        Intent resultIntent = new Intent();\n\n        long begin = SystemClock.elapsedRealtime();\n        tryLoadPatchFilesInternal(app, resultIntent);\n        long cost = SystemClock.elapsedRealtime() - begin;\n        ShareIntentUtil.setIntentPatchCostTime(resultIntent, cost);\n        return resultIntent;\n    }\n```\nTinkerLoader.tryLoad()很明显就是加载 dex 的入口函数,这里微信统计了加载时 间,并进入 tryLoadPatchFilesInternal()方法.这个方法较长,主要是对新旧两个 dex 做 合并,这里截取其中关键的步骤:\n```\n //now we can load patch jar\n        if (isEnabledForDex) {\n            boolean loadTinkerJars = TinkerDexLoader.loadTinkerJars(app, patchVersionDirectory, oatDex, resultIntent, isSystemOTA);\n\n            if (isSystemOTA) {\n                // update fingerprint after load success\n                patchInfo.fingerPrint = Build.FINGERPRINT;\n                patchInfo.oatDir = loadTinkerJars ? ShareConstants.INTERPRET_DEX_OPTIMIZE_PATH : ShareConstants.DEFAULT_DEX_OPTIMIZE_PATH;\n                // reset to false\n                oatModeChanged = false;\n\n                if (!SharePatchInfo.rewritePatchInfoFileWithLock(patchInfoFile, patchInfo, patchInfoLockFile)) {\n                    ShareIntentUtil.setIntentReturnCode(resultIntent, ShareConstants.ERROR_LOAD_PATCH_REWRITE_PATCH_INFO_FAIL);\n                    Log.w(TAG, \"tryLoadPatchFiles:onReWritePatchInfoCorrupted\");\n                    return;\n                }\n                // update oat dir\n                resultIntent.putExtra(ShareIntentUtil.INTENT_PATCH_OAT_DIR, patchInfo.oatDir);\n            }\n            if (!loadTinkerJars) {\n                Log.w(TAG, \"tryLoadPatchFiles:onPatchLoadDexesFail\");\n                return;\n            }\n        }\n```\n做 了 很 多 安 全 校 验 的 机 制 以 保 证 dex 可 用 后 , 调 用 TinkerDexLoader.\nloadTinkerJars()方法.\n```\n @TargetApi(Build.VERSION_CODES.ICE_CREAM_SANDWICH)\n    public static boolean loadTinkerJars(final TinkerApplication application, String directory, String oatDir, Intent intentResult, boolean isSystemOTA) {\n        if (loadDexList.isEmpty() && classNDexInfo.isEmpty()) {\n            Log.w(TAG, \"there is no dex to load\");\n            return true;\n        }\n\n        PathClassLoader classLoader = (PathClassLoader) TinkerDexLoader.class.getClassLoader();\n        if (classLoader != null) {\n            Log.i(TAG, \"classloader: \" + classLoader.toString());\n        } else {\n            Log.e(TAG, \"classloader is null\");\n            ShareIntentUtil.setIntentReturnCode(intentResult, ShareConstants.ERROR_LOAD_PATCH_VERSION_DEX_CLASSLOADER_NULL);\n            return false;\n        }\n        String dexPath = directory + \"/\" + DEX_PATH + \"/\";\n```\nloadTinkerJars()获取 PathClassLoader并读取dex与 dvm优化后的 odex地址,\n```\n // verify merge classN.apk\n        if (isVmArt && !classNDexInfo.isEmpty()) {\n            File classNFile = new File(dexPath + ShareConstants.CLASS_N_APK_NAME);\n            long start = System.currentTimeMillis();\n\n            if (application.isTinkerLoadVerifyFlag()) {\n                for (ShareDexDiffPatchInfo info : classNDexInfo) {\n                    if (!SharePatchFileUtil.verifyDexFileMd5(classNFile, info.rawName, info.destMd5InArt)) {\n                        ShareIntentUtil.setIntentReturnCode(intentResult, ShareConstants.ERROR_LOAD_PATCH_VERSION_DEX_MD5_MISMATCH);\n                        intentResult.putExtra(ShareIntentUtil.INTENT_PATCH_MISMATCH_DEX_PATH,\n                            classNFile.getAbsolutePath());\n                        return false;\n                    }\n                }\n            }\n            Log.i(TAG, \"verify dex file:\" + classNFile.getPath() + \" md5, use time: \" + (System.currentTimeMillis() - start));\n\n            legalFiles.add(classNFile);\n        }\n        File optimizeDir = new File(directory + \"/\" + oatDir);\n```\n接着遍历 dexList,过滤 md5 不符校验不通过的,调用 SystemClassLoaderAdder 的 installDexs()方法.\n```\n @SuppressLint(\"NewApi\")\n    public static void installDexes(Application application, PathClassLoader loader, File dexOptDir, List<File> files)\n        throws Throwable {\n        Log.i(TAG, \"installDexes dexOptDir: \" + dexOptDir.getAbsolutePath() + \", dex size:\" + files.size());\n\n        if (!files.isEmpty()) {\n            files = createSortedAdditionalPathEntries(files);\n            ClassLoader classLoader = loader;\n            if (Build.VERSION.SDK_INT >= 24 && !checkIsProtectedApp(files)) {\n                classLoader = AndroidNClassLoader.inject(loader, application);\n            }\n            //because in dalvik, if inner class is not the same classloader with it wrapper class.\n            //it won't fail at dex2opt\n            if (Build.VERSION.SDK_INT >= 23) {\n                V23.install(classLoader, files, dexOptDir);\n            } else if (Build.VERSION.SDK_INT >= 19) {\n                V19.install(classLoader, files, dexOptDir);\n            } else if (Build.VERSION.SDK_INT >= 14) {\n                V14.install(classLoader, files, dexOptDir);\n            } else {\n                V4.install(classLoader, files, dexOptDir);\n            }\n            //install done\n            sPatchDexCount = files.size();\n            Log.i(TAG, \"after loaded classloader: \" + classLoader + \", dex size:\" + sPatchDexCount);\n\n            if (!checkDexInstall(classLoader)) {\n                //reset patch dex\n                SystemClassLoaderAdder.uninstallPatchDex(classLoader);\n                throw new TinkerRuntimeException(ShareConstants.CHECK_DEX_INSTALL_FAIL);\n            }\n        }\n    }\n```\n可以看到 Tinker 对不同系统版本分开做了处理,这里我们就看使用最广泛的 Android4.4到 Android5.1.\n```\n /**\n     * Installer for platform versions 19.\n     */\n    private static final class V19 {\n\n        private static void install(ClassLoader loader, List<File> additionalClassPathEntries,\n                                    File optimizedDirectory)\n            throws IllegalArgumentException, IllegalAccessException,\n            NoSuchFieldException, InvocationTargetException, NoSuchMethodException, IOException {\n            /* The patched class loader is expected to be a descendant of\n             * dalvik.system.BaseDexClassLoader. We modify its\n             * dalvik.system.DexPathList pathList field to append additional DEX\n             * file entries.\n             */\n            Field pathListField = ShareReflectUtil.findField(loader, \"pathList\");\n            Object dexPathList = pathListField.get(loader);\n            ArrayList<IOException> suppressedExceptions = new ArrayList<IOException>();\n            ShareReflectUtil.expandFieldArray(dexPathList, \"dexElements\", makeDexElements(dexPathList,\n                new ArrayList<File>(additionalClassPathEntries), optimizedDirectory,\n                suppressedExceptions));\n            if (suppressedExceptions.size() > 0) {\n                for (IOException e : suppressedExceptions) {\n                    Log.w(TAG, \"Exception in makeDexElement\", e);\n                    throw e;\n                }\n            }\n        }\n```\nV19.install()中先通过反射获取 BaseDexClassLoader 中的 dexPathList,然后调 用了 ShareReflectUtil.expandFieldArray().值得一提的是微信对异常的处理很细致, 用 List<IOException>接收 dexElements数组中每一个 dex加载抛出的异常而不是笼统 的抛出一个大异常.\n\n接着跟到 shareutil包下的 ShareReflectUtil类,\n```\n/**\n     * Replace the value of a field containing a non null array, by a new array containing the\n     * elements of the original array plus the elements of extraElements.\n     *\n     * @param instance      the instance whose field is to be modified.\n     * @param fieldName     the field to modify.\n     * @param extraElements elements to append at the end of the array.\n     */\n    public static void expandFieldArray(Object instance, String fieldName, Object[] extraElements)\n        throws NoSuchFieldException, IllegalArgumentException, IllegalAccessException {\n        Field jlrField = findField(instance, fieldName);\n\n        Object[] original = (Object[]) jlrField.get(instance);\n        Object[] combined = (Object[]) Array.newInstance(original.getClass().getComponentType(), original.length + extraElements.length);\n\n        // NOTE: changed to copy extraElements first, for patch load first\n\n        System.arraycopy(extraElements, 0, combined, 0, extraElements.length);\n        System.arraycopy(original, 0, combined, extraElements.length, original.length);\n\n        jlrField.set(instance, combined);\n    }\n```\n这里的入参fieldName正是上一步中的” dexElements” ,在这么不起眼的一 个工具类中终于找到了 Dex流派的核心方法\n\n\n和其他Dex流框架的实现几乎一模一样,至此可以看到,虽然微信团队说的天花乱坠, 其本质仍然是用 dexElements中位置靠前的 Dex优先加载类来实现热修复: )\n但传统方法为避免不同dex 中类互相引用而报 unexpectedDEX 错引入了” 插桩 ” 的步骤,给每个类加上一行引用其他类的方法,这样导致第一次加载类时耗时变长.应 用启动时通常会加载大量类,所以对启动时间的影响很可观.Tinker 的亮点是通过全量 替换dex 的方式避免 unexpectedDEX,这样做所有的类自然都在同一个 dex 中.但这会带来补 丁包 dex过大的问题,由此微信自研 DexDiff算法取代传统的 BsDiff极大降低了补丁包 大小,又规避了运行性能问题又减小了补丁包大小,可以说是 Dex流派的一大进步.\n\n#### Robust\n美团的热更新方案Robust借鉴了AndroidStudio2.0版本开始提供的功能Instant Run 的实现,另辟蹊径又比上述两种流派在原理上更简单,但同样也有些难以克服的缺陷.\nRobust在编译阶段给每个类每个函数插入一段代码,例如\n```\npublic long getIndex() { \n    return 100;\n}\n```\n被处理成如下的实现:\n```\npublic static ChangeQuickRedirect changeQuickRedirect; public long getIndex() {\nif(changeQuickRedirect != null) {\n//PatchProxy中封装了获取当前 className和methodName的逻辑，并在其\n//内部最终调用了 changeQuickRedirect 的对应函数\nif(PatchProxy.isSupport(new Object[0], this, changeQuickRedirect, false)) {\nreturn ((Long)PatchProxy.accessDispatch(new Object[0], this, changeQuickRedirect, false)).longValue();\n} }\nreturn 100L; }\n```\n\n每个 class都增加了个类型为 `ChangeQuickRedirect`的静态成员，而在每个方法前 都插入了使用 changeQuickRedirect 相关的逻辑，当 changeQuickRedirect 不为 null 时，可能会执行到 accessDispatch从而替换掉之前老的逻辑，达到 fix的目的。\n如果需将 getIndex 函数的返回值改为 return 106，那么对应生成的 patch，主 要包含两个 class:`PatchesInfoImpl.java`和 `StatePatch.java`。\n\nPatchesInfoImpl.java:\n```\npublic class PatchesInfoImpl implements PatchesInfo { public List<PatchedClassInfo> getPatchedClassesInfo() {\nList<PatchedClassInfo> patchedClassesInfos = new ArrayList<PatchedClassInfo>();\nPatchedClassInfo patchedClass = new PatchedClassInfo(\"com.meituan.sample.d\", StatePatch.class.getCanonicalName());\npatchedClassesInfos.add(patchedClass);\nreturn patchedClassesInfos; }\n}\n```\nStatePatch.java:\n```\npublic class StatePatch implements ChangeQuickRedirect { @Override\npublic Object accessDispatch(String methodSignature, Object[] paramArrayOfObject) { String[] signature = methodSignature.split(\":\");\nif (TextUtils.equals(signature[1], \"a\")) {//long getIndex() -> a\nreturn 106; }\nreturn null; }\n@Override\npublic boolean isSupport(String methodSignature, Object[] paramArrayOfObject) {\nString[] signature = methodSignature.split(\":\");\nif (TextUtils.equals(signature[1], \"a\")) {//long getIndex() -> a\nreturn true; }\nreturn false; }\n}\n```\n客户端拿到含有 PatchesInfoImpl.java和 StatePatch.java的 patch.dex后，用 DexClassLoader加载 patch.dex，反射拿到 PatchesInfoImpl.java这个 class。拿到后， 创建这个 class的一个对象。然后通过这个对象的 getPatchedClassesInfo函数，知道需 要 patch的 class为 com.meituan.sample.d(com.meituan.sample.State混淆后的 名字)，再反射得到当前运行环境中的 com.meituan.sample.d class，将其中的 changeQuickRedirect字段赋值为用 patch.dex中的 StatePatch.java这个 class new出来的对象。这就是打 patch 的主要过程。通过原理分析，其实 Robust 只是在正常的 使用 DexClassLoader，所以可以说这套框架是没有兼容性问题的\n这个实现方式的优点是简单、不涉及底层知识,所以易维护.修复能够立即生效无需重 启.但缺点也很明显,给每个类每个函数都插入一段代码将导致安装包体积大增,同时对运 行性能有影响.","slug":"热修复方案设计文档","published":1,"updated":"2018-05-08T05:52:31.949Z","comments":1,"layout":"post","link":"","_id":"cjhio9now00296bfyutad8mjn","content":"<p>本文主要描述完整可行的热修复技术设计方案,给出客户端与服务器端的相应改造, 并介绍核心实现原理、分析主流框架的优劣势.由于与插件化开发有一定重叠,因此也简单 介绍插件化应用的原理.<br><a id=\"more\"></a></p>\n<h2 id=\"整体方案\"><a href=\"#整体方案\" class=\"headerlink\" title=\"整体方案\"></a>整体方案</h2><h3 id=\"背景\"><a href=\"#背景\" class=\"headerlink\" title=\"背景\"></a>背景</h3><p>当应用发布之后，突然发现严重 bug 需要紧急修复.传统做法是修复后打包为新版 本 App, 再通过应用商店发布新版本,缺点是从修复到用户更新的过程非常缓慢,无法解 决紧急问题.<br>热修复技术通过线上发布补丁, 客户端自动获取补丁后立即加载,即时生效,可以非 常迅速的修复线上问题.</p>\n<h3 id=\"流程\"><a href=\"#流程\" class=\"headerlink\" title=\"流程\"></a>流程</h3><p>本地、服务端、线上版本三方工作时序:<br><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_1.png\"><br>1) 通过各种途径获知 bug存在<br>2) 定位并在本地修复<br>3) 制作补丁包<br>4) 发布到服务器端<br>5) 线上版本收到推送<br>6) 下载后加载补丁</p>\n<h3 id=\"时序\"><a href=\"#时序\" class=\"headerlink\" title=\"时序\"></a>时序</h3><h4 id=\"触发\"><a href=\"#触发\" class=\"headerlink\" title=\"触发\"></a>触发</h4><p>分为客户端主动触发与被动触发:<br><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_2.png\"><br><img src=\"\"></p>\n<h4 id=\"加载补丁\"><a href=\"#加载补丁\" class=\"headerlink\" title=\"加载补丁\"></a>加载补丁</h4><p><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_3.png\"></p>\n<h3 id=\"业务全景\"><a href=\"#业务全景\" class=\"headerlink\" title=\"业务全景\"></a>业务全景</h3><h4 id=\"全模块\"><a href=\"#全模块\" class=\"headerlink\" title=\"全模块\"></a>全模块</h4><p><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_4.png\"></p>\n<h4 id=\"客户端\"><a href=\"#客户端\" class=\"headerlink\" title=\"客户端\"></a>客户端</h4><p>1) 推送模块 PUSH<br>接收推送消息,分发补丁操作的指令.<br>2) 补丁管理模块 PatchManager<br>补丁持久化, 开机自检:管理存储空间,清除临时文件, 维护补丁版本与主程序版本的对应关系, 响应四种推送消息:增、删、改、查: 下 载补丁并加载,<br>删除指定补丁,<br>删除后重下载, 查询当前补丁数量和版本号.<br>3) 安全模块 Secure 校验补丁文件有效性,合法性, 校验文件指纹, 删除非法文件.<br>4) 热修复模块 Core 加载补丁.<br>5) 全局异常模块 UncaughtException 捕获全局异常,触发补丁自动下载.<br>6) 日志模块 Logger 管理日志,<br>主动上送运行异常.<br>7) 容错模块 ErrorHandler<br>校验叠加版本:当前主程序版本+补丁版本 回退机制:删除所有,删除一段时间, 重加载:触发热修复模块重加载.</p>\n<h4 id=\"服务端\"><a href=\"#服务端\" class=\"headerlink\" title=\"服务端\"></a>服务端</h4><p>1) 补丁管理平台 PatchPlatform 提供可视化操作界面: 手动上传、下载补丁文件, 发布补丁,触发推送模块, 统计修复成功率, 登录、用户权限.<br>2) 补丁管理模块 PatchManager 维护补丁版本与主程序版本对应关系, 配 置补丁属性:版本号,对应主程序版本, 增 删改查.<br>3) 推送模块 Push 推送补丁管理的相应指令, 推送日志操作的相应指令.<br>4) 日志模块 Logger 主动或被动获取日志, 跟踪设备使用情况.</p>\n<h2 id=\"热修复技术\"><a href=\"#热修复技术\" class=\"headerlink\" title=\"热修复技术\"></a>热修复技术</h2><h3 id=\"实现原理\"><a href=\"#实现原理\" class=\"headerlink\" title=\"实现原理\"></a>实现原理</h3><p>实现热修复功能的大方向有两种:NativeHook与替换 Dex.两种流派都各有优缺点, 目前并没有百分之百完美的方案.</p>\n<h4 id=\"Native-Hook-方式\"><a href=\"#Native-Hook-方式\" class=\"headerlink\" title=\"Native Hook 方式\"></a>Native Hook 方式</h4><p>一般情况下,导致 crash 的代码都能最终定位到某一具体的函数, 例如最常见的空<br>指针异常:<br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">com<span class=\"selector-class\">.tim</span><span class=\"selector-class\">.patcher</span> E/AndroidRuntime: FATAL EXCEPTION: main</span><br><span class=\"line\">Process: com<span class=\"selector-class\">.tim</span><span class=\"selector-class\">.patcher</span>, PID: <span class=\"number\">20275</span></span><br><span class=\"line\">java<span class=\"selector-class\">.lang</span><span class=\"selector-class\">.NullPointerException</span>: Attempt to invoke virtual method <span class=\"string\">'java.lang.String java.lang.String.toString()'</span> on <span class=\"selector-tag\">a</span> null <span class=\"selector-tag\">object</span> reference</span><br><span class=\"line\">at com<span class=\"selector-class\">.tim</span><span class=\"selector-class\">.patcher</span><span class=\"selector-class\">.MainActivity</span>$<span class=\"number\">1</span><span class=\"variable\">$override</span>.onClick(MainActivity<span class=\"selector-class\">.java</span>:<span class=\"number\">25</span>)</span><br><span class=\"line\">at android<span class=\"selector-class\">.app</span><span class=\"selector-class\">.ActivityThread</span><span class=\"selector-class\">.main</span>(ActivityThread<span class=\"selector-class\">.java</span>:<span class=\"number\">5314</span>) at com<span class=\"selector-class\">.android</span><span class=\"selector-class\">.internal</span><span class=\"selector-class\">.os</span><span class=\"selector-class\">.ZygoteInit</span><span class=\"selector-class\">.main</span>(ZygoteInit<span class=\"selector-class\">.java</span>:<span class=\"number\">693</span>)</span><br></pre></td></tr></table></figure></p>\n<p>线下修复的做法是通过上述栈信息找到 MainActivity类,修改第 25行的onClick方法, 而后打包发布.<br>Native 方式的出发点由此而来,如果能动态的将问题函数替换为需要的函数,使程 序在运行到这一步时不执行原函数而去执行新的函数,就能完成热修复了.示意图如下:<br><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_5.png\"><br>onClick()是问题函数,onClick_fix()是修复后的函数.执行 dispatch()后绕开 onClick(),转而执行 onClick_fix(),达到修复的目的.关键是用 onClick_fix()替代 onClick()这一步.<br>在 native层, java方法在 Dalvik/ART虚拟机中的实现都会由 C++的 ClassObject 和 Method对象表示,ClassObject记录类的属性,Method记录方法字节码的地址. 只要 在虚拟机执行到要修改的方法前通过其所在的 ClassObject 找到对应的 Method,将 Method的指针指向目标方法就能达到” 绕开” 的目的.<br>具体来说,在这个例子中先将onClick()标记为native方法,然后就可以在jni中获 取它的 ClassObject,通过 ClassObject获取 Method对象,再把 Method指向 java层的 onClick_fix()方法.<br>上述步骤只能替换特定的函数,因为最后一步 Method 指针指向了一个具体的函数. 站在” 造轮子” 的角度上看,实际的使用场景是事先并不能获知目标方法具体是什 么, 因此 Method 指向的目标一定要是可即时改变的.所以在此基础上再进一步,只需要 将指向具体的修复后函数改为指向一个 api 钩子,实现它的回调,就能适用于实际使用场 景, 替换任何待定的函数.<br><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_6.png\"></p>\n<h4 id=\"Dex-合并方式\"><a href=\"#Dex-合并方式\" class=\"headerlink\" title=\"Dex 合并方式\"></a>Dex 合并方式</h4><p>Dex合并的方式来源于MultiDex还未发布时,为解决方法数限制2^16这一问题而 诞生的 Dex 分包方案.Dex 分包实现了动态加载,动态加载是插件化开发的基础,插件技术 后来引申出了这一类热修复方式.<br>一般来说,插件化是通过动态加载技术实现的,对插件框架稍加改造就可以实现热 修复,因此先简单介绍 Dex分包和插件技术.</p>\n<h5 id=\"Dex分包\"><a href=\"#Dex分包\" class=\"headerlink\" title=\"Dex分包\"></a>Dex分包</h5><p>谷歌为了优化安卓应用的运行性能,提出了数据结构和效率比 jar 更好的 dex 格式 .dex 类似于 jar,是一种储存字节码的归档文件.系统启动应用时会先对首次加载的 dex做优化,称为 DexOpt,它会生成一个 Optimised Dex文件.ODex会把应用中所有方 法的 id存储在链表中,但谷歌在这里犯了一个错误,用 short类型保存了这个链表的长度, 导致长度不能超过 short类型最大值 2^16.这就是方法数不能超过 65535的由来.Dex分 包通过将一个应用的 dex拆分成多个来规避这个问题.</p>\n<h5 id=\"插件技术\"><a href=\"#插件技术\" class=\"headerlink\" title=\"插件技术\"></a>插件技术</h5><p>在 Java工程中可以很方便的把 class文件放到jar中直接实现动态加载,但安卓系统 并不支持这样做,因为 jvm执行 class文件而 dvm执行 dex文件.安卓虚拟机不能识别 java的字节码,要将 class转换成 dex文件才能识别,所以拆分的最小单位是 dex.<br>插件技术的关键在于如何动态加载多个 dex.加载插件的过程可以分解为加载代码 (.java)和加载资源(R resource),资源的加载和热修复无关,因此这里只介绍加载类的方 法.<br>Java中用 ClassLoader加载 jar,Android也有自己的 ClassLoader体系,通过这个 体系完成类的加载.如图所示:<br><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_7.png\"></p>\n<p>DexClassLoader和 PathClassLoader是 BaseDexClassLoader的两种实现,他们都能 使被加载的类可以正常识别.两者的区别是 DexClassLoader 可以加载文件系统上的 jar,dex以及 apk,而 PathClassLoader需要提供固定的文件路径(比如<br>/data/app/com.bill99.ian.patcher/base-1.apk ),只能加载已安装到/data/app 下的应用. 在 Application 中系统分配了两种加载方式,安卓系统应用使用 DexClassLoader而非系统应用使用 PathClassLoader加载.<br>插件架构有自己重写 ClassLoader的方案也有直接使用 DexClassLoader让系统 帮助加载的方案.而使用 DexClassLoader的方案与合并 Dex完成热修复的方法非常接 近, 因此下面讨论通过 DexClassLoader加载类的方案.<br>DexClassLoader提供了 loadClass()方法进行类的加载 .loadClass()调用 BaseDexClassLoader中的 findClass(),findClass()根据类名查找到 dex中的 class文件 :<br><figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Override</span><br><span class=\"line\"><span class=\"keyword\">protected</span> <span class=\"keyword\">Class</span>&lt;?&gt; findClass (String name) <span class=\"keyword\">throws</span> ClassNotFoundException &#123;</span><br><span class=\"line\">List&lt;Throwable&gt; suppressedExceptions = <span class=\"keyword\">new</span> ArrayList&lt;Throwable&gt;(); <span class=\"keyword\">Class</span> c = pathList.findClass(name, suppressedExceptions);</span><br><span class=\"line\"><span class=\"keyword\">if</span> (c == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">ClassNotFoundException cnfe = <span class=\"keyword\">new</span> ClassNotFoundException(<span class=\"string\">\"Didn't find class \\\"\"</span> + name + <span class=\"string\">\"\\\" on path: \"</span> + pathList);</span><br><span class=\"line\"><span class=\"keyword\">for</span> (Throwable t : suppressedExceptions) &#123; cnfe.addSuppressed(t);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">throw</span> cnfe; &#125;</span><br><span class=\"line\"><span class=\"keyword\">return</span> c; &#125;</span><br></pre></td></tr></table></figure></p>\n<p>源码中, findClass()实际上调用了 pathList 的 findClass(),pathList 是在 BaseDexClassLoader中创建的 DexPathList对象的实例,DexPathList中 findClass() 代码如下:<br><figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">Class</span> findClass(String name, List&lt;Throwable&gt; suppressed) &#123; <span class=\"keyword\">for</span> (Element element : dexElements) &#123;</span><br><span class=\"line\">DexFile dex = element.dexFile; <span class=\"keyword\">if</span> (dex != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\"><span class=\"keyword\">Class</span> clazz = dex.loadClassBinaryName(name, definingContext, suppressed);</span><br><span class=\"line\"><span class=\"keyword\">if</span> (clazz != <span class=\"keyword\">null</span>) &#123; <span class=\"keyword\">return</span> clazz;</span><br><span class=\"line\">&#125; &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">if</span> (dexElementsSuppressedExceptions != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">suppressed.addAll(Arrays.<span class=\"keyword\">asList</span>(dexElementsSuppressedExceptions)); &#125;</span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"keyword\">null</span>; &#125;</span><br></pre></td></tr></table></figure></p>\n<p>其实就是遍历 dexElements,调用每个元素的 dexFile对象的 loadClassBinaryName<br>方法.其中 dexElement在 DexPathList中创建:<br><figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.dexElements = makeDexElements(splitDexPath(dexPath), optimizedDirectory, suppressedExceptions);</span><br></pre></td></tr></table></figure></p>\n<p>makeDexElements最终会调用 dvm对 dex文件进行优化和映射,完成类加载.<br>仅仅加载类文件是不够的,Activity,Service 等组件原来由 AMS 管理生命周期,单纯 的加载 Activity 等类后他们也没有了组件的特殊性,和普通的类没有任何区别.有一种解 决方法是通过在接口中定义各种生命周期方法,由插件的 Activity 实现接口,然后在主程 序中调用接口,人工的制造出生命周期.</p>\n<h5 id=\"Dex替换\"><a href=\"#Dex替换\" class=\"headerlink\" title=\"Dex替换\"></a>Dex替换</h5><p>插件动态加载的核心是通过ClassLoader加载多个不同的dex,每个dex中类的完整 路径不允许重复,否则会导致不同 dex之间的类加载错乱.而合并 Dex的热修复方式反其 道而行之,它加载一个命名空间和主程序重复的dex.<br><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_8.png\"><br>上图是DexClassLoader加载类的流程,关键是DexPathList中的dexElements数组. ClassLoader 会遍历数组中的 dex,从中找到与要加载的类名对应的 dex,加载完成后返 回 class文件.根据流程图能够得出热修复的关键线索:如果有两个 dex同时能够加载这个 类,也就是两个dex具有重复全路径的类,那么 ClassLoader会调用 dexElements数组中 排在前列的 dex去加载这个类,加载完成后立即返回,顺序排在其后的 dex不会被访问到.<br>对于动态加载框架来说,如果能把dex文件插入这个数组就能加载自己的类.而对于 热修复框架来说,把 dex 插入这个数组并保证其位置在数组最前就能将问题类替换成修复后的类.<br>由于系统没有提供 API 操作 DexPathList 或是 dexElements,需要通过反射从 BaseDexClassLoader 获取 dexPathList,再通过 DexPathList 获取 dexElements,反射 Element 的构造方法创建一个插件的 dexElement,再创建一个新的数组,长度为 dexEments 的长度加上插件 dexElement 的数量,把反射得到的 dexElements 和插件 dexElement对象一并插入数组,最后用新创建的数组替换原来的数组.过程如下图:<br><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_9.png\"><br>一般在 Application 的 onCreate()或 attachBaseContext()完成数组替换.至此已 经已经完成了热修复的主体.实际运行过程中还有其他问题,当一个类引用另一个类且他们不在同一个 dex中, 系统会抛出异常 Class resolved by unexpected DEX,原因是 从 dexElements查找到需要的 dex并返回 class后系统会对引用者与被引用者的 dex做 校验,当他们不相同时抛出异常.校验方式是如果 A类和 B类在同一个 dex中，那么 A类 就会被打上 CLASS_ISPREVERIFIED标记,A类被打上标记后不能再引用其他 dex中的类 , 否则报错.如果A类还引用了C类,而 C类在其他dex中,那么 A类将不会被打上标记,这 一点被利用来避免 unexpectedDex错误.大部分做法是在所有类的构造函数中都引用一 个空实现的类,将这个类单独打包为一个dex,在应用启动时先加载这个dex.把引用放在 构造函数中是因为构造函数不会导致方法数增加.在所有类中加入引用的工作量很大也 容易出错,可以用 AOP 的编译工具如 AspectJ 在编译源码时加入引用方法,也可以用 JavaAssist插入字节码.</p>\n<h4 id=\"小结\"><a href=\"#小结\" class=\"headerlink\" title=\"小结\"></a>小结</h4><p>如上所述,热修复技术的两个流派分别是通过 Native Hook 替换问题函数和通过插 入 Dex替换问题类.<br>两个流派都有大规模实际应用,都被证明是稳定的,各有优点也都有不足之处,目前为 止尚未发现十全十美的方法,因此在选型时选择符合当前项目情况和最易使用、能够长 期维护的方案.<br>Native 的原理决定了它只能对函数做修改,不能替换资源如布局文件,图片.优点是任 何修复可以立即生效.<br>Dex 流派能够很好的支持类替换,lib 替换和资源替换,但它的致命缺点是不能即时生 效,加载补丁 dex后必须重启或等待下次开启应用才能生效. </p>\n<h3 id=\"主流框架\"><a href=\"#主流框架\" class=\"headerlink\" title=\"主流框架\"></a>主流框架</h3><p>两个流派分别选取主流的、具有代表性的,并有实践案例的开源框架作对比.</p>\n<h4 id=\"Dexposed\"><a href=\"#Dexposed\" class=\"headerlink\" title=\"Dexposed\"></a>Dexposed</h4><p>Dexposed是最早开源的热修复SDK, 由阿里巴巴团队基于 Xposed框架实现,还能 用作 AOP编程、插桩、SDKHook,被应用在手机淘宝,天猫,MIUI等应用和系统.属于 Native 流派.</p>\n<h4 id=\"AndFix\"><a href=\"#AndFix\" class=\"headerlink\" title=\"AndFix\"></a>AndFix</h4><p>AndFix 是支付宝的开源框架,应用于支付宝等 APP.AndFix 属于 Native 流派,在 Dexposed 基础上做了大量完善,支持 Android2.3-Android7.0 全版本,补丁编写没有 门槛,并提供补丁生成工具.缺点是不支持替换资源,不支持替换 lib,不能新增函数;如果补 丁过多会影响程序运行速度.</p>\n<h4 id=\"Nuwa\"><a href=\"#Nuwa\" class=\"headerlink\" title=\"Nuwa\"></a>Nuwa</h4><p>Nuwa属 于 Dex流派,是大众点评的一位工程师根据QQ空间团队分享的实现方式做 的. 优点是支持资源,lib 等替换,缺点在于不能实时生效,必须重启应用或下次开启生效.另 外由于所有类都会被打上预加载标记也会造成启动变慢.</p>\n<h4 id=\"Tinker\"><a href=\"#Tinker\" class=\"headerlink\" title=\"Tinker\"></a>Tinker</h4><p>微信团队最近开源了 Tinker,我们直接从它的源码入手开始分析.<br><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_10.png\"></p>\n<p>dev 分支上是最新的 Tinker1.6.1 版本,从类名可以知道 Tinker 处理了类的加载, 资源的加载以及 so 库的加载.我们的关注点在类加载上,根据经验判断,TinkerLoader 类是类加载模块的入口,因此从该类开始:<br><figure class=\"highlight mipsasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    * only main process can handle patch version change or incomplete</span></span><br><span class=\"line\"><span class=\"comment\">    */</span></span><br><span class=\"line\">   @Override</span><br><span class=\"line\">   public Intent tryLoad(TinkerApplication app) &#123;</span><br><span class=\"line\">       Intent resultIntent = new Intent()<span class=\"comment\">;</span></span><br><span class=\"line\"></span><br><span class=\"line\">       long <span class=\"keyword\">begin </span>= SystemClock.elapsedRealtime()<span class=\"comment\">;</span></span><br><span class=\"line\">       tryLoadPatchFilesInternal(app, resultIntent)<span class=\"comment\">;</span></span><br><span class=\"line\">       long cost = SystemClock.elapsedRealtime() - <span class=\"keyword\">begin;</span></span><br><span class=\"line\"><span class=\"keyword\"> </span>      <span class=\"keyword\">ShareIntentUtil.setIntentPatchCostTime(resultIntent, </span>cost)<span class=\"comment\">;</span></span><br><span class=\"line\">       return resultIntent<span class=\"comment\">;</span></span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure></p>\n<p>TinkerLoader.tryLoad()很明显就是加载 dex 的入口函数,这里微信统计了加载时 间,并进入 tryLoadPatchFilesInternal()方法.这个方法较长,主要是对新旧两个 dex 做 合并,这里截取其中关键的步骤:<br><figure class=\"highlight lasso\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//now we can load patch jar</span></span><br><span class=\"line\">       <span class=\"keyword\">if</span> (isEnabledForDex) &#123;</span><br><span class=\"line\">           <span class=\"built_in\">boolean</span> loadTinkerJars = TinkerDexLoader.loadTinkerJars(app, patchVersionDirectory, oatDex, resultIntent, isSystemOTA);</span><br><span class=\"line\"></span><br><span class=\"line\">           <span class=\"keyword\">if</span> (isSystemOTA) &#123;</span><br><span class=\"line\">               <span class=\"comment\">// update fingerprint after load success</span></span><br><span class=\"line\">               patchInfo.fingerPrint = Build.FINGERPRINT;</span><br><span class=\"line\">               patchInfo.oatDir = loadTinkerJars ? ShareConstants.INTERPRET_DEX_OPTIMIZE_PATH : ShareConstants.DEFAULT_DEX_OPTIMIZE_PATH;</span><br><span class=\"line\">               <span class=\"comment\">// reset to false</span></span><br><span class=\"line\">               oatModeChanged = <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">               <span class=\"keyword\">if</span> (!SharePatchInfo.rewritePatchInfoFileWithLock(patchInfoFile, patchInfo, patchInfoLockFile)) &#123;</span><br><span class=\"line\">                   ShareIntentUtil.setIntentReturnCode(resultIntent, ShareConstants.ERROR_LOAD_PATCH_REWRITE_PATCH_INFO_FAIL);</span><br><span class=\"line\">                   <span class=\"keyword\">Log</span>.w(<span class=\"built_in\">TAG</span>, <span class=\"string\">\"tryLoadPatchFiles:onReWritePatchInfoCorrupted\"</span>);</span><br><span class=\"line\">                   <span class=\"keyword\">return</span>;</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">               <span class=\"comment\">// update oat dir</span></span><br><span class=\"line\">               resultIntent.putExtra(ShareIntentUtil.INTENT_PATCH_OAT_DIR, patchInfo.oatDir);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">           <span class=\"keyword\">if</span> (!loadTinkerJars) &#123;</span><br><span class=\"line\">               <span class=\"keyword\">Log</span>.w(<span class=\"built_in\">TAG</span>, <span class=\"string\">\"tryLoadPatchFiles:onPatchLoadDexesFail\"</span>);</span><br><span class=\"line\">               <span class=\"keyword\">return</span>;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br></pre></td></tr></table></figure></p>\n<p>做 了 很 多 安 全 校 验 的 机 制 以 保 证 dex 可 用 后 , 调 用 TinkerDexLoader.<br>loadTinkerJars()方法.<br><figure class=\"highlight lasso\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@TargetApi(Build.VERSION_CODES.ICE_CREAM_SANDWICH)</span><br><span class=\"line\">   <span class=\"keyword\">public</span> static <span class=\"built_in\">boolean</span> loadTinkerJars(final TinkerApplication application, <span class=\"built_in\">String</span> directory, <span class=\"built_in\">String</span> oatDir, Intent intentResult, <span class=\"built_in\">boolean</span> isSystemOTA) &#123;</span><br><span class=\"line\">       <span class=\"keyword\">if</span> (loadDexList.isEmpty() &amp;&amp; classNDexInfo.isEmpty()) &#123;</span><br><span class=\"line\">           <span class=\"keyword\">Log</span>.w(<span class=\"built_in\">TAG</span>, <span class=\"string\">\"there is no dex to load\"</span>);</span><br><span class=\"line\">           <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">       PathClassLoader classLoader = (PathClassLoader) TinkerDexLoader.class.getClassLoader();</span><br><span class=\"line\">       <span class=\"keyword\">if</span> (classLoader != <span class=\"built_in\">null</span>) &#123;</span><br><span class=\"line\">           <span class=\"keyword\">Log</span>.i(<span class=\"built_in\">TAG</span>, <span class=\"string\">\"classloader: \"</span> + classLoader.toString());</span><br><span class=\"line\">       &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">           <span class=\"keyword\">Log</span>.e(<span class=\"built_in\">TAG</span>, <span class=\"string\">\"classloader is null\"</span>);</span><br><span class=\"line\">           ShareIntentUtil.setIntentReturnCode(intentResult, ShareConstants.ERROR_LOAD_PATCH_VERSION_DEX_CLASSLOADER_NULL);</span><br><span class=\"line\">           <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"built_in\">String</span> dexPath = directory + <span class=\"string\">\"/\"</span> + DEX_PATH + <span class=\"string\">\"/\"</span>;</span><br></pre></td></tr></table></figure></p>\n<p>loadTinkerJars()获取 PathClassLoader并读取dex与 dvm优化后的 odex地址,<br><figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// verify merge classN.apk</span></span><br><span class=\"line\">       <span class=\"keyword\">if</span> (isVmArt &amp;&amp; !classNDexInfo.isEmpty()) &#123;</span><br><span class=\"line\">           <span class=\"keyword\">File</span> classNFile = <span class=\"keyword\">new</span> <span class=\"keyword\">File</span>(dexPath + ShareConstants.CLASS_N_APK_NAME);</span><br><span class=\"line\">           <span class=\"keyword\">long</span> start = System.currentTimeMillis();</span><br><span class=\"line\"></span><br><span class=\"line\">           <span class=\"keyword\">if</span> (application.isTinkerLoadVerifyFlag()) &#123;</span><br><span class=\"line\">               <span class=\"keyword\">for</span> (ShareDexDiffPatchInfo info : classNDexInfo) &#123;</span><br><span class=\"line\">                   <span class=\"keyword\">if</span> (!SharePatchFileUtil.verifyDexFileMd5(classNFile, info.rawName, info.destMd5InArt)) &#123;</span><br><span class=\"line\">                       ShareIntentUtil.setIntentReturnCode(intentResult, ShareConstants.ERROR_LOAD_PATCH_VERSION_DEX_MD5_MISMATCH);</span><br><span class=\"line\">                       intentResult.putExtra(ShareIntentUtil.INTENT_PATCH_MISMATCH_DEX_PATH,</span><br><span class=\"line\">                           classNFile.getAbsolutePath());</span><br><span class=\"line\">                       <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">                   &#125;</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">           Log.i(TAG, <span class=\"string\">\"verify dex file:\"</span> + classNFile.getPath() + <span class=\"string\">\" md5, use time: \"</span> + (System.currentTimeMillis() - start));</span><br><span class=\"line\"></span><br><span class=\"line\">           legalFiles.add(classNFile);</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">File</span> optimizeDir = <span class=\"keyword\">new</span> <span class=\"keyword\">File</span>(directory + <span class=\"string\">\"/\"</span> + oatDir);</span><br></pre></td></tr></table></figure></p>\n<p>接着遍历 dexList,过滤 md5 不符校验不通过的,调用 SystemClassLoaderAdder 的 installDexs()方法.<br><figure class=\"highlight gams\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@SuppressLint(<span class=\"string\">\"NewApi\"</span>)</span><br><span class=\"line\">   public static void installDexes(Application application, PathClassLoader loader, <span class=\"keyword\">File</span> dexOptDir, List&lt;<span class=\"keyword\">File</span>&gt; <span class=\"keyword\">files</span>)</span><br><span class=\"line\">       throws Throwable &#123;</span><br><span class=\"line\">       <span class=\"built-in\">Log</span>.i(TAG, <span class=\"string\">\"installDexes dexOptDir: \"</span> + dexOptDir.getAbsolutePath() + <span class=\"string\">\", dex size:\"</span> + <span class=\"keyword\">files</span>.size());</span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"keyword\">if</span> (!<span class=\"keyword\">files</span>.isEmpty()) &#123;</span><br><span class=\"line\">           <span class=\"keyword\">files</span> = createSortedAdditionalPathEntries(<span class=\"keyword\">files</span>);</span><br><span class=\"line\">           ClassLoader classLoader = loader;</span><br><span class=\"line\">           <span class=\"keyword\">if</span> (Build.VERSION.SDK_INT &gt;= <span class=\"number\">24</span> &amp;&amp; !checkIsProtectedApp(<span class=\"keyword\">files</span>)) &#123;</span><br><span class=\"line\">               classLoader = AndroidNClassLoader.inject(loader, application);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">           <span class=\"comment\">//because in dalvik, if inner class is not the same classloader with it wrapper class.</span></span><br><span class=\"line\">           <span class=\"comment\">//it won't fail at dex2opt</span></span><br><span class=\"line\">           <span class=\"keyword\">if</span> (Build.VERSION.SDK_INT &gt;= <span class=\"number\">23</span>) &#123;</span><br><span class=\"line\">               V23.install(classLoader, <span class=\"keyword\">files</span>, dexOptDir);</span><br><span class=\"line\">           &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (Build.VERSION.SDK_INT &gt;= <span class=\"number\">19</span>) &#123;</span><br><span class=\"line\">               V19.install(classLoader, <span class=\"keyword\">files</span>, dexOptDir);</span><br><span class=\"line\">           &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (Build.VERSION.SDK_INT &gt;= <span class=\"number\">14</span>) &#123;</span><br><span class=\"line\">               V14.install(classLoader, <span class=\"keyword\">files</span>, dexOptDir);</span><br><span class=\"line\">           &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">               V4.install(classLoader, <span class=\"keyword\">files</span>, dexOptDir);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">           <span class=\"comment\">//install done</span></span><br><span class=\"line\">           sPatchDexCount = <span class=\"keyword\">files</span>.size();</span><br><span class=\"line\">           <span class=\"built-in\">Log</span>.i(TAG, <span class=\"string\">\"after loaded classloader: \"</span> + classLoader + <span class=\"string\">\", dex size:\"</span> + sPatchDexCount);</span><br><span class=\"line\"></span><br><span class=\"line\">           <span class=\"keyword\">if</span> (!checkDexInstall(classLoader)) &#123;</span><br><span class=\"line\">               <span class=\"comment\">//reset patch dex</span></span><br><span class=\"line\">               SystemClassLoaderAdder.uninstallPatchDex(classLoader);</span><br><span class=\"line\">               throw new TinkerRuntimeException(ShareConstants.CHECK_DEX_INSTALL_FAIL);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure></p>\n<p>可以看到 Tinker 对不同系统版本分开做了处理,这里我们就看使用最广泛的 Android4.4到 Android5.1.<br><figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    * Installer for platform versions 19.</span></span><br><span class=\"line\"><span class=\"comment\">    */</span></span><br><span class=\"line\">   <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"keyword\">class</span> V19 &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> install(ClassLoader loader, List&lt;<span class=\"keyword\">File</span>&gt; additionalClassPathEntries,</span><br><span class=\"line\">                                   <span class=\"keyword\">File</span> optimizedDirectory)</span><br><span class=\"line\">           <span class=\"keyword\">throws</span> IllegalArgumentException, IllegalAccessException,</span><br><span class=\"line\">           NoSuchFieldException, InvocationTargetException, NoSuchMethodException, IOException &#123;</span><br><span class=\"line\">           <span class=\"comment\">/* The patched class loader is expected to be a descendant of</span></span><br><span class=\"line\"><span class=\"comment\">            * dalvik.system.BaseDexClassLoader. We modify its</span></span><br><span class=\"line\"><span class=\"comment\">            * dalvik.system.DexPathList pathList field to append additional DEX</span></span><br><span class=\"line\"><span class=\"comment\">            * file entries.</span></span><br><span class=\"line\"><span class=\"comment\">            */</span></span><br><span class=\"line\">           Field pathListField = ShareReflectUtil.findField(loader, <span class=\"string\">\"pathList\"</span>);</span><br><span class=\"line\">           Object dexPathList = pathListField.get(loader);</span><br><span class=\"line\">           ArrayList&lt;IOException&gt; suppressedExceptions = <span class=\"keyword\">new</span> ArrayList&lt;IOException&gt;();</span><br><span class=\"line\">           ShareReflectUtil.expandFieldArray(dexPathList, <span class=\"string\">\"dexElements\"</span>, makeDexElements(dexPathList,</span><br><span class=\"line\">               <span class=\"keyword\">new</span> ArrayList&lt;<span class=\"keyword\">File</span>&gt;(additionalClassPathEntries), optimizedDirectory,</span><br><span class=\"line\">               suppressedExceptions));</span><br><span class=\"line\">           <span class=\"keyword\">if</span> (suppressedExceptions.<span class=\"keyword\">size</span>() &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">               <span class=\"keyword\">for</span> (IOException e : suppressedExceptions) &#123;</span><br><span class=\"line\">                   Log.w(TAG, <span class=\"string\">\"Exception in makeDexElement\"</span>, e);</span><br><span class=\"line\">                   <span class=\"keyword\">throw</span> e;</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br></pre></td></tr></table></figure></p>\n<p>V19.install()中先通过反射获取 BaseDexClassLoader 中的 dexPathList,然后调 用了 ShareReflectUtil.expandFieldArray().值得一提的是微信对异常的处理很细致, 用 List<ioexception>接收 dexElements数组中每一个 dex加载抛出的异常而不是笼统 的抛出一个大异常.</ioexception></p>\n<p>接着跟到 shareutil包下的 ShareReflectUtil类,<br><figure class=\"highlight smali\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/**</span><br><span class=\"line\">     * Replace the value of a field containing a non null array, by a<span class=\"built_in\"> new </span>array containing the</span><br><span class=\"line\">     * elements of the original<span class=\"built_in\"> array </span>plus the elements of extraElements.</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * @param<span class=\"built_in\"> instance </span>     the<span class=\"built_in\"> instance </span>whose field is to be modified.</span><br><span class=\"line\">     * @param fieldName     the field to modify.</span><br><span class=\"line\">     * @param extraElements elements to append at the end of the array.</span><br><span class=\"line\">     */</span><br><span class=\"line\">   <span class=\"keyword\"> public</span><span class=\"keyword\"> static</span> void expandFieldArray(Object instance, String fieldName, Object[] extraElements)</span><br><span class=\"line\">        throws NoSuchFieldException, IllegalArgumentException, IllegalAccessException &#123;</span><br><span class=\"line\">        Field jlrField = findField(instance, fieldName);</span><br><span class=\"line\"></span><br><span class=\"line\">        Object[] original = (Object[]) jlrField.get(instance);</span><br><span class=\"line\">        Object[] combined = (Object[]) Array.newInstance(original.getClass().getComponentType(), original.length + extraElements.length);</span><br><span class=\"line\"></span><br><span class=\"line\">        // NOTE: changed to copy extraElements first, for patch load first</span><br><span class=\"line\"></span><br><span class=\"line\">        System.arraycopy(extraElements, 0, combined, 0, extraElements.length);</span><br><span class=\"line\">        System.arraycopy(original, 0, combined, extraElements.length, original.length);</span><br><span class=\"line\"></span><br><span class=\"line\">        jlrField.set(instance, combined);</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></p>\n<p>这里的入参fieldName正是上一步中的” dexElements” ,在这么不起眼的一 个工具类中终于找到了 Dex流派的核心方法</p>\n<p>和其他Dex流框架的实现几乎一模一样,至此可以看到,虽然微信团队说的天花乱坠, 其本质仍然是用 dexElements中位置靠前的 Dex优先加载类来实现热修复: )<br>但传统方法为避免不同dex 中类互相引用而报 unexpectedDEX 错引入了” 插桩 ” 的步骤,给每个类加上一行引用其他类的方法,这样导致第一次加载类时耗时变长.应 用启动时通常会加载大量类,所以对启动时间的影响很可观.Tinker 的亮点是通过全量 替换dex 的方式避免 unexpectedDEX,这样做所有的类自然都在同一个 dex 中.但这会带来补 丁包 dex过大的问题,由此微信自研 DexDiff算法取代传统的 BsDiff极大降低了补丁包 大小,又规避了运行性能问题又减小了补丁包大小,可以说是 Dex流派的一大进步.</p>\n<h4 id=\"Robust\"><a href=\"#Robust\" class=\"headerlink\" title=\"Robust\"></a>Robust</h4><p>美团的热更新方案Robust借鉴了AndroidStudio2.0版本开始提供的功能Instant Run 的实现,另辟蹊径又比上述两种流派在原理上更简单,但同样也有些难以克服的缺陷.<br>Robust在编译阶段给每个类每个函数插入一段代码,例如<br><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">long</span> <span class=\"title\">getIndex</span><span class=\"params\">()</span> </span>&#123; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">100</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>被处理成如下的实现:<br><figure class=\"highlight processing\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> ChangeQuickRedirect changeQuickRedirect; <span class=\"keyword\">public</span> <span class=\"keyword\">long</span> getIndex() &#123;</span><br><span class=\"line\"><span class=\"keyword\">if</span>(changeQuickRedirect != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\"><span class=\"comment\">//PatchProxy中封装了获取当前 className和methodName的逻辑，并在其</span></span><br><span class=\"line\"><span class=\"comment\">//内部最终调用了 changeQuickRedirect 的对应函数</span></span><br><span class=\"line\"><span class=\"keyword\">if</span>(PatchProxy.isSupport(<span class=\"keyword\">new</span> <span class=\"keyword\">Object</span>[<span class=\"number\">0</span>], <span class=\"keyword\">this</span>, changeQuickRedirect, <span class=\"keyword\">false</span>)) &#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> ((Long)PatchProxy.accessDispatch(<span class=\"keyword\">new</span> <span class=\"keyword\">Object</span>[<span class=\"number\">0</span>], <span class=\"keyword\">this</span>, changeQuickRedirect, <span class=\"keyword\">false</span>)).longValue();</span><br><span class=\"line\">&#125; &#125;</span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"number\">100</span>L; &#125;</span><br></pre></td></tr></table></figure></p>\n<p>每个 class都增加了个类型为 <code>ChangeQuickRedirect</code>的静态成员，而在每个方法前 都插入了使用 changeQuickRedirect 相关的逻辑，当 changeQuickRedirect 不为 null 时，可能会执行到 accessDispatch从而替换掉之前老的逻辑，达到 fix的目的。<br>如果需将 getIndex 函数的返回值改为 return 106，那么对应生成的 patch，主 要包含两个 class:<code>PatchesInfoImpl.java</code>和 <code>StatePatch.java</code>。</p>\n<p>PatchesInfoImpl.java:<br><figure class=\"highlight haxe\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">PatchesInfoImpl</span> <span class=\"keyword\"><span class=\"keyword\">implements</span> <span class=\"type\">PatchesInfo</span></span> </span>&#123; <span class=\"keyword\">public</span> List&lt;PatchedClassInfo&gt; getPatchedClassesInfo() &#123;</span><br><span class=\"line\">List&lt;PatchedClassInfo&gt; patchedClassesInfos = <span class=\"keyword\">new</span> <span class=\"type\">ArrayList</span>&lt;PatchedClassInfo&gt;();</span><br><span class=\"line\">PatchedClassInfo patchedClass = <span class=\"keyword\">new</span> <span class=\"type\">PatchedClassInfo</span>(<span class=\"string\">\"com.meituan.sample.d\"</span>, StatePatch.class.getCanonicalName());</span><br><span class=\"line\">patchedClassesInfos.add(patchedClass);</span><br><span class=\"line\"><span class=\"keyword\">return</span> patchedClassesInfos; &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>StatePatch.java:<br><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> StatePatch <span class=\"keyword\">implements</span> ChangeQuickRedirect &#123; <span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"built_in\">Object</span> accessDispatch(<span class=\"built_in\">String</span> methodSignature, <span class=\"built_in\">Object</span>[] paramArrayOfObject) &#123; <span class=\"built_in\">String</span>[] signature = methodSignature.split(<span class=\"string\">\":\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">if</span> (TextUtils.equals(signature[<span class=\"number\">1</span>], <span class=\"string\">\"a\"</span>)) &#123;<span class=\"comment\">//long getIndex() -&gt; a</span></span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"number\">106</span>; &#125;</span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"literal\">null</span>; &#125;</span><br><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"built_in\">boolean</span> isSupport(<span class=\"built_in\">String</span> methodSignature, <span class=\"built_in\">Object</span>[] paramArrayOfObject) &#123;</span><br><span class=\"line\"><span class=\"built_in\">String</span>[] signature = methodSignature.split(<span class=\"string\">\":\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">if</span> (TextUtils.equals(signature[<span class=\"number\">1</span>], <span class=\"string\">\"a\"</span>)) &#123;<span class=\"comment\">//long getIndex() -&gt; a</span></span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"literal\">true</span>; &#125;</span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"literal\">false</span>; &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>客户端拿到含有 PatchesInfoImpl.java和 StatePatch.java的 patch.dex后，用 DexClassLoader加载 patch.dex，反射拿到 PatchesInfoImpl.java这个 class。拿到后， 创建这个 class的一个对象。然后通过这个对象的 getPatchedClassesInfo函数，知道需 要 patch的 class为 com.meituan.sample.d(com.meituan.sample.State混淆后的 名字)，再反射得到当前运行环境中的 com.meituan.sample.d class，将其中的 changeQuickRedirect字段赋值为用 patch.dex中的 StatePatch.java这个 class new出来的对象。这就是打 patch 的主要过程。通过原理分析，其实 Robust 只是在正常的 使用 DexClassLoader，所以可以说这套框架是没有兼容性问题的<br>这个实现方式的优点是简单、不涉及底层知识,所以易维护.修复能够立即生效无需重 启.但缺点也很明显,给每个类每个函数都插入一段代码将导致安装包体积大增,同时对运 行性能有影响.</p>\n","site":{"data":{}},"excerpt":"<p>本文主要描述完整可行的热修复技术设计方案,给出客户端与服务器端的相应改造, 并介绍核心实现原理、分析主流框架的优劣势.由于与插件化开发有一定重叠,因此也简单 介绍插件化应用的原理.<br>","more":"</p>\n<h2 id=\"整体方案\"><a href=\"#整体方案\" class=\"headerlink\" title=\"整体方案\"></a>整体方案</h2><h3 id=\"背景\"><a href=\"#背景\" class=\"headerlink\" title=\"背景\"></a>背景</h3><p>当应用发布之后，突然发现严重 bug 需要紧急修复.传统做法是修复后打包为新版 本 App, 再通过应用商店发布新版本,缺点是从修复到用户更新的过程非常缓慢,无法解 决紧急问题.<br>热修复技术通过线上发布补丁, 客户端自动获取补丁后立即加载,即时生效,可以非 常迅速的修复线上问题.</p>\n<h3 id=\"流程\"><a href=\"#流程\" class=\"headerlink\" title=\"流程\"></a>流程</h3><p>本地、服务端、线上版本三方工作时序:<br><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_1.png\"><br>1) 通过各种途径获知 bug存在<br>2) 定位并在本地修复<br>3) 制作补丁包<br>4) 发布到服务器端<br>5) 线上版本收到推送<br>6) 下载后加载补丁</p>\n<h3 id=\"时序\"><a href=\"#时序\" class=\"headerlink\" title=\"时序\"></a>时序</h3><h4 id=\"触发\"><a href=\"#触发\" class=\"headerlink\" title=\"触发\"></a>触发</h4><p>分为客户端主动触发与被动触发:<br><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_2.png\"><br><img src=\"\"></p>\n<h4 id=\"加载补丁\"><a href=\"#加载补丁\" class=\"headerlink\" title=\"加载补丁\"></a>加载补丁</h4><p><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_3.png\"></p>\n<h3 id=\"业务全景\"><a href=\"#业务全景\" class=\"headerlink\" title=\"业务全景\"></a>业务全景</h3><h4 id=\"全模块\"><a href=\"#全模块\" class=\"headerlink\" title=\"全模块\"></a>全模块</h4><p><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_4.png\"></p>\n<h4 id=\"客户端\"><a href=\"#客户端\" class=\"headerlink\" title=\"客户端\"></a>客户端</h4><p>1) 推送模块 PUSH<br>接收推送消息,分发补丁操作的指令.<br>2) 补丁管理模块 PatchManager<br>补丁持久化, 开机自检:管理存储空间,清除临时文件, 维护补丁版本与主程序版本的对应关系, 响应四种推送消息:增、删、改、查: 下 载补丁并加载,<br>删除指定补丁,<br>删除后重下载, 查询当前补丁数量和版本号.<br>3) 安全模块 Secure 校验补丁文件有效性,合法性, 校验文件指纹, 删除非法文件.<br>4) 热修复模块 Core 加载补丁.<br>5) 全局异常模块 UncaughtException 捕获全局异常,触发补丁自动下载.<br>6) 日志模块 Logger 管理日志,<br>主动上送运行异常.<br>7) 容错模块 ErrorHandler<br>校验叠加版本:当前主程序版本+补丁版本 回退机制:删除所有,删除一段时间, 重加载:触发热修复模块重加载.</p>\n<h4 id=\"服务端\"><a href=\"#服务端\" class=\"headerlink\" title=\"服务端\"></a>服务端</h4><p>1) 补丁管理平台 PatchPlatform 提供可视化操作界面: 手动上传、下载补丁文件, 发布补丁,触发推送模块, 统计修复成功率, 登录、用户权限.<br>2) 补丁管理模块 PatchManager 维护补丁版本与主程序版本对应关系, 配 置补丁属性:版本号,对应主程序版本, 增 删改查.<br>3) 推送模块 Push 推送补丁管理的相应指令, 推送日志操作的相应指令.<br>4) 日志模块 Logger 主动或被动获取日志, 跟踪设备使用情况.</p>\n<h2 id=\"热修复技术\"><a href=\"#热修复技术\" class=\"headerlink\" title=\"热修复技术\"></a>热修复技术</h2><h3 id=\"实现原理\"><a href=\"#实现原理\" class=\"headerlink\" title=\"实现原理\"></a>实现原理</h3><p>实现热修复功能的大方向有两种:NativeHook与替换 Dex.两种流派都各有优缺点, 目前并没有百分之百完美的方案.</p>\n<h4 id=\"Native-Hook-方式\"><a href=\"#Native-Hook-方式\" class=\"headerlink\" title=\"Native Hook 方式\"></a>Native Hook 方式</h4><p>一般情况下,导致 crash 的代码都能最终定位到某一具体的函数, 例如最常见的空<br>指针异常:<br><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">com<span class=\"selector-class\">.tim</span><span class=\"selector-class\">.patcher</span> E/AndroidRuntime: FATAL EXCEPTION: main</span><br><span class=\"line\">Process: com<span class=\"selector-class\">.tim</span><span class=\"selector-class\">.patcher</span>, PID: <span class=\"number\">20275</span></span><br><span class=\"line\">java<span class=\"selector-class\">.lang</span><span class=\"selector-class\">.NullPointerException</span>: Attempt to invoke virtual method <span class=\"string\">'java.lang.String java.lang.String.toString()'</span> on <span class=\"selector-tag\">a</span> null <span class=\"selector-tag\">object</span> reference</span><br><span class=\"line\">at com<span class=\"selector-class\">.tim</span><span class=\"selector-class\">.patcher</span><span class=\"selector-class\">.MainActivity</span>$<span class=\"number\">1</span><span class=\"variable\">$override</span>.onClick(MainActivity<span class=\"selector-class\">.java</span>:<span class=\"number\">25</span>)</span><br><span class=\"line\">at android<span class=\"selector-class\">.app</span><span class=\"selector-class\">.ActivityThread</span><span class=\"selector-class\">.main</span>(ActivityThread<span class=\"selector-class\">.java</span>:<span class=\"number\">5314</span>) at com<span class=\"selector-class\">.android</span><span class=\"selector-class\">.internal</span><span class=\"selector-class\">.os</span><span class=\"selector-class\">.ZygoteInit</span><span class=\"selector-class\">.main</span>(ZygoteInit<span class=\"selector-class\">.java</span>:<span class=\"number\">693</span>)</span><br></pre></td></tr></table></figure></p>\n<p>线下修复的做法是通过上述栈信息找到 MainActivity类,修改第 25行的onClick方法, 而后打包发布.<br>Native 方式的出发点由此而来,如果能动态的将问题函数替换为需要的函数,使程 序在运行到这一步时不执行原函数而去执行新的函数,就能完成热修复了.示意图如下:<br><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_5.png\"><br>onClick()是问题函数,onClick_fix()是修复后的函数.执行 dispatch()后绕开 onClick(),转而执行 onClick_fix(),达到修复的目的.关键是用 onClick_fix()替代 onClick()这一步.<br>在 native层, java方法在 Dalvik/ART虚拟机中的实现都会由 C++的 ClassObject 和 Method对象表示,ClassObject记录类的属性,Method记录方法字节码的地址. 只要 在虚拟机执行到要修改的方法前通过其所在的 ClassObject 找到对应的 Method,将 Method的指针指向目标方法就能达到” 绕开” 的目的.<br>具体来说,在这个例子中先将onClick()标记为native方法,然后就可以在jni中获 取它的 ClassObject,通过 ClassObject获取 Method对象,再把 Method指向 java层的 onClick_fix()方法.<br>上述步骤只能替换特定的函数,因为最后一步 Method 指针指向了一个具体的函数. 站在” 造轮子” 的角度上看,实际的使用场景是事先并不能获知目标方法具体是什 么, 因此 Method 指向的目标一定要是可即时改变的.所以在此基础上再进一步,只需要 将指向具体的修复后函数改为指向一个 api 钩子,实现它的回调,就能适用于实际使用场 景, 替换任何待定的函数.<br><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_6.png\"></p>\n<h4 id=\"Dex-合并方式\"><a href=\"#Dex-合并方式\" class=\"headerlink\" title=\"Dex 合并方式\"></a>Dex 合并方式</h4><p>Dex合并的方式来源于MultiDex还未发布时,为解决方法数限制2^16这一问题而 诞生的 Dex 分包方案.Dex 分包实现了动态加载,动态加载是插件化开发的基础,插件技术 后来引申出了这一类热修复方式.<br>一般来说,插件化是通过动态加载技术实现的,对插件框架稍加改造就可以实现热 修复,因此先简单介绍 Dex分包和插件技术.</p>\n<h5 id=\"Dex分包\"><a href=\"#Dex分包\" class=\"headerlink\" title=\"Dex分包\"></a>Dex分包</h5><p>谷歌为了优化安卓应用的运行性能,提出了数据结构和效率比 jar 更好的 dex 格式 .dex 类似于 jar,是一种储存字节码的归档文件.系统启动应用时会先对首次加载的 dex做优化,称为 DexOpt,它会生成一个 Optimised Dex文件.ODex会把应用中所有方 法的 id存储在链表中,但谷歌在这里犯了一个错误,用 short类型保存了这个链表的长度, 导致长度不能超过 short类型最大值 2^16.这就是方法数不能超过 65535的由来.Dex分 包通过将一个应用的 dex拆分成多个来规避这个问题.</p>\n<h5 id=\"插件技术\"><a href=\"#插件技术\" class=\"headerlink\" title=\"插件技术\"></a>插件技术</h5><p>在 Java工程中可以很方便的把 class文件放到jar中直接实现动态加载,但安卓系统 并不支持这样做,因为 jvm执行 class文件而 dvm执行 dex文件.安卓虚拟机不能识别 java的字节码,要将 class转换成 dex文件才能识别,所以拆分的最小单位是 dex.<br>插件技术的关键在于如何动态加载多个 dex.加载插件的过程可以分解为加载代码 (.java)和加载资源(R resource),资源的加载和热修复无关,因此这里只介绍加载类的方 法.<br>Java中用 ClassLoader加载 jar,Android也有自己的 ClassLoader体系,通过这个 体系完成类的加载.如图所示:<br><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_7.png\"></p>\n<p>DexClassLoader和 PathClassLoader是 BaseDexClassLoader的两种实现,他们都能 使被加载的类可以正常识别.两者的区别是 DexClassLoader 可以加载文件系统上的 jar,dex以及 apk,而 PathClassLoader需要提供固定的文件路径(比如<br>/data/app/com.bill99.ian.patcher/base-1.apk ),只能加载已安装到/data/app 下的应用. 在 Application 中系统分配了两种加载方式,安卓系统应用使用 DexClassLoader而非系统应用使用 PathClassLoader加载.<br>插件架构有自己重写 ClassLoader的方案也有直接使用 DexClassLoader让系统 帮助加载的方案.而使用 DexClassLoader的方案与合并 Dex完成热修复的方法非常接 近, 因此下面讨论通过 DexClassLoader加载类的方案.<br>DexClassLoader提供了 loadClass()方法进行类的加载 .loadClass()调用 BaseDexClassLoader中的 findClass(),findClass()根据类名查找到 dex中的 class文件 :<br><figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Override</span><br><span class=\"line\"><span class=\"keyword\">protected</span> <span class=\"keyword\">Class</span>&lt;?&gt; findClass (String name) <span class=\"keyword\">throws</span> ClassNotFoundException &#123;</span><br><span class=\"line\">List&lt;Throwable&gt; suppressedExceptions = <span class=\"keyword\">new</span> ArrayList&lt;Throwable&gt;(); <span class=\"keyword\">Class</span> c = pathList.findClass(name, suppressedExceptions);</span><br><span class=\"line\"><span class=\"keyword\">if</span> (c == <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">ClassNotFoundException cnfe = <span class=\"keyword\">new</span> ClassNotFoundException(<span class=\"string\">\"Didn't find class \\\"\"</span> + name + <span class=\"string\">\"\\\" on path: \"</span> + pathList);</span><br><span class=\"line\"><span class=\"keyword\">for</span> (Throwable t : suppressedExceptions) &#123; cnfe.addSuppressed(t);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">throw</span> cnfe; &#125;</span><br><span class=\"line\"><span class=\"keyword\">return</span> c; &#125;</span><br></pre></td></tr></table></figure></p>\n<p>源码中, findClass()实际上调用了 pathList 的 findClass(),pathList 是在 BaseDexClassLoader中创建的 DexPathList对象的实例,DexPathList中 findClass() 代码如下:<br><figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">Class</span> findClass(String name, List&lt;Throwable&gt; suppressed) &#123; <span class=\"keyword\">for</span> (Element element : dexElements) &#123;</span><br><span class=\"line\">DexFile dex = element.dexFile; <span class=\"keyword\">if</span> (dex != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\"><span class=\"keyword\">Class</span> clazz = dex.loadClassBinaryName(name, definingContext, suppressed);</span><br><span class=\"line\"><span class=\"keyword\">if</span> (clazz != <span class=\"keyword\">null</span>) &#123; <span class=\"keyword\">return</span> clazz;</span><br><span class=\"line\">&#125; &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">if</span> (dexElementsSuppressedExceptions != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">suppressed.addAll(Arrays.<span class=\"keyword\">asList</span>(dexElementsSuppressedExceptions)); &#125;</span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"keyword\">null</span>; &#125;</span><br></pre></td></tr></table></figure></p>\n<p>其实就是遍历 dexElements,调用每个元素的 dexFile对象的 loadClassBinaryName<br>方法.其中 dexElement在 DexPathList中创建:<br><figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">this</span>.dexElements = makeDexElements(splitDexPath(dexPath), optimizedDirectory, suppressedExceptions);</span><br></pre></td></tr></table></figure></p>\n<p>makeDexElements最终会调用 dvm对 dex文件进行优化和映射,完成类加载.<br>仅仅加载类文件是不够的,Activity,Service 等组件原来由 AMS 管理生命周期,单纯 的加载 Activity 等类后他们也没有了组件的特殊性,和普通的类没有任何区别.有一种解 决方法是通过在接口中定义各种生命周期方法,由插件的 Activity 实现接口,然后在主程 序中调用接口,人工的制造出生命周期.</p>\n<h5 id=\"Dex替换\"><a href=\"#Dex替换\" class=\"headerlink\" title=\"Dex替换\"></a>Dex替换</h5><p>插件动态加载的核心是通过ClassLoader加载多个不同的dex,每个dex中类的完整 路径不允许重复,否则会导致不同 dex之间的类加载错乱.而合并 Dex的热修复方式反其 道而行之,它加载一个命名空间和主程序重复的dex.<br><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_8.png\"><br>上图是DexClassLoader加载类的流程,关键是DexPathList中的dexElements数组. ClassLoader 会遍历数组中的 dex,从中找到与要加载的类名对应的 dex,加载完成后返 回 class文件.根据流程图能够得出热修复的关键线索:如果有两个 dex同时能够加载这个 类,也就是两个dex具有重复全路径的类,那么 ClassLoader会调用 dexElements数组中 排在前列的 dex去加载这个类,加载完成后立即返回,顺序排在其后的 dex不会被访问到.<br>对于动态加载框架来说,如果能把dex文件插入这个数组就能加载自己的类.而对于 热修复框架来说,把 dex 插入这个数组并保证其位置在数组最前就能将问题类替换成修复后的类.<br>由于系统没有提供 API 操作 DexPathList 或是 dexElements,需要通过反射从 BaseDexClassLoader 获取 dexPathList,再通过 DexPathList 获取 dexElements,反射 Element 的构造方法创建一个插件的 dexElement,再创建一个新的数组,长度为 dexEments 的长度加上插件 dexElement 的数量,把反射得到的 dexElements 和插件 dexElement对象一并插入数组,最后用新创建的数组替换原来的数组.过程如下图:<br><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_9.png\"><br>一般在 Application 的 onCreate()或 attachBaseContext()完成数组替换.至此已 经已经完成了热修复的主体.实际运行过程中还有其他问题,当一个类引用另一个类且他们不在同一个 dex中, 系统会抛出异常 Class resolved by unexpected DEX,原因是 从 dexElements查找到需要的 dex并返回 class后系统会对引用者与被引用者的 dex做 校验,当他们不相同时抛出异常.校验方式是如果 A类和 B类在同一个 dex中，那么 A类 就会被打上 CLASS_ISPREVERIFIED标记,A类被打上标记后不能再引用其他 dex中的类 , 否则报错.如果A类还引用了C类,而 C类在其他dex中,那么 A类将不会被打上标记,这 一点被利用来避免 unexpectedDex错误.大部分做法是在所有类的构造函数中都引用一 个空实现的类,将这个类单独打包为一个dex,在应用启动时先加载这个dex.把引用放在 构造函数中是因为构造函数不会导致方法数增加.在所有类中加入引用的工作量很大也 容易出错,可以用 AOP 的编译工具如 AspectJ 在编译源码时加入引用方法,也可以用 JavaAssist插入字节码.</p>\n<h4 id=\"小结\"><a href=\"#小结\" class=\"headerlink\" title=\"小结\"></a>小结</h4><p>如上所述,热修复技术的两个流派分别是通过 Native Hook 替换问题函数和通过插 入 Dex替换问题类.<br>两个流派都有大规模实际应用,都被证明是稳定的,各有优点也都有不足之处,目前为 止尚未发现十全十美的方法,因此在选型时选择符合当前项目情况和最易使用、能够长 期维护的方案.<br>Native 的原理决定了它只能对函数做修改,不能替换资源如布局文件,图片.优点是任 何修复可以立即生效.<br>Dex 流派能够很好的支持类替换,lib 替换和资源替换,但它的致命缺点是不能即时生 效,加载补丁 dex后必须重启或等待下次开启应用才能生效. </p>\n<h3 id=\"主流框架\"><a href=\"#主流框架\" class=\"headerlink\" title=\"主流框架\"></a>主流框架</h3><p>两个流派分别选取主流的、具有代表性的,并有实践案例的开源框架作对比.</p>\n<h4 id=\"Dexposed\"><a href=\"#Dexposed\" class=\"headerlink\" title=\"Dexposed\"></a>Dexposed</h4><p>Dexposed是最早开源的热修复SDK, 由阿里巴巴团队基于 Xposed框架实现,还能 用作 AOP编程、插桩、SDKHook,被应用在手机淘宝,天猫,MIUI等应用和系统.属于 Native 流派.</p>\n<h4 id=\"AndFix\"><a href=\"#AndFix\" class=\"headerlink\" title=\"AndFix\"></a>AndFix</h4><p>AndFix 是支付宝的开源框架,应用于支付宝等 APP.AndFix 属于 Native 流派,在 Dexposed 基础上做了大量完善,支持 Android2.3-Android7.0 全版本,补丁编写没有 门槛,并提供补丁生成工具.缺点是不支持替换资源,不支持替换 lib,不能新增函数;如果补 丁过多会影响程序运行速度.</p>\n<h4 id=\"Nuwa\"><a href=\"#Nuwa\" class=\"headerlink\" title=\"Nuwa\"></a>Nuwa</h4><p>Nuwa属 于 Dex流派,是大众点评的一位工程师根据QQ空间团队分享的实现方式做 的. 优点是支持资源,lib 等替换,缺点在于不能实时生效,必须重启应用或下次开启生效.另 外由于所有类都会被打上预加载标记也会造成启动变慢.</p>\n<h4 id=\"Tinker\"><a href=\"#Tinker\" class=\"headerlink\" title=\"Tinker\"></a>Tinker</h4><p>微信团队最近开源了 Tinker,我们直接从它的源码入手开始分析.<br><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_back_up/master/blog_photos/热修复_10.png\"></p>\n<p>dev 分支上是最新的 Tinker1.6.1 版本,从类名可以知道 Tinker 处理了类的加载, 资源的加载以及 so 库的加载.我们的关注点在类加载上,根据经验判断,TinkerLoader 类是类加载模块的入口,因此从该类开始:<br><figure class=\"highlight mipsasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    * only main process can handle patch version change or incomplete</span></span><br><span class=\"line\"><span class=\"comment\">    */</span></span><br><span class=\"line\">   @Override</span><br><span class=\"line\">   public Intent tryLoad(TinkerApplication app) &#123;</span><br><span class=\"line\">       Intent resultIntent = new Intent()<span class=\"comment\">;</span></span><br><span class=\"line\"></span><br><span class=\"line\">       long <span class=\"keyword\">begin </span>= SystemClock.elapsedRealtime()<span class=\"comment\">;</span></span><br><span class=\"line\">       tryLoadPatchFilesInternal(app, resultIntent)<span class=\"comment\">;</span></span><br><span class=\"line\">       long cost = SystemClock.elapsedRealtime() - <span class=\"keyword\">begin;</span></span><br><span class=\"line\"><span class=\"keyword\"> </span>      <span class=\"keyword\">ShareIntentUtil.setIntentPatchCostTime(resultIntent, </span>cost)<span class=\"comment\">;</span></span><br><span class=\"line\">       return resultIntent<span class=\"comment\">;</span></span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure></p>\n<p>TinkerLoader.tryLoad()很明显就是加载 dex 的入口函数,这里微信统计了加载时 间,并进入 tryLoadPatchFilesInternal()方法.这个方法较长,主要是对新旧两个 dex 做 合并,这里截取其中关键的步骤:<br><figure class=\"highlight lasso\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//now we can load patch jar</span></span><br><span class=\"line\">       <span class=\"keyword\">if</span> (isEnabledForDex) &#123;</span><br><span class=\"line\">           <span class=\"built_in\">boolean</span> loadTinkerJars = TinkerDexLoader.loadTinkerJars(app, patchVersionDirectory, oatDex, resultIntent, isSystemOTA);</span><br><span class=\"line\"></span><br><span class=\"line\">           <span class=\"keyword\">if</span> (isSystemOTA) &#123;</span><br><span class=\"line\">               <span class=\"comment\">// update fingerprint after load success</span></span><br><span class=\"line\">               patchInfo.fingerPrint = Build.FINGERPRINT;</span><br><span class=\"line\">               patchInfo.oatDir = loadTinkerJars ? ShareConstants.INTERPRET_DEX_OPTIMIZE_PATH : ShareConstants.DEFAULT_DEX_OPTIMIZE_PATH;</span><br><span class=\"line\">               <span class=\"comment\">// reset to false</span></span><br><span class=\"line\">               oatModeChanged = <span class=\"literal\">false</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">               <span class=\"keyword\">if</span> (!SharePatchInfo.rewritePatchInfoFileWithLock(patchInfoFile, patchInfo, patchInfoLockFile)) &#123;</span><br><span class=\"line\">                   ShareIntentUtil.setIntentReturnCode(resultIntent, ShareConstants.ERROR_LOAD_PATCH_REWRITE_PATCH_INFO_FAIL);</span><br><span class=\"line\">                   <span class=\"keyword\">Log</span>.w(<span class=\"built_in\">TAG</span>, <span class=\"string\">\"tryLoadPatchFiles:onReWritePatchInfoCorrupted\"</span>);</span><br><span class=\"line\">                   <span class=\"keyword\">return</span>;</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">               <span class=\"comment\">// update oat dir</span></span><br><span class=\"line\">               resultIntent.putExtra(ShareIntentUtil.INTENT_PATCH_OAT_DIR, patchInfo.oatDir);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">           <span class=\"keyword\">if</span> (!loadTinkerJars) &#123;</span><br><span class=\"line\">               <span class=\"keyword\">Log</span>.w(<span class=\"built_in\">TAG</span>, <span class=\"string\">\"tryLoadPatchFiles:onPatchLoadDexesFail\"</span>);</span><br><span class=\"line\">               <span class=\"keyword\">return</span>;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br></pre></td></tr></table></figure></p>\n<p>做 了 很 多 安 全 校 验 的 机 制 以 保 证 dex 可 用 后 , 调 用 TinkerDexLoader.<br>loadTinkerJars()方法.<br><figure class=\"highlight lasso\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@TargetApi(Build.VERSION_CODES.ICE_CREAM_SANDWICH)</span><br><span class=\"line\">   <span class=\"keyword\">public</span> static <span class=\"built_in\">boolean</span> loadTinkerJars(final TinkerApplication application, <span class=\"built_in\">String</span> directory, <span class=\"built_in\">String</span> oatDir, Intent intentResult, <span class=\"built_in\">boolean</span> isSystemOTA) &#123;</span><br><span class=\"line\">       <span class=\"keyword\">if</span> (loadDexList.isEmpty() &amp;&amp; classNDexInfo.isEmpty()) &#123;</span><br><span class=\"line\">           <span class=\"keyword\">Log</span>.w(<span class=\"built_in\">TAG</span>, <span class=\"string\">\"there is no dex to load\"</span>);</span><br><span class=\"line\">           <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">       PathClassLoader classLoader = (PathClassLoader) TinkerDexLoader.class.getClassLoader();</span><br><span class=\"line\">       <span class=\"keyword\">if</span> (classLoader != <span class=\"built_in\">null</span>) &#123;</span><br><span class=\"line\">           <span class=\"keyword\">Log</span>.i(<span class=\"built_in\">TAG</span>, <span class=\"string\">\"classloader: \"</span> + classLoader.toString());</span><br><span class=\"line\">       &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">           <span class=\"keyword\">Log</span>.e(<span class=\"built_in\">TAG</span>, <span class=\"string\">\"classloader is null\"</span>);</span><br><span class=\"line\">           ShareIntentUtil.setIntentReturnCode(intentResult, ShareConstants.ERROR_LOAD_PATCH_VERSION_DEX_CLASSLOADER_NULL);</span><br><span class=\"line\">           <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"built_in\">String</span> dexPath = directory + <span class=\"string\">\"/\"</span> + DEX_PATH + <span class=\"string\">\"/\"</span>;</span><br></pre></td></tr></table></figure></p>\n<p>loadTinkerJars()获取 PathClassLoader并读取dex与 dvm优化后的 odex地址,<br><figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// verify merge classN.apk</span></span><br><span class=\"line\">       <span class=\"keyword\">if</span> (isVmArt &amp;&amp; !classNDexInfo.isEmpty()) &#123;</span><br><span class=\"line\">           <span class=\"keyword\">File</span> classNFile = <span class=\"keyword\">new</span> <span class=\"keyword\">File</span>(dexPath + ShareConstants.CLASS_N_APK_NAME);</span><br><span class=\"line\">           <span class=\"keyword\">long</span> start = System.currentTimeMillis();</span><br><span class=\"line\"></span><br><span class=\"line\">           <span class=\"keyword\">if</span> (application.isTinkerLoadVerifyFlag()) &#123;</span><br><span class=\"line\">               <span class=\"keyword\">for</span> (ShareDexDiffPatchInfo info : classNDexInfo) &#123;</span><br><span class=\"line\">                   <span class=\"keyword\">if</span> (!SharePatchFileUtil.verifyDexFileMd5(classNFile, info.rawName, info.destMd5InArt)) &#123;</span><br><span class=\"line\">                       ShareIntentUtil.setIntentReturnCode(intentResult, ShareConstants.ERROR_LOAD_PATCH_VERSION_DEX_MD5_MISMATCH);</span><br><span class=\"line\">                       intentResult.putExtra(ShareIntentUtil.INTENT_PATCH_MISMATCH_DEX_PATH,</span><br><span class=\"line\">                           classNFile.getAbsolutePath());</span><br><span class=\"line\">                       <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">                   &#125;</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">           Log.i(TAG, <span class=\"string\">\"verify dex file:\"</span> + classNFile.getPath() + <span class=\"string\">\" md5, use time: \"</span> + (System.currentTimeMillis() - start));</span><br><span class=\"line\"></span><br><span class=\"line\">           legalFiles.add(classNFile);</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">File</span> optimizeDir = <span class=\"keyword\">new</span> <span class=\"keyword\">File</span>(directory + <span class=\"string\">\"/\"</span> + oatDir);</span><br></pre></td></tr></table></figure></p>\n<p>接着遍历 dexList,过滤 md5 不符校验不通过的,调用 SystemClassLoaderAdder 的 installDexs()方法.<br><figure class=\"highlight gams\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@SuppressLint(<span class=\"string\">\"NewApi\"</span>)</span><br><span class=\"line\">   public static void installDexes(Application application, PathClassLoader loader, <span class=\"keyword\">File</span> dexOptDir, List&lt;<span class=\"keyword\">File</span>&gt; <span class=\"keyword\">files</span>)</span><br><span class=\"line\">       throws Throwable &#123;</span><br><span class=\"line\">       <span class=\"built-in\">Log</span>.i(TAG, <span class=\"string\">\"installDexes dexOptDir: \"</span> + dexOptDir.getAbsolutePath() + <span class=\"string\">\", dex size:\"</span> + <span class=\"keyword\">files</span>.size());</span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"keyword\">if</span> (!<span class=\"keyword\">files</span>.isEmpty()) &#123;</span><br><span class=\"line\">           <span class=\"keyword\">files</span> = createSortedAdditionalPathEntries(<span class=\"keyword\">files</span>);</span><br><span class=\"line\">           ClassLoader classLoader = loader;</span><br><span class=\"line\">           <span class=\"keyword\">if</span> (Build.VERSION.SDK_INT &gt;= <span class=\"number\">24</span> &amp;&amp; !checkIsProtectedApp(<span class=\"keyword\">files</span>)) &#123;</span><br><span class=\"line\">               classLoader = AndroidNClassLoader.inject(loader, application);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">           <span class=\"comment\">//because in dalvik, if inner class is not the same classloader with it wrapper class.</span></span><br><span class=\"line\">           <span class=\"comment\">//it won't fail at dex2opt</span></span><br><span class=\"line\">           <span class=\"keyword\">if</span> (Build.VERSION.SDK_INT &gt;= <span class=\"number\">23</span>) &#123;</span><br><span class=\"line\">               V23.install(classLoader, <span class=\"keyword\">files</span>, dexOptDir);</span><br><span class=\"line\">           &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (Build.VERSION.SDK_INT &gt;= <span class=\"number\">19</span>) &#123;</span><br><span class=\"line\">               V19.install(classLoader, <span class=\"keyword\">files</span>, dexOptDir);</span><br><span class=\"line\">           &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (Build.VERSION.SDK_INT &gt;= <span class=\"number\">14</span>) &#123;</span><br><span class=\"line\">               V14.install(classLoader, <span class=\"keyword\">files</span>, dexOptDir);</span><br><span class=\"line\">           &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">               V4.install(classLoader, <span class=\"keyword\">files</span>, dexOptDir);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">           <span class=\"comment\">//install done</span></span><br><span class=\"line\">           sPatchDexCount = <span class=\"keyword\">files</span>.size();</span><br><span class=\"line\">           <span class=\"built-in\">Log</span>.i(TAG, <span class=\"string\">\"after loaded classloader: \"</span> + classLoader + <span class=\"string\">\", dex size:\"</span> + sPatchDexCount);</span><br><span class=\"line\"></span><br><span class=\"line\">           <span class=\"keyword\">if</span> (!checkDexInstall(classLoader)) &#123;</span><br><span class=\"line\">               <span class=\"comment\">//reset patch dex</span></span><br><span class=\"line\">               SystemClassLoaderAdder.uninstallPatchDex(classLoader);</span><br><span class=\"line\">               throw new TinkerRuntimeException(ShareConstants.CHECK_DEX_INSTALL_FAIL);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure></p>\n<p>可以看到 Tinker 对不同系统版本分开做了处理,这里我们就看使用最广泛的 Android4.4到 Android5.1.<br><figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    * Installer for platform versions 19.</span></span><br><span class=\"line\"><span class=\"comment\">    */</span></span><br><span class=\"line\">   <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"keyword\">class</span> V19 &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> install(ClassLoader loader, List&lt;<span class=\"keyword\">File</span>&gt; additionalClassPathEntries,</span><br><span class=\"line\">                                   <span class=\"keyword\">File</span> optimizedDirectory)</span><br><span class=\"line\">           <span class=\"keyword\">throws</span> IllegalArgumentException, IllegalAccessException,</span><br><span class=\"line\">           NoSuchFieldException, InvocationTargetException, NoSuchMethodException, IOException &#123;</span><br><span class=\"line\">           <span class=\"comment\">/* The patched class loader is expected to be a descendant of</span></span><br><span class=\"line\"><span class=\"comment\">            * dalvik.system.BaseDexClassLoader. We modify its</span></span><br><span class=\"line\"><span class=\"comment\">            * dalvik.system.DexPathList pathList field to append additional DEX</span></span><br><span class=\"line\"><span class=\"comment\">            * file entries.</span></span><br><span class=\"line\"><span class=\"comment\">            */</span></span><br><span class=\"line\">           Field pathListField = ShareReflectUtil.findField(loader, <span class=\"string\">\"pathList\"</span>);</span><br><span class=\"line\">           Object dexPathList = pathListField.get(loader);</span><br><span class=\"line\">           ArrayList&lt;IOException&gt; suppressedExceptions = <span class=\"keyword\">new</span> ArrayList&lt;IOException&gt;();</span><br><span class=\"line\">           ShareReflectUtil.expandFieldArray(dexPathList, <span class=\"string\">\"dexElements\"</span>, makeDexElements(dexPathList,</span><br><span class=\"line\">               <span class=\"keyword\">new</span> ArrayList&lt;<span class=\"keyword\">File</span>&gt;(additionalClassPathEntries), optimizedDirectory,</span><br><span class=\"line\">               suppressedExceptions));</span><br><span class=\"line\">           <span class=\"keyword\">if</span> (suppressedExceptions.<span class=\"keyword\">size</span>() &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">               <span class=\"keyword\">for</span> (IOException e : suppressedExceptions) &#123;</span><br><span class=\"line\">                   Log.w(TAG, <span class=\"string\">\"Exception in makeDexElement\"</span>, e);</span><br><span class=\"line\">                   <span class=\"keyword\">throw</span> e;</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br></pre></td></tr></table></figure></p>\n<p>V19.install()中先通过反射获取 BaseDexClassLoader 中的 dexPathList,然后调 用了 ShareReflectUtil.expandFieldArray().值得一提的是微信对异常的处理很细致, 用 List<ioexception>接收 dexElements数组中每一个 dex加载抛出的异常而不是笼统 的抛出一个大异常.</ioexception></p>\n<p>接着跟到 shareutil包下的 ShareReflectUtil类,<br><figure class=\"highlight smali\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/**</span><br><span class=\"line\">     * Replace the value of a field containing a non null array, by a<span class=\"built_in\"> new </span>array containing the</span><br><span class=\"line\">     * elements of the original<span class=\"built_in\"> array </span>plus the elements of extraElements.</span><br><span class=\"line\">     *</span><br><span class=\"line\">     * @param<span class=\"built_in\"> instance </span>     the<span class=\"built_in\"> instance </span>whose field is to be modified.</span><br><span class=\"line\">     * @param fieldName     the field to modify.</span><br><span class=\"line\">     * @param extraElements elements to append at the end of the array.</span><br><span class=\"line\">     */</span><br><span class=\"line\">   <span class=\"keyword\"> public</span><span class=\"keyword\"> static</span> void expandFieldArray(Object instance, String fieldName, Object[] extraElements)</span><br><span class=\"line\">        throws NoSuchFieldException, IllegalArgumentException, IllegalAccessException &#123;</span><br><span class=\"line\">        Field jlrField = findField(instance, fieldName);</span><br><span class=\"line\"></span><br><span class=\"line\">        Object[] original = (Object[]) jlrField.get(instance);</span><br><span class=\"line\">        Object[] combined = (Object[]) Array.newInstance(original.getClass().getComponentType(), original.length + extraElements.length);</span><br><span class=\"line\"></span><br><span class=\"line\">        // NOTE: changed to copy extraElements first, for patch load first</span><br><span class=\"line\"></span><br><span class=\"line\">        System.arraycopy(extraElements, 0, combined, 0, extraElements.length);</span><br><span class=\"line\">        System.arraycopy(original, 0, combined, extraElements.length, original.length);</span><br><span class=\"line\"></span><br><span class=\"line\">        jlrField.set(instance, combined);</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure></p>\n<p>这里的入参fieldName正是上一步中的” dexElements” ,在这么不起眼的一 个工具类中终于找到了 Dex流派的核心方法</p>\n<p>和其他Dex流框架的实现几乎一模一样,至此可以看到,虽然微信团队说的天花乱坠, 其本质仍然是用 dexElements中位置靠前的 Dex优先加载类来实现热修复: )<br>但传统方法为避免不同dex 中类互相引用而报 unexpectedDEX 错引入了” 插桩 ” 的步骤,给每个类加上一行引用其他类的方法,这样导致第一次加载类时耗时变长.应 用启动时通常会加载大量类,所以对启动时间的影响很可观.Tinker 的亮点是通过全量 替换dex 的方式避免 unexpectedDEX,这样做所有的类自然都在同一个 dex 中.但这会带来补 丁包 dex过大的问题,由此微信自研 DexDiff算法取代传统的 BsDiff极大降低了补丁包 大小,又规避了运行性能问题又减小了补丁包大小,可以说是 Dex流派的一大进步.</p>\n<h4 id=\"Robust\"><a href=\"#Robust\" class=\"headerlink\" title=\"Robust\"></a>Robust</h4><p>美团的热更新方案Robust借鉴了AndroidStudio2.0版本开始提供的功能Instant Run 的实现,另辟蹊径又比上述两种流派在原理上更简单,但同样也有些难以克服的缺陷.<br>Robust在编译阶段给每个类每个函数插入一段代码,例如<br><figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">long</span> <span class=\"title\">getIndex</span><span class=\"params\">()</span> </span>&#123; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">100</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>被处理成如下的实现:<br><figure class=\"highlight processing\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> ChangeQuickRedirect changeQuickRedirect; <span class=\"keyword\">public</span> <span class=\"keyword\">long</span> getIndex() &#123;</span><br><span class=\"line\"><span class=\"keyword\">if</span>(changeQuickRedirect != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\"><span class=\"comment\">//PatchProxy中封装了获取当前 className和methodName的逻辑，并在其</span></span><br><span class=\"line\"><span class=\"comment\">//内部最终调用了 changeQuickRedirect 的对应函数</span></span><br><span class=\"line\"><span class=\"keyword\">if</span>(PatchProxy.isSupport(<span class=\"keyword\">new</span> <span class=\"keyword\">Object</span>[<span class=\"number\">0</span>], <span class=\"keyword\">this</span>, changeQuickRedirect, <span class=\"keyword\">false</span>)) &#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> ((Long)PatchProxy.accessDispatch(<span class=\"keyword\">new</span> <span class=\"keyword\">Object</span>[<span class=\"number\">0</span>], <span class=\"keyword\">this</span>, changeQuickRedirect, <span class=\"keyword\">false</span>)).longValue();</span><br><span class=\"line\">&#125; &#125;</span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"number\">100</span>L; &#125;</span><br></pre></td></tr></table></figure></p>\n<p>每个 class都增加了个类型为 <code>ChangeQuickRedirect</code>的静态成员，而在每个方法前 都插入了使用 changeQuickRedirect 相关的逻辑，当 changeQuickRedirect 不为 null 时，可能会执行到 accessDispatch从而替换掉之前老的逻辑，达到 fix的目的。<br>如果需将 getIndex 函数的返回值改为 return 106，那么对应生成的 patch，主 要包含两个 class:<code>PatchesInfoImpl.java</code>和 <code>StatePatch.java</code>。</p>\n<p>PatchesInfoImpl.java:<br><figure class=\"highlight haxe\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">PatchesInfoImpl</span> <span class=\"keyword\"><span class=\"keyword\">implements</span> <span class=\"type\">PatchesInfo</span></span> </span>&#123; <span class=\"keyword\">public</span> List&lt;PatchedClassInfo&gt; getPatchedClassesInfo() &#123;</span><br><span class=\"line\">List&lt;PatchedClassInfo&gt; patchedClassesInfos = <span class=\"keyword\">new</span> <span class=\"type\">ArrayList</span>&lt;PatchedClassInfo&gt;();</span><br><span class=\"line\">PatchedClassInfo patchedClass = <span class=\"keyword\">new</span> <span class=\"type\">PatchedClassInfo</span>(<span class=\"string\">\"com.meituan.sample.d\"</span>, StatePatch.class.getCanonicalName());</span><br><span class=\"line\">patchedClassesInfos.add(patchedClass);</span><br><span class=\"line\"><span class=\"keyword\">return</span> patchedClassesInfos; &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>StatePatch.java:<br><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> StatePatch <span class=\"keyword\">implements</span> ChangeQuickRedirect &#123; <span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"built_in\">Object</span> accessDispatch(<span class=\"built_in\">String</span> methodSignature, <span class=\"built_in\">Object</span>[] paramArrayOfObject) &#123; <span class=\"built_in\">String</span>[] signature = methodSignature.split(<span class=\"string\">\":\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">if</span> (TextUtils.equals(signature[<span class=\"number\">1</span>], <span class=\"string\">\"a\"</span>)) &#123;<span class=\"comment\">//long getIndex() -&gt; a</span></span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"number\">106</span>; &#125;</span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"literal\">null</span>; &#125;</span><br><span class=\"line\"><span class=\"meta\">@Override</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"built_in\">boolean</span> isSupport(<span class=\"built_in\">String</span> methodSignature, <span class=\"built_in\">Object</span>[] paramArrayOfObject) &#123;</span><br><span class=\"line\"><span class=\"built_in\">String</span>[] signature = methodSignature.split(<span class=\"string\">\":\"</span>);</span><br><span class=\"line\"><span class=\"keyword\">if</span> (TextUtils.equals(signature[<span class=\"number\">1</span>], <span class=\"string\">\"a\"</span>)) &#123;<span class=\"comment\">//long getIndex() -&gt; a</span></span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"literal\">true</span>; &#125;</span><br><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"literal\">false</span>; &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>客户端拿到含有 PatchesInfoImpl.java和 StatePatch.java的 patch.dex后，用 DexClassLoader加载 patch.dex，反射拿到 PatchesInfoImpl.java这个 class。拿到后， 创建这个 class的一个对象。然后通过这个对象的 getPatchedClassesInfo函数，知道需 要 patch的 class为 com.meituan.sample.d(com.meituan.sample.State混淆后的 名字)，再反射得到当前运行环境中的 com.meituan.sample.d class，将其中的 changeQuickRedirect字段赋值为用 patch.dex中的 StatePatch.java这个 class new出来的对象。这就是打 patch 的主要过程。通过原理分析，其实 Robust 只是在正常的 使用 DexClassLoader，所以可以说这套框架是没有兼容性问题的<br>这个实现方式的优点是简单、不涉及底层知识,所以易维护.修复能够立即生效无需重 启.但缺点也很明显,给每个类每个函数都插入一段代码将导致安装包体积大增,同时对运 行性能有影响.</p>"},{"title":"自定义view 之激活码验证码输入框","date":"2017-12-29T02:10:31.000Z","photos":["/imgs/bg2.jpg"],"essential":true,"_content":"\n前两天接了个项目,项目中需要自定义一个激活码输入框,类似于滴滴打车那种正方形输入框.然后思考了一下怎么去做这个输入框.终于在今天搞定了.输入框接收 自定义输入框的数量,输入框的宽度,输入框之间的分割线,输入框文字颜色,输入框文字大小,输入框获取焦点的边框,每个输入框的文字个数以及输入框的透明度\n<!--more-->\n\n效果展示\n----------\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_img/master/ezgif.com-video-to-gif.gif\">\n\n开发思路\n----------\n我们需要通过EditText控件接受我们的输入，界面中明显是不能看到这个控件的，所以我们需要将这个控件给设置透明。然后将接受到的输入内容设置给我们的TextView。为了满足正方形的样式，只需要给TextView设置一个背景即可。在开发过程中，我们发现验证码的个数不是固定的，有4位数的，也有6位数的。为了实现低耦合的复用性。我们需要一个自定义的属性来满足这个要求。其他具体的思路将会在具体实现的时候讲。\n\n实现\n----------\n- 组合控件的布局实现\n\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\">\n\n    <LinearLayout\n        android:id=\"@+id/container_et\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:layout_centerInParent=\"true\"\n        android:gravity=\"center_vertical\"\n        android:orientation=\"horizontal\"\n        android:showDividers=\"middle\">\n\n    </LinearLayout>\n\n    <EditText\n        android:id=\"@+id/et\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:background=\"@android:color/transparent\"\n        android:inputType=\"number\" />\n\n</RelativeLayout>\n```\n这的LinearLayout用来存放TextVeiw ,android:showDividers=”middle”来设定我们的间隔的方式。\n\n- 设计自定义属性\n\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<resources>\n    <declare-styleable name=\"ActivationCodeView\">\n\n        <attr name=\"icv_et_number\" format=\"integer\" />\n        <!--输入框的宽度-->\n        <attr name=\"icv_et_width\" format=\"dimension|reference\" />\n        <!--输入框之间的分割线-->\n        <attr name=\"icv_et_divider_drawable\" format=\"reference\" />\n        <!--输入框文字颜色-->\n        <attr name=\"icv_et_text_color\" format=\"color|reference\" />\n        <!--输入框文字大小-->\n        <attr name=\"icv_et_text_size\" format=\"dimension|reference\" />\n        <!--输入框获取焦点时边框-->\n        <attr name=\"icv_et_bg_focus\" format=\"reference\" />\n        <!--输入框没有焦点时边框-->\n        <attr name=\"icv_et_bg_normal\" format=\"reference\" />\n        <!--每个输入框中的文字个数 -->\n        <attr name=\"icv_text_count_num\" format=\"integer\" />\n        <!--输入框背景透明度 -->\n        <attr name=\"icv_text_bg_alpha\" format=\"integer\" />\n    </declare-styleable>\n</resources>\n```\n注释已经很清楚了，就不再解释了。\n\n- 获取自定义属性\n\n```\n/**\n     * 初始化\n     * @param context\n     * @param attrs\n     * @param defStyleAttr\n     */\n    private void init(Context context, AttributeSet attrs, int defStyleAttr) {\n        LayoutInflater.from(context).inflate(R.layout.layout_activation_code, this);\n        mContainerLl = (LinearLayout) this.findViewById(R.id.container_et);\n        mInputEt = (EditText) this.findViewById(R.id.et);\n\n        TypedArray typedArray = context.obtainStyledAttributes(attrs, R.styleable.ActivationCodeView, defStyleAttr, 0);\n        mEtNumber = typedArray.getInteger(R.styleable.ActivationCodeView_icv_et_number, 1);\n        mTvCountNumber = typedArray.getInteger(R.styleable.ActivationCodeView_icv_text_count_num, 1);\n        mAlpha = typedArray.getInteger(R.styleable.ActivationCodeView_icv_text_bg_alpha,255);\n        mEtWidth = typedArray.getDimensionPixelSize(R.styleable.ActivationCodeView_icv_et_width, 42);\n        mEtDividerDrawable = typedArray.getDrawable(R.styleable.ActivationCodeView_icv_et_divider_drawable);\n        mEtTextSize = typedArray.getDimensionPixelSize(R.styleable.ActivationCodeView_icv_et_text_size, 16);\n        mEtTextColor = typedArray.getColor(R.styleable.ActivationCodeView_icv_et_text_color, Color.BLACK);\n        mEtBackgroundDrawableFocus = typedArray.getDrawable(R.styleable.ActivationCodeView_icv_et_bg_focus);\n        mEtBackgroundDrawableNormal = typedArray.getDrawable(R.styleable.ActivationCodeView_icv_et_bg_normal);\n        //释放资源\n        typedArray.recycle();\n\n\n        // 当xml中未配置时 这里进行初始配置默认图片\n        if (mEtDividerDrawable == null) {\n            mEtDividerDrawable = context.getResources().getDrawable(R.drawable.shape_divider_identifying);\n        }\n\n        if (mEtBackgroundDrawableFocus == null) {\n            mEtBackgroundDrawableFocus = context.getResources().getDrawable(R.drawable.shape_icv_et_bg_focus);\n        }\n\n        if (mEtBackgroundDrawableNormal == null) {\n            mEtBackgroundDrawableNormal = context.getResources().getDrawable(R.drawable.shape_icv_et_bg_normal);\n        }\n\n        initUI();\n    }\n```\n\n- 初始化 TextView\n\n```\n //初始化TextView\n    private void initTextViews(Context context, int etNumber, int etWidth, Drawable etDividerDrawable, float etTextSize, int etTextColor) {\n        // 设置 editText 的输入长度\n        mInputEt.setCursorVisible(false);//将光标隐藏\n        mInputEt.setFilters(new InputFilter[]{new InputFilter.LengthFilter(etNumber)}); //最大输入长度\n        // 设置分割线的宽度\n        if (etDividerDrawable != null) {\n            etDividerDrawable.setBounds(0, 0, etDividerDrawable.getMinimumWidth(), etDividerDrawable.getMinimumHeight());\n            mContainerLl.setDividerDrawable(etDividerDrawable);\n        }\n        mTextViews = new TextView[etNumber];\n        for (int i = 0; i < mTextViews.length; i++) {\n            TextView textView = new TextView(context);\n            textView.setTextSize(etTextSize);\n            textView.setTextColor(etTextColor);\n            textView.setWidth(etWidth);\n            textView.setHeight(etWidth);\n\n            if (i == 0) {\n                textView.setBackgroundDrawable(mEtBackgroundDrawableFocus);\n            } else {\n                textView.setBackgroundDrawable(mEtBackgroundDrawableNormal);\n            }\n            //設置透明度\n            textView.getBackground().setAlpha(mAlpha);\n            textView.setGravity(Gravity.CENTER);\n\n            textView.setFocusable(false);\n\n            mTextViews[i] = textView;\n        }\n    }\n```\n这里动态生成TextView 具体实现 注释很清楚，需要注意一点的是 textView.setFocusable(false); 不然在页面中TextView会获取焦点有一个 光标。用一个数组来存放 TextView。\n\n- 填充盛放TextView的 LinerLayout\n\n```\n   private void initEtContainer(TextView[] mTextViews) {\n        for (int i = 0; i < mTextViews.length; i++) {\n             mContainerLl.addView(mTextViews[i]);\n        }\n    }\n```\n\n- 处理我们的输入事件 \n\n```\n private class ActivationCodeTextWatcher implements TextWatcher {\n\n        @Override\n        public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n\n        }\n\n        @Override\n        public void onTextChanged(CharSequence s, int start, int before, int count) {\n\n        }\n\n        @Override\n        public void afterTextChanged(Editable editable) {\n            String inputStr = editable.toString();\n            if (inputStr != null && !inputStr.equals(\"\")) {\n                setText(inputStr);\n                mInputEt.setText(\"\");\n            }\n        }\n    }\n\n     // 监听删除按键\n        mInputEt.setOnKeyListener(new OnKeyListener() {\n            @Override\n            public boolean onKey(View v, int keyCode, KeyEvent event) {\n                if (keyCode == KeyEvent.KEYCODE_DEL && event.getAction() == KeyEvent.ACTION_DOWN) {\n                    onKeyDelete();\n                    return true;\n                }\n                return false;\n            }\n        });\n    // 给TextView 设置文字\n    private void setText(String inputContent) {\n        for (int i = 0; i < mTextViews.length; i++) {\n            TextView tv = mTextViews[i];\n            if (tv.getText().toString().trim().equals(\"\") || tv.getText().toString().length() < mTvCountNumber) {\n                tv.setText(tv.getText().toString() + inputContent);\n                // 添加输入完成的监听\n                if (inputCompleteListener != null) {\n                    inputCompleteListener.inputComplete();\n                }\n                //光标跳转到下一个\n                if(tv.getText().toString().length() == mTvCountNumber) {\n                    tv.setBackgroundDrawable(mEtBackgroundDrawableNormal);\n                    if (i < mEtNumber - 1) {\n                        mTextViews[i + 1].setBackgroundDrawable(mEtBackgroundDrawableFocus);\n                    }\n                }\n\n                break;\n            }\n        }\n    }\n\n    // 监听删除\n    private void onKeyDelete() {\n        for (int i = mTextViews.length - 1; i >= 0; i--) {\n            TextView tv = mTextViews[i];\n            if (!tv.getText().toString().trim().equals(\"\")) {\n\n                tv.setText(tv.getText().subSequence(0,tv.getText().length()-1));\n                // 添加删除完成监听\n                if (inputCompleteListener != null) {\n                    inputCompleteListener.deleteContent();\n                }\n                tv.setBackgroundDrawable(mEtBackgroundDrawableFocus);\n                if (i < mEtNumber - 1) {\n                    mTextViews[i + 1].setBackgroundDrawable(mEtBackgroundDrawableNormal);\n                }\n                break;\n            }\n        }\n    }\n```\n\n- 提供给外界的方法\n\n```\n /**\n     * 获取输入文本\n     *\n     * @return string\n     */\n    public String getInputContent() {\n        StringBuffer buffer = new StringBuffer();\n        for (TextView tv : mTextViews) {\n            buffer.append(tv.getText().toString().trim());\n        }\n        return buffer.toString();\n    }\n\n    /**\n     * 删除输入内容\n     */\n    public void clearInputContent() {\n        for (int i = 0; i < mTextViews.length; i++) {\n            if (i == 0) {\n                mTextViews[i].setBackgroundDrawable(mEtBackgroundDrawableFocus);\n            } else {\n                mTextViews[i].setBackgroundDrawable(mEtBackgroundDrawableNormal);\n            }\n            mTextViews[i].setText(\"\");\n        }\n    }\n\n    /**\n     * 设置输入框个数\n     * @param etNumber\n     */\n    public void setEtNumber(int etNumber) {\n        this.mEtNumber = etNumber;\n        mInputEt.removeTextChangedListener(mTextWatcher);\n        mContainerLl.removeAllViews();\n        initUI();\n    }\n\n\n    /**\n     * 获取输入的位数\n     *\n     * @return int\n     */\n    public int getEtNumber() {\n        return mEtNumber;\n    }\n\n    // 输入完成 和 删除成功 的监听\n    private InputCompleteListener inputCompleteListener;\n\n    public void setInputCompleteListener(InputCompleteListener inputCompleteListener) {\n        this.inputCompleteListener = inputCompleteListener;\n    }\n\n    public interface InputCompleteListener {\n        void inputComplete();\n\n        void deleteContent();\n    }\n```\n\n下载\n---------\n附上 github 下载地址 <a href=\"https://github.com/lovexinforever/ActivationCodeView\">ActivationCodeView</a>\n\n\n","source":"_posts/自定义view-之激活码验证码输入框.md","raw":"---\ntitle: 自定义view 之激活码验证码输入框\ndate: 2017-12-29 10:10:31\ntags:\n- android\n- 激活码\n- 验证码\n- 自定义输入框\ncategories: \n- 技术\n- 日志\n- Android\nphotos: \n- /imgs/bg2.jpg\nessential: true\n---\n\n前两天接了个项目,项目中需要自定义一个激活码输入框,类似于滴滴打车那种正方形输入框.然后思考了一下怎么去做这个输入框.终于在今天搞定了.输入框接收 自定义输入框的数量,输入框的宽度,输入框之间的分割线,输入框文字颜色,输入框文字大小,输入框获取焦点的边框,每个输入框的文字个数以及输入框的透明度\n<!--more-->\n\n效果展示\n----------\n<img src=\"https://raw.githubusercontent.com/lovexinforever/blog_img/master/ezgif.com-video-to-gif.gif\">\n\n开发思路\n----------\n我们需要通过EditText控件接受我们的输入，界面中明显是不能看到这个控件的，所以我们需要将这个控件给设置透明。然后将接受到的输入内容设置给我们的TextView。为了满足正方形的样式，只需要给TextView设置一个背景即可。在开发过程中，我们发现验证码的个数不是固定的，有4位数的，也有6位数的。为了实现低耦合的复用性。我们需要一个自定义的属性来满足这个要求。其他具体的思路将会在具体实现的时候讲。\n\n实现\n----------\n- 组合控件的布局实现\n\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\">\n\n    <LinearLayout\n        android:id=\"@+id/container_et\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:layout_centerInParent=\"true\"\n        android:gravity=\"center_vertical\"\n        android:orientation=\"horizontal\"\n        android:showDividers=\"middle\">\n\n    </LinearLayout>\n\n    <EditText\n        android:id=\"@+id/et\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:background=\"@android:color/transparent\"\n        android:inputType=\"number\" />\n\n</RelativeLayout>\n```\n这的LinearLayout用来存放TextVeiw ,android:showDividers=”middle”来设定我们的间隔的方式。\n\n- 设计自定义属性\n\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<resources>\n    <declare-styleable name=\"ActivationCodeView\">\n\n        <attr name=\"icv_et_number\" format=\"integer\" />\n        <!--输入框的宽度-->\n        <attr name=\"icv_et_width\" format=\"dimension|reference\" />\n        <!--输入框之间的分割线-->\n        <attr name=\"icv_et_divider_drawable\" format=\"reference\" />\n        <!--输入框文字颜色-->\n        <attr name=\"icv_et_text_color\" format=\"color|reference\" />\n        <!--输入框文字大小-->\n        <attr name=\"icv_et_text_size\" format=\"dimension|reference\" />\n        <!--输入框获取焦点时边框-->\n        <attr name=\"icv_et_bg_focus\" format=\"reference\" />\n        <!--输入框没有焦点时边框-->\n        <attr name=\"icv_et_bg_normal\" format=\"reference\" />\n        <!--每个输入框中的文字个数 -->\n        <attr name=\"icv_text_count_num\" format=\"integer\" />\n        <!--输入框背景透明度 -->\n        <attr name=\"icv_text_bg_alpha\" format=\"integer\" />\n    </declare-styleable>\n</resources>\n```\n注释已经很清楚了，就不再解释了。\n\n- 获取自定义属性\n\n```\n/**\n     * 初始化\n     * @param context\n     * @param attrs\n     * @param defStyleAttr\n     */\n    private void init(Context context, AttributeSet attrs, int defStyleAttr) {\n        LayoutInflater.from(context).inflate(R.layout.layout_activation_code, this);\n        mContainerLl = (LinearLayout) this.findViewById(R.id.container_et);\n        mInputEt = (EditText) this.findViewById(R.id.et);\n\n        TypedArray typedArray = context.obtainStyledAttributes(attrs, R.styleable.ActivationCodeView, defStyleAttr, 0);\n        mEtNumber = typedArray.getInteger(R.styleable.ActivationCodeView_icv_et_number, 1);\n        mTvCountNumber = typedArray.getInteger(R.styleable.ActivationCodeView_icv_text_count_num, 1);\n        mAlpha = typedArray.getInteger(R.styleable.ActivationCodeView_icv_text_bg_alpha,255);\n        mEtWidth = typedArray.getDimensionPixelSize(R.styleable.ActivationCodeView_icv_et_width, 42);\n        mEtDividerDrawable = typedArray.getDrawable(R.styleable.ActivationCodeView_icv_et_divider_drawable);\n        mEtTextSize = typedArray.getDimensionPixelSize(R.styleable.ActivationCodeView_icv_et_text_size, 16);\n        mEtTextColor = typedArray.getColor(R.styleable.ActivationCodeView_icv_et_text_color, Color.BLACK);\n        mEtBackgroundDrawableFocus = typedArray.getDrawable(R.styleable.ActivationCodeView_icv_et_bg_focus);\n        mEtBackgroundDrawableNormal = typedArray.getDrawable(R.styleable.ActivationCodeView_icv_et_bg_normal);\n        //释放资源\n        typedArray.recycle();\n\n\n        // 当xml中未配置时 这里进行初始配置默认图片\n        if (mEtDividerDrawable == null) {\n            mEtDividerDrawable = context.getResources().getDrawable(R.drawable.shape_divider_identifying);\n        }\n\n        if (mEtBackgroundDrawableFocus == null) {\n            mEtBackgroundDrawableFocus = context.getResources().getDrawable(R.drawable.shape_icv_et_bg_focus);\n        }\n\n        if (mEtBackgroundDrawableNormal == null) {\n            mEtBackgroundDrawableNormal = context.getResources().getDrawable(R.drawable.shape_icv_et_bg_normal);\n        }\n\n        initUI();\n    }\n```\n\n- 初始化 TextView\n\n```\n //初始化TextView\n    private void initTextViews(Context context, int etNumber, int etWidth, Drawable etDividerDrawable, float etTextSize, int etTextColor) {\n        // 设置 editText 的输入长度\n        mInputEt.setCursorVisible(false);//将光标隐藏\n        mInputEt.setFilters(new InputFilter[]{new InputFilter.LengthFilter(etNumber)}); //最大输入长度\n        // 设置分割线的宽度\n        if (etDividerDrawable != null) {\n            etDividerDrawable.setBounds(0, 0, etDividerDrawable.getMinimumWidth(), etDividerDrawable.getMinimumHeight());\n            mContainerLl.setDividerDrawable(etDividerDrawable);\n        }\n        mTextViews = new TextView[etNumber];\n        for (int i = 0; i < mTextViews.length; i++) {\n            TextView textView = new TextView(context);\n            textView.setTextSize(etTextSize);\n            textView.setTextColor(etTextColor);\n            textView.setWidth(etWidth);\n            textView.setHeight(etWidth);\n\n            if (i == 0) {\n                textView.setBackgroundDrawable(mEtBackgroundDrawableFocus);\n            } else {\n                textView.setBackgroundDrawable(mEtBackgroundDrawableNormal);\n            }\n            //設置透明度\n            textView.getBackground().setAlpha(mAlpha);\n            textView.setGravity(Gravity.CENTER);\n\n            textView.setFocusable(false);\n\n            mTextViews[i] = textView;\n        }\n    }\n```\n这里动态生成TextView 具体实现 注释很清楚，需要注意一点的是 textView.setFocusable(false); 不然在页面中TextView会获取焦点有一个 光标。用一个数组来存放 TextView。\n\n- 填充盛放TextView的 LinerLayout\n\n```\n   private void initEtContainer(TextView[] mTextViews) {\n        for (int i = 0; i < mTextViews.length; i++) {\n             mContainerLl.addView(mTextViews[i]);\n        }\n    }\n```\n\n- 处理我们的输入事件 \n\n```\n private class ActivationCodeTextWatcher implements TextWatcher {\n\n        @Override\n        public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n\n        }\n\n        @Override\n        public void onTextChanged(CharSequence s, int start, int before, int count) {\n\n        }\n\n        @Override\n        public void afterTextChanged(Editable editable) {\n            String inputStr = editable.toString();\n            if (inputStr != null && !inputStr.equals(\"\")) {\n                setText(inputStr);\n                mInputEt.setText(\"\");\n            }\n        }\n    }\n\n     // 监听删除按键\n        mInputEt.setOnKeyListener(new OnKeyListener() {\n            @Override\n            public boolean onKey(View v, int keyCode, KeyEvent event) {\n                if (keyCode == KeyEvent.KEYCODE_DEL && event.getAction() == KeyEvent.ACTION_DOWN) {\n                    onKeyDelete();\n                    return true;\n                }\n                return false;\n            }\n        });\n    // 给TextView 设置文字\n    private void setText(String inputContent) {\n        for (int i = 0; i < mTextViews.length; i++) {\n            TextView tv = mTextViews[i];\n            if (tv.getText().toString().trim().equals(\"\") || tv.getText().toString().length() < mTvCountNumber) {\n                tv.setText(tv.getText().toString() + inputContent);\n                // 添加输入完成的监听\n                if (inputCompleteListener != null) {\n                    inputCompleteListener.inputComplete();\n                }\n                //光标跳转到下一个\n                if(tv.getText().toString().length() == mTvCountNumber) {\n                    tv.setBackgroundDrawable(mEtBackgroundDrawableNormal);\n                    if (i < mEtNumber - 1) {\n                        mTextViews[i + 1].setBackgroundDrawable(mEtBackgroundDrawableFocus);\n                    }\n                }\n\n                break;\n            }\n        }\n    }\n\n    // 监听删除\n    private void onKeyDelete() {\n        for (int i = mTextViews.length - 1; i >= 0; i--) {\n            TextView tv = mTextViews[i];\n            if (!tv.getText().toString().trim().equals(\"\")) {\n\n                tv.setText(tv.getText().subSequence(0,tv.getText().length()-1));\n                // 添加删除完成监听\n                if (inputCompleteListener != null) {\n                    inputCompleteListener.deleteContent();\n                }\n                tv.setBackgroundDrawable(mEtBackgroundDrawableFocus);\n                if (i < mEtNumber - 1) {\n                    mTextViews[i + 1].setBackgroundDrawable(mEtBackgroundDrawableNormal);\n                }\n                break;\n            }\n        }\n    }\n```\n\n- 提供给外界的方法\n\n```\n /**\n     * 获取输入文本\n     *\n     * @return string\n     */\n    public String getInputContent() {\n        StringBuffer buffer = new StringBuffer();\n        for (TextView tv : mTextViews) {\n            buffer.append(tv.getText().toString().trim());\n        }\n        return buffer.toString();\n    }\n\n    /**\n     * 删除输入内容\n     */\n    public void clearInputContent() {\n        for (int i = 0; i < mTextViews.length; i++) {\n            if (i == 0) {\n                mTextViews[i].setBackgroundDrawable(mEtBackgroundDrawableFocus);\n            } else {\n                mTextViews[i].setBackgroundDrawable(mEtBackgroundDrawableNormal);\n            }\n            mTextViews[i].setText(\"\");\n        }\n    }\n\n    /**\n     * 设置输入框个数\n     * @param etNumber\n     */\n    public void setEtNumber(int etNumber) {\n        this.mEtNumber = etNumber;\n        mInputEt.removeTextChangedListener(mTextWatcher);\n        mContainerLl.removeAllViews();\n        initUI();\n    }\n\n\n    /**\n     * 获取输入的位数\n     *\n     * @return int\n     */\n    public int getEtNumber() {\n        return mEtNumber;\n    }\n\n    // 输入完成 和 删除成功 的监听\n    private InputCompleteListener inputCompleteListener;\n\n    public void setInputCompleteListener(InputCompleteListener inputCompleteListener) {\n        this.inputCompleteListener = inputCompleteListener;\n    }\n\n    public interface InputCompleteListener {\n        void inputComplete();\n\n        void deleteContent();\n    }\n```\n\n下载\n---------\n附上 github 下载地址 <a href=\"https://github.com/lovexinforever/ActivationCodeView\">ActivationCodeView</a>\n\n\n","slug":"自定义view-之激活码验证码输入框","published":1,"updated":"2018-05-08T05:04:28.624Z","comments":1,"layout":"post","link":"","_id":"cjhio9nox002d6bfyppojmfe6","content":"<p>前两天接了个项目,项目中需要自定义一个激活码输入框,类似于滴滴打车那种正方形输入框.然后思考了一下怎么去做这个输入框.终于在今天搞定了.输入框接收 自定义输入框的数量,输入框的宽度,输入框之间的分割线,输入框文字颜色,输入框文字大小,输入框获取焦点的边框,每个输入框的文字个数以及输入框的透明度<br><a id=\"more\"></a></p>\n<h2 id=\"效果展示\"><a href=\"#效果展示\" class=\"headerlink\" title=\"效果展示\"></a>效果展示</h2><p><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_img/master/ezgif.com-video-to-gif.gif\"></p>\n<h2 id=\"开发思路\"><a href=\"#开发思路\" class=\"headerlink\" title=\"开发思路\"></a>开发思路</h2><p>我们需要通过EditText控件接受我们的输入，界面中明显是不能看到这个控件的，所以我们需要将这个控件给设置透明。然后将接受到的输入内容设置给我们的TextView。为了满足正方形的样式，只需要给TextView设置一个背景即可。在开发过程中，我们发现验证码的个数不是固定的，有4位数的，也有6位数的。为了实现低耦合的复用性。我们需要一个自定义的属性来满足这个要求。其他具体的思路将会在具体实现的时候讲。</p>\n<h2 id=\"实现\"><a href=\"#实现\" class=\"headerlink\" title=\"实现\"></a>实现</h2><ul>\n<li>组合控件的布局实现</li>\n</ul>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"php\"><span class=\"meta\">&lt;?</span>xml version=<span class=\"string\">\"1.0\"</span> encoding=<span class=\"string\">\"utf-8\"</span><span class=\"meta\">?&gt;</span></span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">RelativeLayout</span> <span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"match_parent\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">LinearLayout</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/container_et\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_centerInParent</span>=<span class=\"string\">\"true\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:gravity</span>=<span class=\"string\">\"center_vertical\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:orientation</span>=<span class=\"string\">\"horizontal\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:showDividers</span>=<span class=\"string\">\"middle\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">LinearLayout</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">EditText</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/et\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:background</span>=<span class=\"string\">\"@android:color/transparent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:inputType</span>=<span class=\"string\">\"number\"</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>这的LinearLayout用来存放TextVeiw ,android:showDividers=”middle”来设定我们的间隔的方式。</p>\n<ul>\n<li>设计自定义属性</li>\n</ul>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"php\"><span class=\"meta\">&lt;?</span>xml version=<span class=\"string\">\"1.0\"</span> encoding=<span class=\"string\">\"utf-8\"</span><span class=\"meta\">?&gt;</span></span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">resources</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">declare-styleable</span> <span class=\"attr\">name</span>=<span class=\"string\">\"ActivationCodeView\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">attr</span> <span class=\"attr\">name</span>=<span class=\"string\">\"icv_et_number\"</span> <span class=\"attr\">format</span>=<span class=\"string\">\"integer\"</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--输入框的宽度--&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">attr</span> <span class=\"attr\">name</span>=<span class=\"string\">\"icv_et_width\"</span> <span class=\"attr\">format</span>=<span class=\"string\">\"dimension|reference\"</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--输入框之间的分割线--&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">attr</span> <span class=\"attr\">name</span>=<span class=\"string\">\"icv_et_divider_drawable\"</span> <span class=\"attr\">format</span>=<span class=\"string\">\"reference\"</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--输入框文字颜色--&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">attr</span> <span class=\"attr\">name</span>=<span class=\"string\">\"icv_et_text_color\"</span> <span class=\"attr\">format</span>=<span class=\"string\">\"color|reference\"</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--输入框文字大小--&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">attr</span> <span class=\"attr\">name</span>=<span class=\"string\">\"icv_et_text_size\"</span> <span class=\"attr\">format</span>=<span class=\"string\">\"dimension|reference\"</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--输入框获取焦点时边框--&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">attr</span> <span class=\"attr\">name</span>=<span class=\"string\">\"icv_et_bg_focus\"</span> <span class=\"attr\">format</span>=<span class=\"string\">\"reference\"</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--输入框没有焦点时边框--&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">attr</span> <span class=\"attr\">name</span>=<span class=\"string\">\"icv_et_bg_normal\"</span> <span class=\"attr\">format</span>=<span class=\"string\">\"reference\"</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--每个输入框中的文字个数 --&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">attr</span> <span class=\"attr\">name</span>=<span class=\"string\">\"icv_text_count_num\"</span> <span class=\"attr\">format</span>=<span class=\"string\">\"integer\"</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--输入框背景透明度 --&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">attr</span> <span class=\"attr\">name</span>=<span class=\"string\">\"icv_text_bg_alpha\"</span> <span class=\"attr\">format</span>=<span class=\"string\">\"integer\"</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">declare-styleable</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">resources</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>注释已经很清楚了，就不再解释了。</p>\n<ul>\n<li>获取自定义属性</li>\n</ul>\n<figure class=\"highlight nix\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 初始化</span></span><br><span class=\"line\"><span class=\"comment\">     * @param context</span></span><br><span class=\"line\"><span class=\"comment\">     * @param attrs</span></span><br><span class=\"line\"><span class=\"comment\">     * @param defStyleAttr</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    private void init(Context context, AttributeSet attrs, int defStyleAttr) &#123;</span><br><span class=\"line\">        LayoutInflater.from(context).inflate(R.layout.layout_activation_code, this);</span><br><span class=\"line\">        <span class=\"attr\">mContainerLl</span> = (LinearLayout) this.findViewById(R.id.container_et);</span><br><span class=\"line\">        <span class=\"attr\">mInputEt</span> = (EditText) this.findViewById(R.id.et);</span><br><span class=\"line\"></span><br><span class=\"line\">        TypedArray <span class=\"attr\">typedArray</span> = context.obtainStyledAttributes(attrs, R.styleable.ActivationCodeView, defStyleAttr, <span class=\"number\">0</span>);</span><br><span class=\"line\">        <span class=\"attr\">mEtNumber</span> = typedArray.getInteger(R.styleable.ActivationCodeView_icv_et_number, <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"attr\">mTvCountNumber</span> = typedArray.getInteger(R.styleable.ActivationCodeView_icv_text_count_num, <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"attr\">mAlpha</span> = typedArray.getInteger(R.styleable.ActivationCodeView_icv_text_bg_alpha,<span class=\"number\">255</span>);</span><br><span class=\"line\">        <span class=\"attr\">mEtWidth</span> = typedArray.getDimensionPixelSize(R.styleable.ActivationCodeView_icv_et_width, <span class=\"number\">42</span>);</span><br><span class=\"line\">        <span class=\"attr\">mEtDividerDrawable</span> = typedArray.getDrawable(R.styleable.ActivationCodeView_icv_et_divider_drawable);</span><br><span class=\"line\">        <span class=\"attr\">mEtTextSize</span> = typedArray.getDimensionPixelSize(R.styleable.ActivationCodeView_icv_et_text_size, <span class=\"number\">16</span>);</span><br><span class=\"line\">        <span class=\"attr\">mEtTextColor</span> = typedArray.getColor(R.styleable.ActivationCodeView_icv_et_text_color, Color.BLACK);</span><br><span class=\"line\">        <span class=\"attr\">mEtBackgroundDrawableFocus</span> = typedArray.getDrawable(R.styleable.ActivationCodeView_icv_et_bg_focus);</span><br><span class=\"line\">        <span class=\"attr\">mEtBackgroundDrawableNormal</span> = typedArray.getDrawable(R.styleable.ActivationCodeView_icv_et_bg_normal);</span><br><span class=\"line\">        //释放资源</span><br><span class=\"line\">        typedArray.recycle();</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        // 当xml中未配置时 这里进行初始配置默认图片</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"attr\">mEtDividerDrawable</span> == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"attr\">mEtDividerDrawable</span> = context.getResources().getDrawable(R.drawable.shape_divider_identifying);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"attr\">mEtBackgroundDrawableFocus</span> == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"attr\">mEtBackgroundDrawableFocus</span> = context.getResources().getDrawable(R.drawable.shape_icv_et_bg_focus);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"attr\">mEtBackgroundDrawableNormal</span> == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"attr\">mEtBackgroundDrawableNormal</span> = context.getResources().getDrawable(R.drawable.shape_icv_et_bg_normal);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        initUI();</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>初始化 TextView</li>\n</ul>\n<figure class=\"highlight pony\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//初始化TextView</span></span><br><span class=\"line\">   private void initTextViews(<span class=\"type\">Context</span> context, int etNumber, int etWidth, <span class=\"type\">Drawable</span> etDividerDrawable, float etTextSize, int etTextColor) &#123;</span><br><span class=\"line\">       <span class=\"comment\">// 设置 editText 的输入长度</span></span><br><span class=\"line\">       mInputEt.setCursorVisible(<span class=\"literal\">false</span>);<span class=\"comment\">//将光标隐藏</span></span><br><span class=\"line\">       mInputEt.setFilters(<span class=\"function\"><span class=\"keyword\">new</span> <span class=\"title\">InputFilter</span>[]&#123;<span class=\"title\">new</span> <span class=\"title\">InputFilter</span>.<span class=\"title\">LengthFilter</span>(etNumber)&#125;); <span class=\"comment\">//最大输入长度</span></span></span><br><span class=\"line\"><span class=\"function\">       <span class=\"comment\">// 设置分割线的宽度</span></span></span><br><span class=\"line\"><span class=\"function\">       <span class=\"title\">if</span> (etDividerDrawable != null) &#123;</span></span><br><span class=\"line\"><span class=\"function\">           <span class=\"title\">etDividerDrawable</span>.<span class=\"title\">setBounds</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, etDividerDrawable.getMinimumWidth(), <span class=\"title\">etDividerDrawable</span>.<span class=\"title\">getMinimumHeight</span>());</span></span><br><span class=\"line\"><span class=\"function\">           <span class=\"title\">mContainerLl</span>.<span class=\"title\">setDividerDrawable</span>(etDividerDrawable);</span></span><br><span class=\"line\"><span class=\"function\">       &#125;</span></span><br><span class=\"line\"><span class=\"function\">       <span class=\"title\">mTextViews</span> = <span class=\"title\">new</span> <span class=\"title\">TextView</span>[<span class=\"title\">etNumber</span>];</span></span><br><span class=\"line\"><span class=\"function\">       <span class=\"title\">for</span> (int i = <span class=\"number\">0</span>; i &lt; mTextViews.length; i++) &#123;</span></span><br><span class=\"line\"><span class=\"function\">           <span class=\"title\">TextView</span> <span class=\"title\">textView</span> = <span class=\"title\">new</span> <span class=\"title\">TextView</span>(context);</span></span><br><span class=\"line\"><span class=\"function\">           <span class=\"title\">textView</span>.<span class=\"title\">setTextSize</span>(etTextSize);</span></span><br><span class=\"line\"><span class=\"function\">           <span class=\"title\">textView</span>.<span class=\"title\">setTextColor</span>(etTextColor);</span></span><br><span class=\"line\"><span class=\"function\">           <span class=\"title\">textView</span>.<span class=\"title\">setWidth</span>(etWidth);</span></span><br><span class=\"line\"><span class=\"function\">           <span class=\"title\">textView</span>.<span class=\"title\">setHeight</span>(etWidth);</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">           <span class=\"title\">if</span> (i == <span class=\"number\">0</span>) &#123;</span></span><br><span class=\"line\"><span class=\"function\">               <span class=\"title\">textView</span>.<span class=\"title\">setBackgroundDrawable</span>(mEtBackgroundDrawableFocus);</span></span><br><span class=\"line\"><span class=\"function\">           &#125; <span class=\"title\">else</span> &#123;</span></span><br><span class=\"line\"><span class=\"function\">               <span class=\"title\">textView</span>.<span class=\"title\">setBackgroundDrawable</span>(mEtBackgroundDrawableNormal);</span></span><br><span class=\"line\"><span class=\"function\">           &#125;</span></span><br><span class=\"line\"><span class=\"function\">           <span class=\"comment\">//設置透明度</span></span></span><br><span class=\"line\"><span class=\"function\">           <span class=\"title\">textView</span>.<span class=\"title\">getBackground</span>().<span class=\"title\">setAlpha</span>(mAlpha);</span></span><br><span class=\"line\"><span class=\"function\">           <span class=\"title\">textView</span>.<span class=\"title\">setGravity</span>(<span class=\"type\">Gravity</span>.<span class=\"type\">CENTER</span>);</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">           <span class=\"title\">textView</span>.<span class=\"title\">setFocusable</span>(false);</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">           <span class=\"title\">mTextViews</span>[<span class=\"title\">i</span>] = <span class=\"title\">textView</span>;</span></span><br><span class=\"line\"><span class=\"function\">       &#125;</span></span><br><span class=\"line\"><span class=\"function\">   &#125;</span></span><br></pre></td></tr></table></figure>\n<p>这里动态生成TextView 具体实现 注释很清楚，需要注意一点的是 textView.setFocusable(false); 不然在页面中TextView会获取焦点有一个 光标。用一个数组来存放 TextView。</p>\n<ul>\n<li>填充盛放TextView的 LinerLayout</li>\n</ul>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">initEtContainer</span><span class=\"params\">(TextView[] mTextViews)</span> </span>&#123;</span><br><span class=\"line\">     <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; mTextViews.length; i++) &#123;</span><br><span class=\"line\">          mContainerLl.addView(mTextViews[i]);</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>处理我们的输入事件 </li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ActivationCodeTextWatcher</span> <span class=\"keyword\">implements</span> <span class=\"title\">TextWatcher</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"meta\">@Override</span></span><br><span class=\"line\">       <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">beforeTextChanged</span><span class=\"params\">(CharSequence s, <span class=\"keyword\">int</span> start, <span class=\"keyword\">int</span> count, <span class=\"keyword\">int</span> after)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">       &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"meta\">@Override</span></span><br><span class=\"line\">       <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onTextChanged</span><span class=\"params\">(CharSequence s, <span class=\"keyword\">int</span> start, <span class=\"keyword\">int</span> before, <span class=\"keyword\">int</span> count)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">       &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"meta\">@Override</span></span><br><span class=\"line\">       <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">afterTextChanged</span><span class=\"params\">(Editable editable)</span> </span>&#123;</span><br><span class=\"line\">           String inputStr = editable.toString();</span><br><span class=\"line\">           <span class=\"keyword\">if</span> (inputStr != <span class=\"keyword\">null</span> &amp;&amp; !inputStr.equals(<span class=\"string\">\"\"</span>)) &#123;</span><br><span class=\"line\">               setText(inputStr);</span><br><span class=\"line\">               mInputEt.setText(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 监听删除按键</span></span><br><span class=\"line\">       mInputEt.setOnKeyListener(<span class=\"keyword\">new</span> OnKeyListener() &#123;</span><br><span class=\"line\">           <span class=\"meta\">@Override</span></span><br><span class=\"line\">           <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">onKey</span><span class=\"params\">(View v, <span class=\"keyword\">int</span> keyCode, KeyEvent event)</span> </span>&#123;</span><br><span class=\"line\">               <span class=\"keyword\">if</span> (keyCode == KeyEvent.KEYCODE_DEL &amp;&amp; event.getAction() == KeyEvent.ACTION_DOWN) &#123;</span><br><span class=\"line\">                   onKeyDelete();</span><br><span class=\"line\">                   <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">               <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;);</span><br><span class=\"line\">   <span class=\"comment\">// 给TextView 设置文字</span></span><br><span class=\"line\">   <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">setText</span><span class=\"params\">(String inputContent)</span> </span>&#123;</span><br><span class=\"line\">       <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; mTextViews.length; i++) &#123;</span><br><span class=\"line\">           TextView tv = mTextViews[i];</span><br><span class=\"line\">           <span class=\"keyword\">if</span> (tv.getText().toString().trim().equals(<span class=\"string\">\"\"</span>) || tv.getText().toString().length() &lt; mTvCountNumber) &#123;</span><br><span class=\"line\">               tv.setText(tv.getText().toString() + inputContent);</span><br><span class=\"line\">               <span class=\"comment\">// 添加输入完成的监听</span></span><br><span class=\"line\">               <span class=\"keyword\">if</span> (inputCompleteListener != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                   inputCompleteListener.inputComplete();</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">               <span class=\"comment\">//光标跳转到下一个</span></span><br><span class=\"line\">               <span class=\"keyword\">if</span>(tv.getText().toString().length() == mTvCountNumber) &#123;</span><br><span class=\"line\">                   tv.setBackgroundDrawable(mEtBackgroundDrawableNormal);</span><br><span class=\"line\">                   <span class=\"keyword\">if</span> (i &lt; mEtNumber - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                       mTextViews[i + <span class=\"number\">1</span>].setBackgroundDrawable(mEtBackgroundDrawableFocus);</span><br><span class=\"line\">                   &#125;</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">               <span class=\"keyword\">break</span>;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">// 监听删除</span></span><br><span class=\"line\">   <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">onKeyDelete</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">       <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = mTextViews.length - <span class=\"number\">1</span>; i &gt;= <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">           TextView tv = mTextViews[i];</span><br><span class=\"line\">           <span class=\"keyword\">if</span> (!tv.getText().toString().trim().equals(<span class=\"string\">\"\"</span>)) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">               tv.setText(tv.getText().subSequence(<span class=\"number\">0</span>,tv.getText().length()-<span class=\"number\">1</span>));</span><br><span class=\"line\">               <span class=\"comment\">// 添加删除完成监听</span></span><br><span class=\"line\">               <span class=\"keyword\">if</span> (inputCompleteListener != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                   inputCompleteListener.deleteContent();</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">               tv.setBackgroundDrawable(mEtBackgroundDrawableFocus);</span><br><span class=\"line\">               <span class=\"keyword\">if</span> (i &lt; mEtNumber - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                   mTextViews[i + <span class=\"number\">1</span>].setBackgroundDrawable(mEtBackgroundDrawableNormal);</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">               <span class=\"keyword\">break</span>;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>提供给外界的方法</li>\n</ul>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    * 获取输入文本</span></span><br><span class=\"line\"><span class=\"comment\">    *</span></span><br><span class=\"line\"><span class=\"comment\">    * @return string</span></span><br><span class=\"line\"><span class=\"comment\">    */</span></span><br><span class=\"line\">   <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getInputContent</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">       StringBuffer buffer = <span class=\"keyword\">new</span> StringBuffer();</span><br><span class=\"line\">       <span class=\"keyword\">for</span> (TextView tv : mTextViews) &#123;</span><br><span class=\"line\">           buffer.append(tv.getText().toString().trim());</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> buffer.toString();</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    * 删除输入内容</span></span><br><span class=\"line\"><span class=\"comment\">    */</span></span><br><span class=\"line\">   <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">clearInputContent</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">       <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; mTextViews.length; i++) &#123;</span><br><span class=\"line\">           <span class=\"keyword\">if</span> (i == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">               mTextViews[i].setBackgroundDrawable(mEtBackgroundDrawableFocus);</span><br><span class=\"line\">           &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">               mTextViews[i].setBackgroundDrawable(mEtBackgroundDrawableNormal);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">           mTextViews[i].setText(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    * 设置输入框个数</span></span><br><span class=\"line\"><span class=\"comment\">    * @param etNumber</span></span><br><span class=\"line\"><span class=\"comment\">    */</span></span><br><span class=\"line\">   <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setEtNumber</span>(<span class=\"params\"><span class=\"keyword\">int</span> etNumber</span>) </span>&#123;</span><br><span class=\"line\">       <span class=\"keyword\">this</span>.mEtNumber = etNumber;</span><br><span class=\"line\">       mInputEt.removeTextChangedListener(mTextWatcher);</span><br><span class=\"line\">       mContainerLl.removeAllViews();</span><br><span class=\"line\">       initUI();</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    * 获取输入的位数</span></span><br><span class=\"line\"><span class=\"comment\">    *</span></span><br><span class=\"line\"><span class=\"comment\">    * @return int</span></span><br><span class=\"line\"><span class=\"comment\">    */</span></span><br><span class=\"line\">   <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">getEtNumber</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> mEtNumber;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">// 输入完成 和 删除成功 的监听</span></span><br><span class=\"line\">   <span class=\"keyword\">private</span> InputCompleteListener inputCompleteListener;</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setInputCompleteListener</span>(<span class=\"params\">InputCompleteListener inputCompleteListener</span>) </span>&#123;</span><br><span class=\"line\">       <span class=\"keyword\">this</span>.inputCompleteListener = inputCompleteListener;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">InputCompleteListener</span> &#123;</span><br><span class=\"line\">       <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">inputComplete</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">deleteContent</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"下载\"><a href=\"#下载\" class=\"headerlink\" title=\"下载\"></a>下载</h2><p>附上 github 下载地址 <a href=\"https://github.com/lovexinforever/ActivationCodeView\" target=\"_blank\" rel=\"noopener\">ActivationCodeView</a></p>\n","site":{"data":{}},"excerpt":"<p>前两天接了个项目,项目中需要自定义一个激活码输入框,类似于滴滴打车那种正方形输入框.然后思考了一下怎么去做这个输入框.终于在今天搞定了.输入框接收 自定义输入框的数量,输入框的宽度,输入框之间的分割线,输入框文字颜色,输入框文字大小,输入框获取焦点的边框,每个输入框的文字个数以及输入框的透明度<br>","more":"</p>\n<h2 id=\"效果展示\"><a href=\"#效果展示\" class=\"headerlink\" title=\"效果展示\"></a>效果展示</h2><p><img src=\"https://raw.githubusercontent.com/lovexinforever/blog_img/master/ezgif.com-video-to-gif.gif\"></p>\n<h2 id=\"开发思路\"><a href=\"#开发思路\" class=\"headerlink\" title=\"开发思路\"></a>开发思路</h2><p>我们需要通过EditText控件接受我们的输入，界面中明显是不能看到这个控件的，所以我们需要将这个控件给设置透明。然后将接受到的输入内容设置给我们的TextView。为了满足正方形的样式，只需要给TextView设置一个背景即可。在开发过程中，我们发现验证码的个数不是固定的，有4位数的，也有6位数的。为了实现低耦合的复用性。我们需要一个自定义的属性来满足这个要求。其他具体的思路将会在具体实现的时候讲。</p>\n<h2 id=\"实现\"><a href=\"#实现\" class=\"headerlink\" title=\"实现\"></a>实现</h2><ul>\n<li>组合控件的布局实现</li>\n</ul>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"php\"><span class=\"meta\">&lt;?</span>xml version=<span class=\"string\">\"1.0\"</span> encoding=<span class=\"string\">\"utf-8\"</span><span class=\"meta\">?&gt;</span></span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">RelativeLayout</span> <span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">    <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"match_parent\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">LinearLayout</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/container_et\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"wrap_content\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_centerInParent</span>=<span class=\"string\">\"true\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:gravity</span>=<span class=\"string\">\"center_vertical\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:orientation</span>=<span class=\"string\">\"horizontal\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:showDividers</span>=<span class=\"string\">\"middle\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">LinearLayout</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">EditText</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/et\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"match_parent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:background</span>=<span class=\"string\">\"@android:color/transparent\"</span></span></span><br><span class=\"line\"><span class=\"tag\">        <span class=\"attr\">android:inputType</span>=<span class=\"string\">\"number\"</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>这的LinearLayout用来存放TextVeiw ,android:showDividers=”middle”来设定我们的间隔的方式。</p>\n<ul>\n<li>设计自定义属性</li>\n</ul>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"php\"><span class=\"meta\">&lt;?</span>xml version=<span class=\"string\">\"1.0\"</span> encoding=<span class=\"string\">\"utf-8\"</span><span class=\"meta\">?&gt;</span></span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">resources</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">declare-styleable</span> <span class=\"attr\">name</span>=<span class=\"string\">\"ActivationCodeView\"</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">attr</span> <span class=\"attr\">name</span>=<span class=\"string\">\"icv_et_number\"</span> <span class=\"attr\">format</span>=<span class=\"string\">\"integer\"</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--输入框的宽度--&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">attr</span> <span class=\"attr\">name</span>=<span class=\"string\">\"icv_et_width\"</span> <span class=\"attr\">format</span>=<span class=\"string\">\"dimension|reference\"</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--输入框之间的分割线--&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">attr</span> <span class=\"attr\">name</span>=<span class=\"string\">\"icv_et_divider_drawable\"</span> <span class=\"attr\">format</span>=<span class=\"string\">\"reference\"</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--输入框文字颜色--&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">attr</span> <span class=\"attr\">name</span>=<span class=\"string\">\"icv_et_text_color\"</span> <span class=\"attr\">format</span>=<span class=\"string\">\"color|reference\"</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--输入框文字大小--&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">attr</span> <span class=\"attr\">name</span>=<span class=\"string\">\"icv_et_text_size\"</span> <span class=\"attr\">format</span>=<span class=\"string\">\"dimension|reference\"</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--输入框获取焦点时边框--&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">attr</span> <span class=\"attr\">name</span>=<span class=\"string\">\"icv_et_bg_focus\"</span> <span class=\"attr\">format</span>=<span class=\"string\">\"reference\"</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--输入框没有焦点时边框--&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">attr</span> <span class=\"attr\">name</span>=<span class=\"string\">\"icv_et_bg_normal\"</span> <span class=\"attr\">format</span>=<span class=\"string\">\"reference\"</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--每个输入框中的文字个数 --&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">attr</span> <span class=\"attr\">name</span>=<span class=\"string\">\"icv_text_count_num\"</span> <span class=\"attr\">format</span>=<span class=\"string\">\"integer\"</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--输入框背景透明度 --&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">attr</span> <span class=\"attr\">name</span>=<span class=\"string\">\"icv_text_bg_alpha\"</span> <span class=\"attr\">format</span>=<span class=\"string\">\"integer\"</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">declare-styleable</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">resources</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>注释已经很清楚了，就不再解释了。</p>\n<ul>\n<li>获取自定义属性</li>\n</ul>\n<figure class=\"highlight nix\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 初始化</span></span><br><span class=\"line\"><span class=\"comment\">     * @param context</span></span><br><span class=\"line\"><span class=\"comment\">     * @param attrs</span></span><br><span class=\"line\"><span class=\"comment\">     * @param defStyleAttr</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    private void init(Context context, AttributeSet attrs, int defStyleAttr) &#123;</span><br><span class=\"line\">        LayoutInflater.from(context).inflate(R.layout.layout_activation_code, this);</span><br><span class=\"line\">        <span class=\"attr\">mContainerLl</span> = (LinearLayout) this.findViewById(R.id.container_et);</span><br><span class=\"line\">        <span class=\"attr\">mInputEt</span> = (EditText) this.findViewById(R.id.et);</span><br><span class=\"line\"></span><br><span class=\"line\">        TypedArray <span class=\"attr\">typedArray</span> = context.obtainStyledAttributes(attrs, R.styleable.ActivationCodeView, defStyleAttr, <span class=\"number\">0</span>);</span><br><span class=\"line\">        <span class=\"attr\">mEtNumber</span> = typedArray.getInteger(R.styleable.ActivationCodeView_icv_et_number, <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"attr\">mTvCountNumber</span> = typedArray.getInteger(R.styleable.ActivationCodeView_icv_text_count_num, <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"attr\">mAlpha</span> = typedArray.getInteger(R.styleable.ActivationCodeView_icv_text_bg_alpha,<span class=\"number\">255</span>);</span><br><span class=\"line\">        <span class=\"attr\">mEtWidth</span> = typedArray.getDimensionPixelSize(R.styleable.ActivationCodeView_icv_et_width, <span class=\"number\">42</span>);</span><br><span class=\"line\">        <span class=\"attr\">mEtDividerDrawable</span> = typedArray.getDrawable(R.styleable.ActivationCodeView_icv_et_divider_drawable);</span><br><span class=\"line\">        <span class=\"attr\">mEtTextSize</span> = typedArray.getDimensionPixelSize(R.styleable.ActivationCodeView_icv_et_text_size, <span class=\"number\">16</span>);</span><br><span class=\"line\">        <span class=\"attr\">mEtTextColor</span> = typedArray.getColor(R.styleable.ActivationCodeView_icv_et_text_color, Color.BLACK);</span><br><span class=\"line\">        <span class=\"attr\">mEtBackgroundDrawableFocus</span> = typedArray.getDrawable(R.styleable.ActivationCodeView_icv_et_bg_focus);</span><br><span class=\"line\">        <span class=\"attr\">mEtBackgroundDrawableNormal</span> = typedArray.getDrawable(R.styleable.ActivationCodeView_icv_et_bg_normal);</span><br><span class=\"line\">        //释放资源</span><br><span class=\"line\">        typedArray.recycle();</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        // 当xml中未配置时 这里进行初始配置默认图片</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"attr\">mEtDividerDrawable</span> == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"attr\">mEtDividerDrawable</span> = context.getResources().getDrawable(R.drawable.shape_divider_identifying);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"attr\">mEtBackgroundDrawableFocus</span> == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"attr\">mEtBackgroundDrawableFocus</span> = context.getResources().getDrawable(R.drawable.shape_icv_et_bg_focus);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"attr\">mEtBackgroundDrawableNormal</span> == <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">            <span class=\"attr\">mEtBackgroundDrawableNormal</span> = context.getResources().getDrawable(R.drawable.shape_icv_et_bg_normal);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        initUI();</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>初始化 TextView</li>\n</ul>\n<figure class=\"highlight pony\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//初始化TextView</span></span><br><span class=\"line\">   private void initTextViews(<span class=\"type\">Context</span> context, int etNumber, int etWidth, <span class=\"type\">Drawable</span> etDividerDrawable, float etTextSize, int etTextColor) &#123;</span><br><span class=\"line\">       <span class=\"comment\">// 设置 editText 的输入长度</span></span><br><span class=\"line\">       mInputEt.setCursorVisible(<span class=\"literal\">false</span>);<span class=\"comment\">//将光标隐藏</span></span><br><span class=\"line\">       mInputEt.setFilters(<span class=\"function\"><span class=\"keyword\">new</span> <span class=\"title\">InputFilter</span>[]&#123;<span class=\"title\">new</span> <span class=\"title\">InputFilter</span>.<span class=\"title\">LengthFilter</span>(etNumber)&#125;); <span class=\"comment\">//最大输入长度</span></span></span><br><span class=\"line\"><span class=\"function\">       <span class=\"comment\">// 设置分割线的宽度</span></span></span><br><span class=\"line\"><span class=\"function\">       <span class=\"title\">if</span> (etDividerDrawable != null) &#123;</span></span><br><span class=\"line\"><span class=\"function\">           <span class=\"title\">etDividerDrawable</span>.<span class=\"title\">setBounds</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, etDividerDrawable.getMinimumWidth(), <span class=\"title\">etDividerDrawable</span>.<span class=\"title\">getMinimumHeight</span>());</span></span><br><span class=\"line\"><span class=\"function\">           <span class=\"title\">mContainerLl</span>.<span class=\"title\">setDividerDrawable</span>(etDividerDrawable);</span></span><br><span class=\"line\"><span class=\"function\">       &#125;</span></span><br><span class=\"line\"><span class=\"function\">       <span class=\"title\">mTextViews</span> = <span class=\"title\">new</span> <span class=\"title\">TextView</span>[<span class=\"title\">etNumber</span>];</span></span><br><span class=\"line\"><span class=\"function\">       <span class=\"title\">for</span> (int i = <span class=\"number\">0</span>; i &lt; mTextViews.length; i++) &#123;</span></span><br><span class=\"line\"><span class=\"function\">           <span class=\"title\">TextView</span> <span class=\"title\">textView</span> = <span class=\"title\">new</span> <span class=\"title\">TextView</span>(context);</span></span><br><span class=\"line\"><span class=\"function\">           <span class=\"title\">textView</span>.<span class=\"title\">setTextSize</span>(etTextSize);</span></span><br><span class=\"line\"><span class=\"function\">           <span class=\"title\">textView</span>.<span class=\"title\">setTextColor</span>(etTextColor);</span></span><br><span class=\"line\"><span class=\"function\">           <span class=\"title\">textView</span>.<span class=\"title\">setWidth</span>(etWidth);</span></span><br><span class=\"line\"><span class=\"function\">           <span class=\"title\">textView</span>.<span class=\"title\">setHeight</span>(etWidth);</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">           <span class=\"title\">if</span> (i == <span class=\"number\">0</span>) &#123;</span></span><br><span class=\"line\"><span class=\"function\">               <span class=\"title\">textView</span>.<span class=\"title\">setBackgroundDrawable</span>(mEtBackgroundDrawableFocus);</span></span><br><span class=\"line\"><span class=\"function\">           &#125; <span class=\"title\">else</span> &#123;</span></span><br><span class=\"line\"><span class=\"function\">               <span class=\"title\">textView</span>.<span class=\"title\">setBackgroundDrawable</span>(mEtBackgroundDrawableNormal);</span></span><br><span class=\"line\"><span class=\"function\">           &#125;</span></span><br><span class=\"line\"><span class=\"function\">           <span class=\"comment\">//設置透明度</span></span></span><br><span class=\"line\"><span class=\"function\">           <span class=\"title\">textView</span>.<span class=\"title\">getBackground</span>().<span class=\"title\">setAlpha</span>(mAlpha);</span></span><br><span class=\"line\"><span class=\"function\">           <span class=\"title\">textView</span>.<span class=\"title\">setGravity</span>(<span class=\"type\">Gravity</span>.<span class=\"type\">CENTER</span>);</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">           <span class=\"title\">textView</span>.<span class=\"title\">setFocusable</span>(false);</span></span><br><span class=\"line\"><span class=\"function\"></span></span><br><span class=\"line\"><span class=\"function\">           <span class=\"title\">mTextViews</span>[<span class=\"title\">i</span>] = <span class=\"title\">textView</span>;</span></span><br><span class=\"line\"><span class=\"function\">       &#125;</span></span><br><span class=\"line\"><span class=\"function\">   &#125;</span></span><br></pre></td></tr></table></figure>\n<p>这里动态生成TextView 具体实现 注释很清楚，需要注意一点的是 textView.setFocusable(false); 不然在页面中TextView会获取焦点有一个 光标。用一个数组来存放 TextView。</p>\n<ul>\n<li>填充盛放TextView的 LinerLayout</li>\n</ul>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">initEtContainer</span><span class=\"params\">(TextView[] mTextViews)</span> </span>&#123;</span><br><span class=\"line\">     <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; mTextViews.length; i++) &#123;</span><br><span class=\"line\">          mContainerLl.addView(mTextViews[i]);</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>处理我们的输入事件 </li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">private</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ActivationCodeTextWatcher</span> <span class=\"keyword\">implements</span> <span class=\"title\">TextWatcher</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"meta\">@Override</span></span><br><span class=\"line\">       <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">beforeTextChanged</span><span class=\"params\">(CharSequence s, <span class=\"keyword\">int</span> start, <span class=\"keyword\">int</span> count, <span class=\"keyword\">int</span> after)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">       &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"meta\">@Override</span></span><br><span class=\"line\">       <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">onTextChanged</span><span class=\"params\">(CharSequence s, <span class=\"keyword\">int</span> start, <span class=\"keyword\">int</span> before, <span class=\"keyword\">int</span> count)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">       &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"meta\">@Override</span></span><br><span class=\"line\">       <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">afterTextChanged</span><span class=\"params\">(Editable editable)</span> </span>&#123;</span><br><span class=\"line\">           String inputStr = editable.toString();</span><br><span class=\"line\">           <span class=\"keyword\">if</span> (inputStr != <span class=\"keyword\">null</span> &amp;&amp; !inputStr.equals(<span class=\"string\">\"\"</span>)) &#123;</span><br><span class=\"line\">               setText(inputStr);</span><br><span class=\"line\">               mInputEt.setText(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 监听删除按键</span></span><br><span class=\"line\">       mInputEt.setOnKeyListener(<span class=\"keyword\">new</span> OnKeyListener() &#123;</span><br><span class=\"line\">           <span class=\"meta\">@Override</span></span><br><span class=\"line\">           <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">boolean</span> <span class=\"title\">onKey</span><span class=\"params\">(View v, <span class=\"keyword\">int</span> keyCode, KeyEvent event)</span> </span>&#123;</span><br><span class=\"line\">               <span class=\"keyword\">if</span> (keyCode == KeyEvent.KEYCODE_DEL &amp;&amp; event.getAction() == KeyEvent.ACTION_DOWN) &#123;</span><br><span class=\"line\">                   onKeyDelete();</span><br><span class=\"line\">                   <span class=\"keyword\">return</span> <span class=\"keyword\">true</span>;</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">               <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;);</span><br><span class=\"line\">   <span class=\"comment\">// 给TextView 设置文字</span></span><br><span class=\"line\">   <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">setText</span><span class=\"params\">(String inputContent)</span> </span>&#123;</span><br><span class=\"line\">       <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; mTextViews.length; i++) &#123;</span><br><span class=\"line\">           TextView tv = mTextViews[i];</span><br><span class=\"line\">           <span class=\"keyword\">if</span> (tv.getText().toString().trim().equals(<span class=\"string\">\"\"</span>) || tv.getText().toString().length() &lt; mTvCountNumber) &#123;</span><br><span class=\"line\">               tv.setText(tv.getText().toString() + inputContent);</span><br><span class=\"line\">               <span class=\"comment\">// 添加输入完成的监听</span></span><br><span class=\"line\">               <span class=\"keyword\">if</span> (inputCompleteListener != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                   inputCompleteListener.inputComplete();</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">               <span class=\"comment\">//光标跳转到下一个</span></span><br><span class=\"line\">               <span class=\"keyword\">if</span>(tv.getText().toString().length() == mTvCountNumber) &#123;</span><br><span class=\"line\">                   tv.setBackgroundDrawable(mEtBackgroundDrawableNormal);</span><br><span class=\"line\">                   <span class=\"keyword\">if</span> (i &lt; mEtNumber - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                       mTextViews[i + <span class=\"number\">1</span>].setBackgroundDrawable(mEtBackgroundDrawableFocus);</span><br><span class=\"line\">                   &#125;</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">               <span class=\"keyword\">break</span>;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">// 监听删除</span></span><br><span class=\"line\">   <span class=\"function\"><span class=\"keyword\">private</span> <span class=\"keyword\">void</span> <span class=\"title\">onKeyDelete</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">       <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = mTextViews.length - <span class=\"number\">1</span>; i &gt;= <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">           TextView tv = mTextViews[i];</span><br><span class=\"line\">           <span class=\"keyword\">if</span> (!tv.getText().toString().trim().equals(<span class=\"string\">\"\"</span>)) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">               tv.setText(tv.getText().subSequence(<span class=\"number\">0</span>,tv.getText().length()-<span class=\"number\">1</span>));</span><br><span class=\"line\">               <span class=\"comment\">// 添加删除完成监听</span></span><br><span class=\"line\">               <span class=\"keyword\">if</span> (inputCompleteListener != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                   inputCompleteListener.deleteContent();</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">               tv.setBackgroundDrawable(mEtBackgroundDrawableFocus);</span><br><span class=\"line\">               <span class=\"keyword\">if</span> (i &lt; mEtNumber - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                   mTextViews[i + <span class=\"number\">1</span>].setBackgroundDrawable(mEtBackgroundDrawableNormal);</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">               <span class=\"keyword\">break</span>;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>提供给外界的方法</li>\n</ul>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    * 获取输入文本</span></span><br><span class=\"line\"><span class=\"comment\">    *</span></span><br><span class=\"line\"><span class=\"comment\">    * @return string</span></span><br><span class=\"line\"><span class=\"comment\">    */</span></span><br><span class=\"line\">   <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">getInputContent</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">       StringBuffer buffer = <span class=\"keyword\">new</span> StringBuffer();</span><br><span class=\"line\">       <span class=\"keyword\">for</span> (TextView tv : mTextViews) &#123;</span><br><span class=\"line\">           buffer.append(tv.getText().toString().trim());</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> buffer.toString();</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    * 删除输入内容</span></span><br><span class=\"line\"><span class=\"comment\">    */</span></span><br><span class=\"line\">   <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">clearInputContent</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">       <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; mTextViews.length; i++) &#123;</span><br><span class=\"line\">           <span class=\"keyword\">if</span> (i == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">               mTextViews[i].setBackgroundDrawable(mEtBackgroundDrawableFocus);</span><br><span class=\"line\">           &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">               mTextViews[i].setBackgroundDrawable(mEtBackgroundDrawableNormal);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">           mTextViews[i].setText(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    * 设置输入框个数</span></span><br><span class=\"line\"><span class=\"comment\">    * @param etNumber</span></span><br><span class=\"line\"><span class=\"comment\">    */</span></span><br><span class=\"line\">   <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setEtNumber</span>(<span class=\"params\"><span class=\"keyword\">int</span> etNumber</span>) </span>&#123;</span><br><span class=\"line\">       <span class=\"keyword\">this</span>.mEtNumber = etNumber;</span><br><span class=\"line\">       mInputEt.removeTextChangedListener(mTextWatcher);</span><br><span class=\"line\">       mContainerLl.removeAllViews();</span><br><span class=\"line\">       initUI();</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">    * 获取输入的位数</span></span><br><span class=\"line\"><span class=\"comment\">    *</span></span><br><span class=\"line\"><span class=\"comment\">    * @return int</span></span><br><span class=\"line\"><span class=\"comment\">    */</span></span><br><span class=\"line\">   <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">int</span> <span class=\"title\">getEtNumber</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> mEtNumber;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">// 输入完成 和 删除成功 的监听</span></span><br><span class=\"line\">   <span class=\"keyword\">private</span> InputCompleteListener inputCompleteListener;</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setInputCompleteListener</span>(<span class=\"params\">InputCompleteListener inputCompleteListener</span>) </span>&#123;</span><br><span class=\"line\">       <span class=\"keyword\">this</span>.inputCompleteListener = inputCompleteListener;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title\">InputCompleteListener</span> &#123;</span><br><span class=\"line\">       <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">inputComplete</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">deleteContent</span>(<span class=\"params\"></span>)</span>;</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"下载\"><a href=\"#下载\" class=\"headerlink\" title=\"下载\"></a>下载</h2><p>附上 github 下载地址 <a href=\"https://github.com/lovexinforever/ActivationCodeView\" target=\"_blank\" rel=\"noopener\">ActivationCodeView</a></p>"}],"PostAsset":[],"PostCategory":[{"post_id":"cjhio9noa000m6bfy7x3kjnyi","category_id":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9noe000s6bfyzpum9p65"},{"post_id":"cjhio9nob000n6bfy38k2hih3","category_id":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9nof000v6bfykx1972n4"},{"post_id":"cjhio9noc000q6bfy93fa8jvx","category_id":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9noh000z6bfyazg704yl"},{"post_id":"cjhio9noc000q6bfy93fa8jvx","category_id":"cjhio9no9000j6bfyitca4fdz","_id":"cjhio9noi00136bfyfsl3qwmh"},{"post_id":"cjhio9nod000r6bfye5ty4zvr","category_id":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9noj00176bfywmy1jdb9"},{"post_id":"cjhio9no100096bfy9hztnf9p","category_id":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9nol001a6bfy130v5hwz"},{"post_id":"cjhio9no100096bfy9hztnf9p","category_id":"cjhio9nof000t6bfyti45akvh","_id":"cjhio9nom001d6bfypmbwv750"},{"post_id":"cjhio9nog000y6bfypk4283wv","category_id":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9non001h6bfyrzotd7sx"},{"post_id":"cjhio9noh00126bfyoxe061hn","category_id":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9noo001l6bfy0sjxwkt4"},{"post_id":"cjhio9noh00126bfyoxe061hn","category_id":"cjhio9noc000o6bfyfiqow68d","_id":"cjhio9noq001o6bfy50lvh7l2"},{"post_id":"cjhio9no4000c6bfyxxr9rdr3","category_id":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9nor001r6bfyphz4z9kr"},{"post_id":"cjhio9no4000c6bfyxxr9rdr3","category_id":"cjhio9nof000t6bfyti45akvh","_id":"cjhio9nos001v6bfy5maq8q6x"},{"post_id":"cjhio9nok00196bfycu7q1kdq","category_id":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9not001z6bfyi6q16rlf"},{"post_id":"cjhio9nok00196bfycu7q1kdq","category_id":"cjhio9noc000o6bfyfiqow68d","_id":"cjhio9nou00236bfyiuysnsd4"},{"post_id":"cjhio9non001k6bfyof9esn65","category_id":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9nov00266bfyhtfpydnk"},{"post_id":"cjhio9no5000d6bfyknp555nv","category_id":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9nox002b6bfyhya4fnym"},{"post_id":"cjhio9no5000d6bfyknp555nv","category_id":"cjhio9nom001f6bfytjn01wfh","_id":"cjhio9noy002e6bfy1u13d1at"},{"post_id":"cjhio9nop001m6bfyzcw5wsvh","category_id":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9noy002h6bfyakoqtnmz"},{"post_id":"cjhio9nop001m6bfyzcw5wsvh","category_id":"cjhio9nof000t6bfyti45akvh","_id":"cjhio9noz002j6bfye5cr2hkw"},{"post_id":"cjhio9no7000g6bfyz6zpip1b","category_id":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9noz002l6bfyga63gnis"},{"post_id":"cjhio9no7000g6bfyz6zpip1b","category_id":"cjhio9nom001f6bfytjn01wfh","_id":"cjhio9noz002o6bfypl2yo5j2"},{"post_id":"cjhio9nos001x6bfys6256o7x","category_id":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9np0002r6bfynov09i65"},{"post_id":"cjhio9no8000i6bfyp62lsa0c","category_id":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9np0002u6bfyqt4f618l"},{"post_id":"cjhio9no8000i6bfyp62lsa0c","category_id":"cjhio9nom001f6bfytjn01wfh","_id":"cjhio9np0002w6bfyp5wuelcv"},{"post_id":"cjhio9nnz00086bfyi07p4v4i","category_id":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9np1002z6bfynbhemsve"},{"post_id":"cjhio9nnz00086bfyi07p4v4i","category_id":"cjhio9no9000j6bfyitca4fdz","_id":"cjhio9np100306bfytikgtfew"},{"post_id":"cjhio9nnz00086bfyi07p4v4i","category_id":"cjhio9nox002a6bfy8j85pc9g","_id":"cjhio9np100336bfyyp0fypdc"},{"post_id":"cjhio9nnp00006bfyg2m5pnqx","category_id":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9np100346bfyf5vbtey9"},{"post_id":"cjhio9nnp00006bfyg2m5pnqx","category_id":"cjhio9noc000o6bfyfiqow68d","_id":"cjhio9np200366bfyt8oohn9p"},{"post_id":"cjhio9nnp00006bfyg2m5pnqx","category_id":"cjhio9noy002i6bfy7l54t5c5","_id":"cjhio9np200396bfyjoxt8le7"},{"post_id":"cjhio9nof000u6bfymtlynb7x","category_id":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9np3003c6bfyi3findy7"},{"post_id":"cjhio9nof000u6bfymtlynb7x","category_id":"cjhio9noz002m6bfysux56mh9","_id":"cjhio9np3003f6bfyrwqjeo2n"},{"post_id":"cjhio9noj00166bfy3zejfkjf","category_id":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9np4003i6bfyz73niop7"},{"post_id":"cjhio9noj00166bfy3zejfkjf","category_id":"cjhio9np0002t6bfy8rgea4rc","_id":"cjhio9np4003k6bfysofjo66t"},{"post_id":"cjhio9nnt00026bfy3r0ujp4f","category_id":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9np4003m6bfyqwrxgwfu"},{"post_id":"cjhio9nnt00026bfy3r0ujp4f","category_id":"cjhio9noc000o6bfyfiqow68d","_id":"cjhio9np5003o6bfy1l889xgs"},{"post_id":"cjhio9nnt00026bfy3r0ujp4f","category_id":"cjhio9noy002i6bfy7l54t5c5","_id":"cjhio9np5003q6bfyvm1ctnci"},{"post_id":"cjhio9nol001c6bfyqedo2cxm","category_id":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9np6003t6bfydl0ovfeo"},{"post_id":"cjhio9nol001c6bfyqedo2cxm","category_id":"cjhio9no9000j6bfyitca4fdz","_id":"cjhio9np6003w6bfyhma2mshb"},{"post_id":"cjhio9nol001c6bfyqedo2cxm","category_id":"cjhio9np100326bfysjk5c41y","_id":"cjhio9np6003z6bfytrvyelq3"},{"post_id":"cjhio9nom001g6bfyucvsf8gt","category_id":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9np700416bfy38039sr9"},{"post_id":"cjhio9nom001g6bfyucvsf8gt","category_id":"cjhio9no9000j6bfyitca4fdz","_id":"cjhio9np700436bfy6eq4hwgx"},{"post_id":"cjhio9nom001g6bfyucvsf8gt","category_id":"cjhio9np100326bfysjk5c41y","_id":"cjhio9np700446bfyfusgprtj"},{"post_id":"cjhio9nor001t6bfyl2tcnecv","category_id":"cjhio9np4003j6bfyvmiob2gx","_id":"cjhio9np800466bfykjnq39gm"},{"post_id":"cjhio9nny00066bfy2ajw8ksx","category_id":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9np800476bfypmkr9hzd"},{"post_id":"cjhio9nny00066bfy2ajw8ksx","category_id":"cjhio9noc000o6bfyfiqow68d","_id":"cjhio9np900496bfys0uomdnj"},{"post_id":"cjhio9nny00066bfy2ajw8ksx","category_id":"cjhio9noy002i6bfy7l54t5c5","_id":"cjhio9np9004b6bfybgrakfx3"},{"post_id":"cjhio9nox002d6bfyppojmfe6","category_id":"cjhio9nnw00046bfyaw5au0dz","_id":"cjhio9np9004e6bfyxr0qhkdc"},{"post_id":"cjhio9nox002d6bfyppojmfe6","category_id":"cjhio9noc000o6bfyfiqow68d","_id":"cjhio9npa004g6bfyodpyj4k2"},{"post_id":"cjhio9nox002d6bfyppojmfe6","category_id":"cjhio9noy002i6bfy7l54t5c5","_id":"cjhio9npa004j6bfys18ctrdl"},{"post_id":"cjhio9noq001q6bfy6wfmls77","category_id":"cjhio9np3003d6bfy3y0zawbq","_id":"cjhio9npa004k6bfyevgeqoid"},{"post_id":"cjhio9noq001q6bfy6wfmls77","category_id":"cjhio9np6003y6bfyyg9ypxxk","_id":"cjhio9npb004m6bfywyg4p26a"}],"PostTag":[{"post_id":"cjhio9nnp00006bfyg2m5pnqx","tag_id":"cjhio9nnx00056bfyvd3grwba","_id":"cjhio9no8000h6bfysz7io35e"},{"post_id":"cjhio9nnp00006bfyg2m5pnqx","tag_id":"cjhio9no2000b6bfy4ep0ommp","_id":"cjhio9no9000k6bfy468ki10f"},{"post_id":"cjhio9nnt00026bfy3r0ujp4f","tag_id":"cjhio9no7000f6bfyjgvdd93b","_id":"cjhio9nog000x6bfyo3mb1ss9"},{"post_id":"cjhio9nnt00026bfy3r0ujp4f","tag_id":"cjhio9no9000l6bfyxy7i5ts9","_id":"cjhio9noh00116bfy5n4p215c"},{"post_id":"cjhio9nnt00026bfy3r0ujp4f","tag_id":"cjhio9noc000p6bfyvog0x1d1","_id":"cjhio9noi00156bfy7fi9367u"},{"post_id":"cjhio9nok00196bfycu7q1kdq","tag_id":"cjhio9nnx00056bfyvd3grwba","_id":"cjhio9nom001e6bfyi20f737a"},{"post_id":"cjhio9nok00196bfycu7q1kdq","tag_id":"cjhio9no2000b6bfy4ep0ommp","_id":"cjhio9non001j6bfylhna80px"},{"post_id":"cjhio9nny00066bfy2ajw8ksx","tag_id":"cjhio9nog000w6bfy1gn9fal7","_id":"cjhio9nor001s6bfys74at2f0"},{"post_id":"cjhio9nny00066bfy2ajw8ksx","tag_id":"cjhio9no7000f6bfyjgvdd93b","_id":"cjhio9nos001w6bfyjswwhazg"},{"post_id":"cjhio9nny00066bfy2ajw8ksx","tag_id":"cjhio9nol001b6bfy9rg46gdj","_id":"cjhio9not00206bfygm1mipyt"},{"post_id":"cjhio9nny00066bfy2ajw8ksx","tag_id":"cjhio9non001i6bfynl5s003t","_id":"cjhio9nov00246bfy7bgwxfxt"},{"post_id":"cjhio9nor001t6bfyl2tcnecv","tag_id":"cjhio9nnx00056bfyvd3grwba","_id":"cjhio9now00286bfy9az4855m"},{"post_id":"cjhio9nor001t6bfyl2tcnecv","tag_id":"cjhio9no2000b6bfy4ep0ommp","_id":"cjhio9nox002c6bfyqcql30wc"},{"post_id":"cjhio9nos001x6bfys6256o7x","tag_id":"cjhio9nnx00056bfyvd3grwba","_id":"cjhio9noy002g6bfyst716lqo"},{"post_id":"cjhio9nnz00086bfyi07p4v4i","tag_id":"cjhio9noq001p6bfyb4sjzb4e","_id":"cjhio9noz002n6bfyxwm3gday"},{"post_id":"cjhio9nnz00086bfyi07p4v4i","tag_id":"cjhio9not001y6bfyw9nxywyd","_id":"cjhio9noz002p6bfyi747bw61"},{"post_id":"cjhio9nnz00086bfyi07p4v4i","tag_id":"cjhio9now00276bfyfa54mm1a","_id":"cjhio9np0002s6bfyl7f99taq"},{"post_id":"cjhio9nnz00086bfyi07p4v4i","tag_id":"cjhio9noy002f6bfyw5qraxvo","_id":"cjhio9np0002v6bfyfws1r029"},{"post_id":"cjhio9no100096bfy9hztnf9p","tag_id":"cjhio9noz002k6bfy763r0f0h","_id":"cjhio9np200386bfy3dcu19ko"},{"post_id":"cjhio9no100096bfy9hztnf9p","tag_id":"cjhio9np0002q6bfyvhfig5u5","_id":"cjhio9np2003a6bfypimokzs6"},{"post_id":"cjhio9no100096bfy9hztnf9p","tag_id":"cjhio9np0002x6bfy00jo2gtf","_id":"cjhio9np3003e6bfy34ujamhm"},{"post_id":"cjhio9no100096bfy9hztnf9p","tag_id":"cjhio9np100316bfy8npjxkga","_id":"cjhio9np3003g6bfy678aco00"},{"post_id":"cjhio9no4000c6bfyxxr9rdr3","tag_id":"cjhio9noz002k6bfy763r0f0h","_id":"cjhio9np5003r6bfykrvcp2lv"},{"post_id":"cjhio9no4000c6bfyxxr9rdr3","tag_id":"cjhio9np0002q6bfyvhfig5u5","_id":"cjhio9np6003u6bfy6lnpzw43"},{"post_id":"cjhio9no4000c6bfyxxr9rdr3","tag_id":"cjhio9np0002x6bfy00jo2gtf","_id":"cjhio9np6003x6bfy691ehd0u"},{"post_id":"cjhio9no4000c6bfyxxr9rdr3","tag_id":"cjhio9np100316bfy8npjxkga","_id":"cjhio9np700406bfye4wvf46c"},{"post_id":"cjhio9no5000d6bfyknp555nv","tag_id":"cjhio9np5003p6bfyec7suyi9","_id":"cjhio9np9004a6bfyc5rmaf5n"},{"post_id":"cjhio9no5000d6bfyknp555nv","tag_id":"cjhio9np6003v6bfym72iyf9i","_id":"cjhio9np9004c6bfy3bhrh9dg"},{"post_id":"cjhio9no5000d6bfyknp555nv","tag_id":"cjhio9np700426bfy7wh4asgf","_id":"cjhio9npa004f6bfyekes1mr7"},{"post_id":"cjhio9no5000d6bfyknp555nv","tag_id":"cjhio9np800456bfymwr7emkk","_id":"cjhio9npa004h6bfygj0d0pqo"},{"post_id":"cjhio9no7000g6bfyz6zpip1b","tag_id":"cjhio9np5003p6bfyec7suyi9","_id":"cjhio9npb004o6bfyl2zw9ex5"},{"post_id":"cjhio9no7000g6bfyz6zpip1b","tag_id":"cjhio9np6003v6bfym72iyf9i","_id":"cjhio9npc004p6bfy7amtz5x7"},{"post_id":"cjhio9no7000g6bfyz6zpip1b","tag_id":"cjhio9np700426bfy7wh4asgf","_id":"cjhio9npc004r6bfyg27hacg7"},{"post_id":"cjhio9no7000g6bfyz6zpip1b","tag_id":"cjhio9np800456bfymwr7emkk","_id":"cjhio9npc004s6bfyl2d5wi09"},{"post_id":"cjhio9no8000i6bfyp62lsa0c","tag_id":"cjhio9np5003p6bfyec7suyi9","_id":"cjhio9npd004w6bfyhxwg7z9r"},{"post_id":"cjhio9no8000i6bfyp62lsa0c","tag_id":"cjhio9np6003v6bfym72iyf9i","_id":"cjhio9npd004x6bfy24g9hh5m"},{"post_id":"cjhio9no8000i6bfyp62lsa0c","tag_id":"cjhio9np700426bfy7wh4asgf","_id":"cjhio9npd004z6bfyeb377yd3"},{"post_id":"cjhio9no8000i6bfyp62lsa0c","tag_id":"cjhio9np800456bfymwr7emkk","_id":"cjhio9npe00506bfyii39tbig"},{"post_id":"cjhio9noa000m6bfy7x3kjnyi","tag_id":"cjhio9nnx00056bfyvd3grwba","_id":"cjhio9npe00526bfyd32yjbx2"},{"post_id":"cjhio9noa000m6bfy7x3kjnyi","tag_id":"cjhio9npd004v6bfyim04az26","_id":"cjhio9npe00536bfyocu55lwz"},{"post_id":"cjhio9nob000n6bfy38k2hih3","tag_id":"cjhio9npd004y6bfy0l0smdpb","_id":"cjhio9npf00586bfyqcmrpu0h"},{"post_id":"cjhio9nob000n6bfy38k2hih3","tag_id":"cjhio9npe00516bfy8n79izkk","_id":"cjhio9npf00596bfy13p1en5e"},{"post_id":"cjhio9nob000n6bfy38k2hih3","tag_id":"cjhio9npe00546bfy9qlju7ar","_id":"cjhio9npf005b6bfy9ep33790"},{"post_id":"cjhio9nob000n6bfy38k2hih3","tag_id":"cjhio9npe00556bfytfnm8zb2","_id":"cjhio9npf005c6bfycp1ebbc2"},{"post_id":"cjhio9nob000n6bfy38k2hih3","tag_id":"cjhio9npe00566bfynpc2obim","_id":"cjhio9npg005e6bfy4e1sraj8"},{"post_id":"cjhio9noc000q6bfy93fa8jvx","tag_id":"cjhio9now00276bfyfa54mm1a","_id":"cjhio9npg005f6bfy4m546ede"},{"post_id":"cjhio9noc000q6bfy93fa8jvx","tag_id":"cjhio9npf005a6bfyzsc20g3v","_id":"cjhio9npg005h6bfybijs1nfz"},{"post_id":"cjhio9nod000r6bfye5ty4zvr","tag_id":"cjhio9npf005d6bfyl6v2do9z","_id":"cjhio9npg005j6bfykztrhqi6"},{"post_id":"cjhio9nod000r6bfye5ty4zvr","tag_id":"cjhio9npg005g6bfydwuwgsuw","_id":"cjhio9npg005k6bfybfmlc0gq"},{"post_id":"cjhio9nof000u6bfymtlynb7x","tag_id":"cjhio9no7000f6bfyjgvdd93b","_id":"cjhio9nph005m6bfywrnacnx6"},{"post_id":"cjhio9nof000u6bfymtlynb7x","tag_id":"cjhio9npg005i6bfytrsb68bg","_id":"cjhio9nph005n6bfyfngwd2to"},{"post_id":"cjhio9nog000y6bfypk4283wv","tag_id":"cjhio9npd004y6bfy0l0smdpb","_id":"cjhio9npj005s6bfyy7xiikv1"},{"post_id":"cjhio9nog000y6bfypk4283wv","tag_id":"cjhio9npe00516bfy8n79izkk","_id":"cjhio9npj005t6bfyyfg3ky7y"},{"post_id":"cjhio9nog000y6bfypk4283wv","tag_id":"cjhio9npe00546bfy9qlju7ar","_id":"cjhio9npj005v6bfy3sjd5m6q"},{"post_id":"cjhio9nog000y6bfypk4283wv","tag_id":"cjhio9npe00556bfytfnm8zb2","_id":"cjhio9npj005w6bfy8u2qjvi3"},{"post_id":"cjhio9noh00126bfyoxe061hn","tag_id":"cjhio9npe00566bfynpc2obim","_id":"cjhio9npk005y6bfy5mhwg9zc"},{"post_id":"cjhio9noh00126bfyoxe061hn","tag_id":"cjhio9npj005u6bfy18bfb3nl","_id":"cjhio9npk005z6bfyzkn30j52"},{"post_id":"cjhio9noj00166bfy3zejfkjf","tag_id":"cjhio9npe00566bfynpc2obim","_id":"cjhio9npk00626bfyn0yya41l"},{"post_id":"cjhio9noj00166bfy3zejfkjf","tag_id":"cjhio9npk00606bfyh54ow78i","_id":"cjhio9npk00636bfypc2yult1"},{"post_id":"cjhio9nol001c6bfyqedo2cxm","tag_id":"cjhio9now00276bfyfa54mm1a","_id":"cjhio9npm00686bfyrq3ue5o3"},{"post_id":"cjhio9nol001c6bfyqedo2cxm","tag_id":"cjhio9npl00646bfyv7b3128a","_id":"cjhio9npm00696bfyga32wm1t"},{"post_id":"cjhio9nol001c6bfyqedo2cxm","tag_id":"cjhio9npl00656bfycdxqpda7","_id":"cjhio9npm006b6bfyrvxi2d4m"},{"post_id":"cjhio9nol001c6bfyqedo2cxm","tag_id":"cjhio9npl00666bfyrcikst8i","_id":"cjhio9npm006c6bfydp5t4mp1"},{"post_id":"cjhio9nom001g6bfyucvsf8gt","tag_id":"cjhio9now00276bfyfa54mm1a","_id":"cjhio9npo006g6bfyfmubiatv"},{"post_id":"cjhio9nom001g6bfyucvsf8gt","tag_id":"cjhio9npl00646bfyv7b3128a","_id":"cjhio9npp006h6bfybw3n53k3"},{"post_id":"cjhio9nom001g6bfyucvsf8gt","tag_id":"cjhio9npl00656bfycdxqpda7","_id":"cjhio9npp006j6bfykgptb9jo"},{"post_id":"cjhio9nom001g6bfyucvsf8gt","tag_id":"cjhio9npl00666bfyrcikst8i","_id":"cjhio9npp006k6bfy1vixpg9t"},{"post_id":"cjhio9non001k6bfyof9esn65","tag_id":"cjhio9npl00646bfyv7b3128a","_id":"cjhio9npq006n6bfy66w7kd7e"},{"post_id":"cjhio9non001k6bfyof9esn65","tag_id":"cjhio9npp006i6bfygor9x1zf","_id":"cjhio9npq006o6bfy4femi008"},{"post_id":"cjhio9non001k6bfyof9esn65","tag_id":"cjhio9npp006l6bfyc2ddlhyj","_id":"cjhio9npq006q6bfy1zuitojn"},{"post_id":"cjhio9nop001m6bfyzcw5wsvh","tag_id":"cjhio9noz002k6bfy763r0f0h","_id":"cjhio9npr006t6bfy82jqsipx"},{"post_id":"cjhio9nop001m6bfyzcw5wsvh","tag_id":"cjhio9npq006p6bfy68764fpb","_id":"cjhio9npr006u6bfyjgr6ot2v"},{"post_id":"cjhio9nop001m6bfyzcw5wsvh","tag_id":"cjhio9npq006r6bfy1aowz2dd","_id":"cjhio9npr006w6bfyvf4innl9"},{"post_id":"cjhio9noq001q6bfy6wfmls77","tag_id":"cjhio9npq006s6bfyw7a9npvs","_id":"cjhio9nps00706bfyi15l5a64"},{"post_id":"cjhio9noq001q6bfy6wfmls77","tag_id":"cjhio9npr006v6bfywv7j35cu","_id":"cjhio9nps00716bfyeflrrv0y"},{"post_id":"cjhio9noq001q6bfy6wfmls77","tag_id":"cjhio9npr006x6bfy6xss4xxt","_id":"cjhio9npt00736bfyritdou4l"},{"post_id":"cjhio9noq001q6bfy6wfmls77","tag_id":"cjhio9nps006y6bfyinp8n46t","_id":"cjhio9npt00746bfyrk87ji3c"},{"post_id":"cjhio9now00296bfyutad8mjn","tag_id":"cjhio9nps006z6bfy125xlzy1","_id":"cjhio9npu00776bfybcjd0fig"},{"post_id":"cjhio9now00296bfyutad8mjn","tag_id":"cjhio9npt00726bfyqb7rx7c2","_id":"cjhio9npu00786bfy47botlkg"},{"post_id":"cjhio9now00296bfyutad8mjn","tag_id":"cjhio9npt00756bfya8k0banl","_id":"cjhio9npv007a6bfy88irjw21"},{"post_id":"cjhio9nox002d6bfyppojmfe6","tag_id":"cjhio9no7000f6bfyjgvdd93b","_id":"cjhio9npv007c6bfyhjt67twq"},{"post_id":"cjhio9nox002d6bfyppojmfe6","tag_id":"cjhio9npt00766bfyqheak3wc","_id":"cjhio9npv007d6bfyx4bhwgps"},{"post_id":"cjhio9nox002d6bfyppojmfe6","tag_id":"cjhio9npu00796bfyhryxkd08","_id":"cjhio9npv007e6bfyx7j6l5if"},{"post_id":"cjhio9nox002d6bfyppojmfe6","tag_id":"cjhio9npv007b6bfyxfhr6kwv","_id":"cjhio9npv007f6bfy3vq8810p"}],"Tag":[{"name":"hexo","_id":"cjhio9nnx00056bfyvd3grwba"},{"name":"node.js","_id":"cjhio9no2000b6bfy4ep0ommp"},{"name":"android","_id":"cjhio9no7000f6bfyjgvdd93b"},{"name":"跑马灯","_id":"cjhio9no9000l6bfyxy7i5ts9"},{"name":"自定义textview","_id":"cjhio9noc000p6bfyvog0x1d1"},{"name":"wifi","_id":"cjhio9nog000w6bfy1gn9fal7"},{"name":"安卓","_id":"cjhio9nol001b6bfy9rg46gdj"},{"name":"网络","_id":"cjhio9non001i6bfynl5s003t"},{"name":"CSS3","_id":"cjhio9noq001p6bfyb4sjzb4e"},{"name":"CSS","_id":"cjhio9not001y6bfyw9nxywyd"},{"name":"HTML5","_id":"cjhio9now00276bfyfa54mm1a"},{"name":"单行显示","_id":"cjhio9noy002f6bfyw5qraxvo"},{"name":"python","_id":"cjhio9noz002k6bfy763r0f0h"},{"name":"geektool","_id":"cjhio9np0002q6bfyvhfig5u5"},{"name":"天气","_id":"cjhio9np0002x6bfy00jo2gtf"},{"name":"beautifulsoup","_id":"cjhio9np100316bfy8npjxkga"},{"name":"Hexo","_id":"cjhio9np5003p6bfyec7suyi9"},{"name":"NexT","_id":"cjhio9np6003v6bfym72iyf9i"},{"name":"相册","_id":"cjhio9np700426bfy7wh4asgf"},{"name":"Photo","_id":"cjhio9np800456bfymwr7emkk"},{"name":"置顶","_id":"cjhio9npd004v6bfyim04az26"},{"name":"持续集成","_id":"cjhio9npd004y6bfy0l0smdpb"},{"name":"版本管理","_id":"cjhio9npe00516bfy8n79izkk"},{"name":"CI","_id":"cjhio9npe00546bfy9qlju7ar"},{"name":"AppVeyor","_id":"cjhio9npe00556bfytfnm8zb2"},{"name":"git","_id":"cjhio9npe00566bfynpc2obim"},{"name":"标签","_id":"cjhio9npf005a6bfyzsc20g3v"},{"name":"mac","_id":"cjhio9npf005d6bfyl6v2do9z"},{"name":"ssh","_id":"cjhio9npg005g6bfydwuwgsuw"},{"name":"databinding","_id":"cjhio9npg005i6bfytrsb68bg"},{"name":"github","_id":"cjhio9npj005u6bfy18bfb3nl"},{"name":"untracked","_id":"cjhio9npk00606bfyh54ow78i"},{"name":"js","_id":"cjhio9npl00646bfyv7b3128a"},{"name":"JQuery","_id":"cjhio9npl00656bfycdxqpda7"},{"name":"选择器","_id":"cjhio9npl00666bfyrcikst8i"},{"name":"正则","_id":"cjhio9npp006i6bfygor9x1zf"},{"name":"判断手机号","_id":"cjhio9npp006l6bfyc2ddlhyj"},{"name":"排序","_id":"cjhio9npq006p6bfy68764fpb"},{"name":"冒泡排序","_id":"cjhio9npq006r6bfy1aowz2dd"},{"name":"魔方","_id":"cjhio9npq006s6bfyw7a9npvs"},{"name":"七阶","_id":"cjhio9npr006v6bfywv7j35cu"},{"name":"五阶","_id":"cjhio9npr006x6bfy6xss4xxt"},{"name":"中心块","_id":"cjhio9nps006y6bfyinp8n46t"},{"name":"热修复","_id":"cjhio9nps006z6bfy125xlzy1"},{"name":"hook","_id":"cjhio9npt00726bfyqb7rx7c2"},{"name":"dex","_id":"cjhio9npt00756bfya8k0banl"},{"name":"激活码","_id":"cjhio9npt00766bfyqheak3wc"},{"name":"验证码","_id":"cjhio9npu00796bfyhryxkd08"},{"name":"自定义输入框","_id":"cjhio9npv007b6bfyxfhr6kwv"}]}}